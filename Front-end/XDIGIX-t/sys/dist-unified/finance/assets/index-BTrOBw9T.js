var vO=t=>{throw TypeError(t)};var kb=(t,e,r)=>e.has(t)||vO("Cannot "+r);var V=(t,e,r)=>(kb(t,e,"read from private field"),r?r.call(t):e.get(t)),Le=(t,e,r)=>e.has(t)?vO("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),be=(t,e,r,n)=>(kb(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),st=(t,e,r)=>(kb(t,e,"access private method"),r);var gy=(t,e,r,n)=>({set _(i){be(t,e,i,r)},get _(){return V(t,e,n)}});function AD(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Ul=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var TD={exports:{}},L0={},PD={exports:{}},dt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _m=Symbol.for("react.element"),NU=Symbol.for("react.portal"),jU=Symbol.for("react.fragment"),RU=Symbol.for("react.strict_mode"),DU=Symbol.for("react.profiler"),MU=Symbol.for("react.provider"),$U=Symbol.for("react.context"),LU=Symbol.for("react.forward_ref"),FU=Symbol.for("react.suspense"),VU=Symbol.for("react.memo"),BU=Symbol.for("react.lazy"),xO=Symbol.iterator;function UU(t){return t===null||typeof t!="object"?null:(t=xO&&t[xO]||t["@@iterator"],typeof t=="function"?t:null)}var OD={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ID=Object.assign,CD={};function sf(t,e,r){this.props=t,this.context=e,this.refs=CD,this.updater=r||OD}sf.prototype.isReactComponent={};sf.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};sf.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function kD(){}kD.prototype=sf.prototype;function IS(t,e,r){this.props=t,this.context=e,this.refs=CD,this.updater=r||OD}var CS=IS.prototype=new kD;CS.constructor=IS;ID(CS,sf.prototype);CS.isPureReactComponent=!0;var bO=Array.isArray,ND=Object.prototype.hasOwnProperty,kS={current:null},jD={key:!0,ref:!0,__self:!0,__source:!0};function RD(t,e,r){var n,i={},a=null,s=null;if(e!=null)for(n in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(a=""+e.key),e)ND.call(e,n)&&!jD.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:_m,type:t,key:a,ref:s,props:i,_owner:kS.current}}function zU(t,e){return{$$typeof:_m,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function NS(t){return typeof t=="object"&&t!==null&&t.$$typeof===_m}function WU(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var wO=/\/+/g;function Nb(t,e){return typeof t=="object"&&t!==null&&t.key!=null?WU(""+t.key):e.toString(36)}function sg(t,e,r,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case _m:case NU:s=!0}}if(s)return s=t,i=i(s),t=n===""?"."+Nb(s,0):n,bO(i)?(r="",t!=null&&(r=t.replace(wO,"$&/")+"/"),sg(i,e,r,"",function(u){return u})):i!=null&&(NS(i)&&(i=zU(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(wO,"$&/")+"/")+t)),e.push(i)),1;if(s=0,n=n===""?".":n+":",bO(t))for(var o=0;o<t.length;o++){a=t[o];var l=n+Nb(a,o);s+=sg(a,e,r,l,i)}else if(l=UU(t),typeof l=="function")for(t=l.call(t),o=0;!(a=t.next()).done;)a=a.value,l=n+Nb(a,o++),s+=sg(a,e,r,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function vy(t,e,r){if(t==null)return t;var n=[],i=0;return sg(t,n,"","",function(a){return e.call(r,a,i++)}),n}function HU(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Vn={current:null},og={transition:null},qU={ReactCurrentDispatcher:Vn,ReactCurrentBatchConfig:og,ReactCurrentOwner:kS};function DD(){throw Error("act(...) is not supported in production builds of React.")}dt.Children={map:vy,forEach:function(t,e,r){vy(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return vy(t,function(){e++}),e},toArray:function(t){return vy(t,function(e){return e})||[]},only:function(t){if(!NS(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};dt.Component=sf;dt.Fragment=jU;dt.Profiler=DU;dt.PureComponent=IS;dt.StrictMode=RU;dt.Suspense=FU;dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qU;dt.act=DD;dt.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=ID({},t.props),i=t.key,a=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,s=kS.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)ND.call(e,l)&&!jD.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:_m,type:t.type,key:i,ref:a,props:n,_owner:s}};dt.createContext=function(t){return t={$$typeof:$U,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:MU,_context:t},t.Consumer=t};dt.createElement=RD;dt.createFactory=function(t){var e=RD.bind(null,t);return e.type=t,e};dt.createRef=function(){return{current:null}};dt.forwardRef=function(t){return{$$typeof:LU,render:t}};dt.isValidElement=NS;dt.lazy=function(t){return{$$typeof:BU,_payload:{_status:-1,_result:t},_init:HU}};dt.memo=function(t,e){return{$$typeof:VU,type:t,compare:e===void 0?null:e}};dt.startTransition=function(t){var e=og.transition;og.transition={};try{t()}finally{og.transition=e}};dt.unstable_act=DD;dt.useCallback=function(t,e){return Vn.current.useCallback(t,e)};dt.useContext=function(t){return Vn.current.useContext(t)};dt.useDebugValue=function(){};dt.useDeferredValue=function(t){return Vn.current.useDeferredValue(t)};dt.useEffect=function(t,e){return Vn.current.useEffect(t,e)};dt.useId=function(){return Vn.current.useId()};dt.useImperativeHandle=function(t,e,r){return Vn.current.useImperativeHandle(t,e,r)};dt.useInsertionEffect=function(t,e){return Vn.current.useInsertionEffect(t,e)};dt.useLayoutEffect=function(t,e){return Vn.current.useLayoutEffect(t,e)};dt.useMemo=function(t,e){return Vn.current.useMemo(t,e)};dt.useReducer=function(t,e,r){return Vn.current.useReducer(t,e,r)};dt.useRef=function(t){return Vn.current.useRef(t)};dt.useState=function(t){return Vn.current.useState(t)};dt.useSyncExternalStore=function(t,e,r){return Vn.current.useSyncExternalStore(t,e,r)};dt.useTransition=function(){return Vn.current.useTransition()};dt.version="18.3.1";PD.exports=dt;var T=PD.exports;const M=wt(T),ud=AD({__proto__:null,default:M},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KU=T,GU=Symbol.for("react.element"),YU=Symbol.for("react.fragment"),QU=Object.prototype.hasOwnProperty,XU=KU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ZU={key:!0,ref:!0,__self:!0,__source:!0};function MD(t,e,r){var n,i={},a=null,s=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(s=e.ref);for(n in e)QU.call(e,n)&&!ZU.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:GU,type:t,key:a,ref:s,props:i,_owner:XU.current}}L0.Fragment=YU;L0.jsx=MD;L0.jsxs=MD;TD.exports=L0;var m=TD.exports,n_={},$D={exports:{}},wi={},LD={exports:{}},FD={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,H){var Y=$.length;$.push(H);e:for(;0<Y;){var re=Y-1>>>1,X=$[re];if(0<i(X,H))$[re]=H,$[Y]=X,Y=re;else break e}}function r($){return $.length===0?null:$[0]}function n($){if($.length===0)return null;var H=$[0],Y=$.pop();if(Y!==H){$[0]=Y;e:for(var re=0,X=$.length,ae=X>>>1;re<ae;){var se=2*(re+1)-1,me=$[se],De=se+1,nt=$[De];if(0>i(me,Y))De<X&&0>i(nt,me)?($[re]=nt,$[De]=Y,re=De):($[re]=me,$[se]=Y,re=se);else if(De<X&&0>i(nt,Y))$[re]=nt,$[De]=Y,re=De;else break e}}return H}function i($,H){var Y=$.sortIndex-H.sortIndex;return Y!==0?Y:$.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],u=[],c=1,d=null,h=3,p=!1,g=!1,y=!1,v=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _($){for(var H=r(u);H!==null;){if(H.callback===null)n(u);else if(H.startTime<=$)n(u),H.sortIndex=H.expirationTime,e(l,H);else break;H=r(u)}}function O($){if(y=!1,_($),!g)if(r(l)!==null)g=!0,U(E);else{var H=r(u);H!==null&&W(O,H.startTime-$)}}function E($,H){g=!1,y&&(y=!1,b(S),S=-1),p=!0;var Y=h;try{for(_(H),d=r(l);d!==null&&(!(d.expirationTime>H)||$&&!N());){var re=d.callback;if(typeof re=="function"){d.callback=null,h=d.priorityLevel;var X=re(d.expirationTime<=H);H=t.unstable_now(),typeof X=="function"?d.callback=X:d===r(l)&&n(l),_(H)}else n(l);d=r(l)}if(d!==null)var ae=!0;else{var se=r(u);se!==null&&W(O,se.startTime-H),ae=!1}return ae}finally{d=null,h=Y,p=!1}}var P=!1,w=null,S=-1,I=5,k=-1;function N(){return!(t.unstable_now()-k<I)}function R(){if(w!==null){var $=t.unstable_now();k=$;var H=!0;try{H=w(!0,$)}finally{H?j():(P=!1,w=null)}}else P=!1}var j;if(typeof x=="function")j=function(){x(R)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,L=B.port2;B.port1.onmessage=R,j=function(){L.postMessage(null)}}else j=function(){v(R,0)};function U($){w=$,P||(P=!0,j())}function W($,H){S=v(function(){$(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,U(E))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function($){switch(h){case 1:case 2:case 3:var H=3;break;default:H=h}var Y=h;h=H;try{return $()}finally{h=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,H){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var Y=h;h=$;try{return H()}finally{h=Y}},t.unstable_scheduleCallback=function($,H,Y){var re=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?re+Y:re):Y=re,$){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=Y+X,$={id:c++,callback:H,priorityLevel:$,startTime:Y,expirationTime:X,sortIndex:-1},Y>re?($.sortIndex=Y,e(u,$),r(l)===null&&$===r(u)&&(y?(b(S),S=-1):y=!0,W(O,Y-re))):($.sortIndex=X,e(l,$),g||p||(g=!0,U(E))),$},t.unstable_shouldYield=N,t.unstable_wrapCallback=function($){var H=h;return function(){var Y=h;h=H;try{return $.apply(this,arguments)}finally{h=Y}}}})(FD);LD.exports=FD;var JU=LD.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e6=T,xi=JU;function ce(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var VD=new Set,rp={};function Hu(t,e){cd(t,e),cd(t+"Capture",e)}function cd(t,e){for(rp[t]=e,t=0;t<e.length;t++)VD.add(e[t])}var Is=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),i_=Object.prototype.hasOwnProperty,t6=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_O={},EO={};function r6(t){return i_.call(EO,t)?!0:i_.call(_O,t)?!1:t6.test(t)?EO[t]=!0:(_O[t]=!0,!1)}function n6(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function i6(t,e,r,n){if(e===null||typeof e>"u"||n6(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Bn(t,e,r,n,i,a,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=s}var un={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){un[t]=new Bn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];un[e]=new Bn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){un[t]=new Bn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){un[t]=new Bn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){un[t]=new Bn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){un[t]=new Bn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){un[t]=new Bn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){un[t]=new Bn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){un[t]=new Bn(t,5,!1,t.toLowerCase(),null,!1,!1)});var jS=/[\-:]([a-z])/g;function RS(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(jS,RS);un[e]=new Bn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(jS,RS);un[e]=new Bn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(jS,RS);un[e]=new Bn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){un[t]=new Bn(t,1,!1,t.toLowerCase(),null,!1,!1)});un.xlinkHref=new Bn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){un[t]=new Bn(t,1,!1,t.toLowerCase(),null,!0,!0)});function DS(t,e,r,n){var i=un.hasOwnProperty(e)?un[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(i6(e,r,i,n)&&(r=null),n||i===null?r6(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var zs=e6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xy=Symbol.for("react.element"),bc=Symbol.for("react.portal"),wc=Symbol.for("react.fragment"),MS=Symbol.for("react.strict_mode"),a_=Symbol.for("react.profiler"),BD=Symbol.for("react.provider"),UD=Symbol.for("react.context"),$S=Symbol.for("react.forward_ref"),s_=Symbol.for("react.suspense"),o_=Symbol.for("react.suspense_list"),LS=Symbol.for("react.memo"),fo=Symbol.for("react.lazy"),zD=Symbol.for("react.offscreen"),SO=Symbol.iterator;function Kf(t){return t===null||typeof t!="object"?null:(t=SO&&t[SO]||t["@@iterator"],typeof t=="function"?t:null)}var lr=Object.assign,jb;function vh(t){if(jb===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);jb=e&&e[1]||""}return`
`+jb+t}var Rb=!1;function Db(t,e){if(!t||Rb)return"";Rb=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=o);break}}}finally{Rb=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?vh(t):""}function a6(t){switch(t.tag){case 5:return vh(t.type);case 16:return vh("Lazy");case 13:return vh("Suspense");case 19:return vh("SuspenseList");case 0:case 2:case 15:return t=Db(t.type,!1),t;case 11:return t=Db(t.type.render,!1),t;case 1:return t=Db(t.type,!0),t;default:return""}}function l_(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case wc:return"Fragment";case bc:return"Portal";case a_:return"Profiler";case MS:return"StrictMode";case s_:return"Suspense";case o_:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case UD:return(t.displayName||"Context")+".Consumer";case BD:return(t._context.displayName||"Context")+".Provider";case $S:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case LS:return e=t.displayName||null,e!==null?e:l_(t.type)||"Memo";case fo:e=t._payload,t=t._init;try{return l_(t(e))}catch{}}return null}function s6(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return l_(e);case 8:return e===MS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function il(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function WD(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function o6(t){var e=WD(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function by(t){t._valueTracker||(t._valueTracker=o6(t))}function HD(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=WD(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function kg(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function u_(t,e){var r=e.checked;return lr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function AO(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=il(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function qD(t,e){e=e.checked,e!=null&&DS(t,"checked",e,!1)}function c_(t,e){qD(t,e);var r=il(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?d_(t,e.type,r):e.hasOwnProperty("defaultValue")&&d_(t,e.type,il(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function TO(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function d_(t,e,r){(e!=="number"||kg(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var xh=Array.isArray;function Lc(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+il(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function f_(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ce(91));return lr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function PO(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(ce(92));if(xh(r)){if(1<r.length)throw Error(ce(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:il(r)}}function KD(t,e){var r=il(e.value),n=il(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function OO(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function GD(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function h_(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?GD(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var wy,YD=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(wy=wy||document.createElement("div"),wy.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=wy.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function np(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var jh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},l6=["Webkit","ms","Moz","O"];Object.keys(jh).forEach(function(t){l6.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),jh[e]=jh[t]})});function QD(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||jh.hasOwnProperty(t)&&jh[t]?(""+e).trim():e+"px"}function XD(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=QD(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var u6=lr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function p_(t,e){if(e){if(u6[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ce(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ce(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ce(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ce(62))}}function m_(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var y_=null;function FS(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var g_=null,Fc=null,Vc=null;function IO(t){if(t=Am(t)){if(typeof g_!="function")throw Error(ce(280));var e=t.stateNode;e&&(e=z0(e),g_(t.stateNode,t.type,e))}}function ZD(t){Fc?Vc?Vc.push(t):Vc=[t]:Fc=t}function JD(){if(Fc){var t=Fc,e=Vc;if(Vc=Fc=null,IO(t),e)for(t=0;t<e.length;t++)IO(e[t])}}function eM(t,e){return t(e)}function tM(){}var Mb=!1;function rM(t,e,r){if(Mb)return t(e,r);Mb=!0;try{return eM(t,e,r)}finally{Mb=!1,(Fc!==null||Vc!==null)&&(tM(),JD())}}function ip(t,e){var r=t.stateNode;if(r===null)return null;var n=z0(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(ce(231,e,typeof r));return r}var v_=!1;if(Is)try{var Gf={};Object.defineProperty(Gf,"passive",{get:function(){v_=!0}}),window.addEventListener("test",Gf,Gf),window.removeEventListener("test",Gf,Gf)}catch{v_=!1}function c6(t,e,r,n,i,a,s,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(c){this.onError(c)}}var Rh=!1,Ng=null,jg=!1,x_=null,d6={onError:function(t){Rh=!0,Ng=t}};function f6(t,e,r,n,i,a,s,o,l){Rh=!1,Ng=null,c6.apply(d6,arguments)}function h6(t,e,r,n,i,a,s,o,l){if(f6.apply(this,arguments),Rh){if(Rh){var u=Ng;Rh=!1,Ng=null}else throw Error(ce(198));jg||(jg=!0,x_=u)}}function qu(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function nM(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function CO(t){if(qu(t)!==t)throw Error(ce(188))}function p6(t){var e=t.alternate;if(!e){if(e=qu(t),e===null)throw Error(ce(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return CO(i),t;if(a===n)return CO(i),e;a=a.sibling}throw Error(ce(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s)throw Error(ce(189))}}if(r.alternate!==n)throw Error(ce(190))}if(r.tag!==3)throw Error(ce(188));return r.stateNode.current===r?t:e}function iM(t){return t=p6(t),t!==null?aM(t):null}function aM(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=aM(t);if(e!==null)return e;t=t.sibling}return null}var sM=xi.unstable_scheduleCallback,kO=xi.unstable_cancelCallback,m6=xi.unstable_shouldYield,y6=xi.unstable_requestPaint,xr=xi.unstable_now,g6=xi.unstable_getCurrentPriorityLevel,VS=xi.unstable_ImmediatePriority,oM=xi.unstable_UserBlockingPriority,Rg=xi.unstable_NormalPriority,v6=xi.unstable_LowPriority,lM=xi.unstable_IdlePriority,F0=null,Ca=null;function x6(t){if(Ca&&typeof Ca.onCommitFiberRoot=="function")try{Ca.onCommitFiberRoot(F0,t,void 0,(t.current.flags&128)===128)}catch{}}var aa=Math.clz32?Math.clz32:_6,b6=Math.log,w6=Math.LN2;function _6(t){return t>>>=0,t===0?32:31-(b6(t)/w6|0)|0}var _y=64,Ey=4194304;function bh(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Dg(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,a=t.pingedLanes,s=r&268435455;if(s!==0){var o=s&~i;o!==0?n=bh(o):(a&=s,a!==0&&(n=bh(a)))}else s=r&~i,s!==0?n=bh(s):a!==0&&(n=bh(a));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-aa(e),i=1<<r,n|=t[r],e&=~i;return n}function E6(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function S6(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var s=31-aa(a),o=1<<s,l=i[s];l===-1?(!(o&r)||o&n)&&(i[s]=E6(o,e)):l<=e&&(t.expiredLanes|=o),a&=~o}}function b_(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function uM(){var t=_y;return _y<<=1,!(_y&4194240)&&(_y=64),t}function $b(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Em(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-aa(e),t[e]=r}function A6(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-aa(r),a=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~a}}function BS(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-aa(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Nt=0;function cM(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var dM,US,fM,hM,pM,w_=!1,Sy=[],Bo=null,Uo=null,zo=null,ap=new Map,sp=new Map,yo=[],T6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function NO(t,e){switch(t){case"focusin":case"focusout":Bo=null;break;case"dragenter":case"dragleave":Uo=null;break;case"mouseover":case"mouseout":zo=null;break;case"pointerover":case"pointerout":ap.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":sp.delete(e.pointerId)}}function Yf(t,e,r,n,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},e!==null&&(e=Am(e),e!==null&&US(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function P6(t,e,r,n,i){switch(e){case"focusin":return Bo=Yf(Bo,t,e,r,n,i),!0;case"dragenter":return Uo=Yf(Uo,t,e,r,n,i),!0;case"mouseover":return zo=Yf(zo,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return ap.set(a,Yf(ap.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,sp.set(a,Yf(sp.get(a)||null,t,e,r,n,i)),!0}return!1}function mM(t){var e=zl(t.target);if(e!==null){var r=qu(e);if(r!==null){if(e=r.tag,e===13){if(e=nM(r),e!==null){t.blockedOn=e,pM(t.priority,function(){fM(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function lg(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=__(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);y_=n,r.target.dispatchEvent(n),y_=null}else return e=Am(r),e!==null&&US(e),t.blockedOn=r,!1;e.shift()}return!0}function jO(t,e,r){lg(t)&&r.delete(e)}function O6(){w_=!1,Bo!==null&&lg(Bo)&&(Bo=null),Uo!==null&&lg(Uo)&&(Uo=null),zo!==null&&lg(zo)&&(zo=null),ap.forEach(jO),sp.forEach(jO)}function Qf(t,e){t.blockedOn===e&&(t.blockedOn=null,w_||(w_=!0,xi.unstable_scheduleCallback(xi.unstable_NormalPriority,O6)))}function op(t){function e(i){return Qf(i,t)}if(0<Sy.length){Qf(Sy[0],t);for(var r=1;r<Sy.length;r++){var n=Sy[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Bo!==null&&Qf(Bo,t),Uo!==null&&Qf(Uo,t),zo!==null&&Qf(zo,t),ap.forEach(e),sp.forEach(e),r=0;r<yo.length;r++)n=yo[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<yo.length&&(r=yo[0],r.blockedOn===null);)mM(r),r.blockedOn===null&&yo.shift()}var Bc=zs.ReactCurrentBatchConfig,Mg=!0;function I6(t,e,r,n){var i=Nt,a=Bc.transition;Bc.transition=null;try{Nt=1,zS(t,e,r,n)}finally{Nt=i,Bc.transition=a}}function C6(t,e,r,n){var i=Nt,a=Bc.transition;Bc.transition=null;try{Nt=4,zS(t,e,r,n)}finally{Nt=i,Bc.transition=a}}function zS(t,e,r,n){if(Mg){var i=__(t,e,r,n);if(i===null)Kb(t,e,n,$g,r),NO(t,n);else if(P6(i,t,e,r,n))n.stopPropagation();else if(NO(t,n),e&4&&-1<T6.indexOf(t)){for(;i!==null;){var a=Am(i);if(a!==null&&dM(a),a=__(t,e,r,n),a===null&&Kb(t,e,n,$g,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else Kb(t,e,n,null,r)}}var $g=null;function __(t,e,r,n){if($g=null,t=FS(n),t=zl(t),t!==null)if(e=qu(t),e===null)t=null;else if(r=e.tag,r===13){if(t=nM(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return $g=t,null}function yM(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(g6()){case VS:return 1;case oM:return 4;case Rg:case v6:return 16;case lM:return 536870912;default:return 16}default:return 16}}var Ro=null,WS=null,ug=null;function gM(){if(ug)return ug;var t,e=WS,r=e.length,n,i="value"in Ro?Ro.value:Ro.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var s=r-t;for(n=1;n<=s&&e[r-n]===i[a-n];n++);return ug=i.slice(t,1<n?1-n:void 0)}function cg(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ay(){return!0}function RO(){return!1}function _i(t){function e(r,n,i,a,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Ay:RO,this.isPropagationStopped=RO,this}return lr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ay)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ay)},persist:function(){},isPersistent:Ay}),e}var of={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},HS=_i(of),Sm=lr({},of,{view:0,detail:0}),k6=_i(Sm),Lb,Fb,Xf,V0=lr({},Sm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qS,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Xf&&(Xf&&t.type==="mousemove"?(Lb=t.screenX-Xf.screenX,Fb=t.screenY-Xf.screenY):Fb=Lb=0,Xf=t),Lb)},movementY:function(t){return"movementY"in t?t.movementY:Fb}}),DO=_i(V0),N6=lr({},V0,{dataTransfer:0}),j6=_i(N6),R6=lr({},Sm,{relatedTarget:0}),Vb=_i(R6),D6=lr({},of,{animationName:0,elapsedTime:0,pseudoElement:0}),M6=_i(D6),$6=lr({},of,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),L6=_i($6),F6=lr({},of,{data:0}),MO=_i(F6),V6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},B6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},U6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function z6(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=U6[t])?!!e[t]:!1}function qS(){return z6}var W6=lr({},Sm,{key:function(t){if(t.key){var e=V6[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=cg(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?B6[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qS,charCode:function(t){return t.type==="keypress"?cg(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?cg(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),H6=_i(W6),q6=lr({},V0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$O=_i(q6),K6=lr({},Sm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qS}),G6=_i(K6),Y6=lr({},of,{propertyName:0,elapsedTime:0,pseudoElement:0}),Q6=_i(Y6),X6=lr({},V0,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Z6=_i(X6),J6=[9,13,27,32],KS=Is&&"CompositionEvent"in window,Dh=null;Is&&"documentMode"in document&&(Dh=document.documentMode);var e9=Is&&"TextEvent"in window&&!Dh,vM=Is&&(!KS||Dh&&8<Dh&&11>=Dh),LO=" ",FO=!1;function xM(t,e){switch(t){case"keyup":return J6.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bM(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var _c=!1;function t9(t,e){switch(t){case"compositionend":return bM(e);case"keypress":return e.which!==32?null:(FO=!0,LO);case"textInput":return t=e.data,t===LO&&FO?null:t;default:return null}}function r9(t,e){if(_c)return t==="compositionend"||!KS&&xM(t,e)?(t=gM(),ug=WS=Ro=null,_c=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return vM&&e.locale!=="ko"?null:e.data;default:return null}}var n9={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function VO(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!n9[t.type]:e==="textarea"}function wM(t,e,r,n){ZD(n),e=Lg(e,"onChange"),0<e.length&&(r=new HS("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Mh=null,lp=null;function i9(t){NM(t,0)}function B0(t){var e=Ac(t);if(HD(e))return t}function a9(t,e){if(t==="change")return e}var _M=!1;if(Is){var Bb;if(Is){var Ub="oninput"in document;if(!Ub){var BO=document.createElement("div");BO.setAttribute("oninput","return;"),Ub=typeof BO.oninput=="function"}Bb=Ub}else Bb=!1;_M=Bb&&(!document.documentMode||9<document.documentMode)}function UO(){Mh&&(Mh.detachEvent("onpropertychange",EM),lp=Mh=null)}function EM(t){if(t.propertyName==="value"&&B0(lp)){var e=[];wM(e,lp,t,FS(t)),rM(i9,e)}}function s9(t,e,r){t==="focusin"?(UO(),Mh=e,lp=r,Mh.attachEvent("onpropertychange",EM)):t==="focusout"&&UO()}function o9(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return B0(lp)}function l9(t,e){if(t==="click")return B0(e)}function u9(t,e){if(t==="input"||t==="change")return B0(e)}function c9(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ca=typeof Object.is=="function"?Object.is:c9;function up(t,e){if(ca(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!i_.call(e,i)||!ca(t[i],e[i]))return!1}return!0}function zO(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function WO(t,e){var r=zO(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=zO(r)}}function SM(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?SM(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function AM(){for(var t=window,e=kg();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=kg(t.document)}return e}function GS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function d9(t){var e=AM(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&SM(r.ownerDocument.documentElement,r)){if(n!==null&&GS(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!t.extend&&a>n&&(i=n,n=a,a=i),i=WO(r,a);var s=WO(r,n);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>n?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var f9=Is&&"documentMode"in document&&11>=document.documentMode,Ec=null,E_=null,$h=null,S_=!1;function HO(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;S_||Ec==null||Ec!==kg(n)||(n=Ec,"selectionStart"in n&&GS(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),$h&&up($h,n)||($h=n,n=Lg(E_,"onSelect"),0<n.length&&(e=new HS("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Ec)))}function Ty(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Sc={animationend:Ty("Animation","AnimationEnd"),animationiteration:Ty("Animation","AnimationIteration"),animationstart:Ty("Animation","AnimationStart"),transitionend:Ty("Transition","TransitionEnd")},zb={},TM={};Is&&(TM=document.createElement("div").style,"AnimationEvent"in window||(delete Sc.animationend.animation,delete Sc.animationiteration.animation,delete Sc.animationstart.animation),"TransitionEvent"in window||delete Sc.transitionend.transition);function U0(t){if(zb[t])return zb[t];if(!Sc[t])return t;var e=Sc[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in TM)return zb[t]=e[r];return t}var PM=U0("animationend"),OM=U0("animationiteration"),IM=U0("animationstart"),CM=U0("transitionend"),kM=new Map,qO="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fl(t,e){kM.set(t,e),Hu(e,[t])}for(var Wb=0;Wb<qO.length;Wb++){var Hb=qO[Wb],h9=Hb.toLowerCase(),p9=Hb[0].toUpperCase()+Hb.slice(1);fl(h9,"on"+p9)}fl(PM,"onAnimationEnd");fl(OM,"onAnimationIteration");fl(IM,"onAnimationStart");fl("dblclick","onDoubleClick");fl("focusin","onFocus");fl("focusout","onBlur");fl(CM,"onTransitionEnd");cd("onMouseEnter",["mouseout","mouseover"]);cd("onMouseLeave",["mouseout","mouseover"]);cd("onPointerEnter",["pointerout","pointerover"]);cd("onPointerLeave",["pointerout","pointerover"]);Hu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Hu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Hu("onBeforeInput",["compositionend","keypress","textInput","paste"]);Hu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Hu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Hu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),m9=new Set("cancel close invalid load scroll toggle".split(" ").concat(wh));function KO(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,h6(n,e,void 0,t),t.currentTarget=null}function NM(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;KO(i,o,u),a=l}else for(s=0;s<n.length;s++){if(o=n[s],l=o.instance,u=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;KO(i,o,u),a=l}}}if(jg)throw t=x_,jg=!1,x_=null,t}function Yt(t,e){var r=e[I_];r===void 0&&(r=e[I_]=new Set);var n=t+"__bubble";r.has(n)||(jM(e,t,2,!1),r.add(n))}function qb(t,e,r){var n=0;e&&(n|=4),jM(r,t,n,e)}var Py="_reactListening"+Math.random().toString(36).slice(2);function cp(t){if(!t[Py]){t[Py]=!0,VD.forEach(function(r){r!=="selectionchange"&&(m9.has(r)||qb(r,!1,t),qb(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Py]||(e[Py]=!0,qb("selectionchange",!1,e))}}function jM(t,e,r,n){switch(yM(e)){case 1:var i=I6;break;case 4:i=C6;break;default:i=zS}r=i.bind(null,e,r,t),i=void 0,!v_||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Kb(t,e,r,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=zl(o),s===null)return;if(l=s.tag,l===5||l===6){n=a=s;continue e}o=o.parentNode}}n=n.return}rM(function(){var u=a,c=FS(r),d=[];e:{var h=kM.get(t);if(h!==void 0){var p=HS,g=t;switch(t){case"keypress":if(cg(r)===0)break e;case"keydown":case"keyup":p=H6;break;case"focusin":g="focus",p=Vb;break;case"focusout":g="blur",p=Vb;break;case"beforeblur":case"afterblur":p=Vb;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=DO;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=j6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=G6;break;case PM:case OM:case IM:p=M6;break;case CM:p=Q6;break;case"scroll":p=k6;break;case"wheel":p=Z6;break;case"copy":case"cut":case"paste":p=L6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=$O}var y=(e&4)!==0,v=!y&&t==="scroll",b=y?h!==null?h+"Capture":null:h;y=[];for(var x=u,_;x!==null;){_=x;var O=_.stateNode;if(_.tag===5&&O!==null&&(_=O,b!==null&&(O=ip(x,b),O!=null&&y.push(dp(x,O,_)))),v)break;x=x.return}0<y.length&&(h=new p(h,g,null,r,c),d.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&r!==y_&&(g=r.relatedTarget||r.fromElement)&&(zl(g)||g[Cs]))break e;if((p||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=r.relatedTarget||r.toElement,p=u,g=g?zl(g):null,g!==null&&(v=qu(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(y=DO,O="onMouseLeave",b="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(y=$O,O="onPointerLeave",b="onPointerEnter",x="pointer"),v=p==null?h:Ac(p),_=g==null?h:Ac(g),h=new y(O,x+"leave",p,r,c),h.target=v,h.relatedTarget=_,O=null,zl(c)===u&&(y=new y(b,x+"enter",g,r,c),y.target=_,y.relatedTarget=v,O=y),v=O,p&&g)t:{for(y=p,b=g,x=0,_=y;_;_=lc(_))x++;for(_=0,O=b;O;O=lc(O))_++;for(;0<x-_;)y=lc(y),x--;for(;0<_-x;)b=lc(b),_--;for(;x--;){if(y===b||b!==null&&y===b.alternate)break t;y=lc(y),b=lc(b)}y=null}else y=null;p!==null&&GO(d,h,p,y,!1),g!==null&&v!==null&&GO(d,v,g,y,!0)}}e:{if(h=u?Ac(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var E=a9;else if(VO(h))if(_M)E=u9;else{E=o9;var P=s9}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=l9);if(E&&(E=E(t,u))){wM(d,E,r,c);break e}P&&P(t,h,u),t==="focusout"&&(P=h._wrapperState)&&P.controlled&&h.type==="number"&&d_(h,"number",h.value)}switch(P=u?Ac(u):window,t){case"focusin":(VO(P)||P.contentEditable==="true")&&(Ec=P,E_=u,$h=null);break;case"focusout":$h=E_=Ec=null;break;case"mousedown":S_=!0;break;case"contextmenu":case"mouseup":case"dragend":S_=!1,HO(d,r,c);break;case"selectionchange":if(f9)break;case"keydown":case"keyup":HO(d,r,c)}var w;if(KS)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else _c?xM(t,r)&&(S="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(vM&&r.locale!=="ko"&&(_c||S!=="onCompositionStart"?S==="onCompositionEnd"&&_c&&(w=gM()):(Ro=c,WS="value"in Ro?Ro.value:Ro.textContent,_c=!0)),P=Lg(u,S),0<P.length&&(S=new MO(S,t,null,r,c),d.push({event:S,listeners:P}),w?S.data=w:(w=bM(r),w!==null&&(S.data=w)))),(w=e9?t9(t,r):r9(t,r))&&(u=Lg(u,"onBeforeInput"),0<u.length&&(c=new MO("onBeforeInput","beforeinput",null,r,c),d.push({event:c,listeners:u}),c.data=w))}NM(d,e)})}function dp(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Lg(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=ip(t,r),a!=null&&n.unshift(dp(t,a,i)),a=ip(t,e),a!=null&&n.push(dp(t,a,i))),t=t.return}return n}function lc(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function GO(t,e,r,n,i){for(var a=e._reactName,s=[];r!==null&&r!==n;){var o=r,l=o.alternate,u=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&u!==null&&(o=u,i?(l=ip(r,a),l!=null&&s.unshift(dp(r,l,o))):i||(l=ip(r,a),l!=null&&s.push(dp(r,l,o)))),r=r.return}s.length!==0&&t.push({event:e,listeners:s})}var y9=/\r\n?/g,g9=/\u0000|\uFFFD/g;function YO(t){return(typeof t=="string"?t:""+t).replace(y9,`
`).replace(g9,"")}function Oy(t,e,r){if(e=YO(e),YO(t)!==e&&r)throw Error(ce(425))}function Fg(){}var A_=null,T_=null;function P_(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var O_=typeof setTimeout=="function"?setTimeout:void 0,v9=typeof clearTimeout=="function"?clearTimeout:void 0,QO=typeof Promise=="function"?Promise:void 0,x9=typeof queueMicrotask=="function"?queueMicrotask:typeof QO<"u"?function(t){return QO.resolve(null).then(t).catch(b9)}:O_;function b9(t){setTimeout(function(){throw t})}function Gb(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),op(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);op(e)}function Wo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function XO(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var lf=Math.random().toString(36).slice(2),Pa="__reactFiber$"+lf,fp="__reactProps$"+lf,Cs="__reactContainer$"+lf,I_="__reactEvents$"+lf,w9="__reactListeners$"+lf,_9="__reactHandles$"+lf;function zl(t){var e=t[Pa];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Cs]||r[Pa]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=XO(t);t!==null;){if(r=t[Pa])return r;t=XO(t)}return e}t=r,r=t.parentNode}return null}function Am(t){return t=t[Pa]||t[Cs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ac(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ce(33))}function z0(t){return t[fp]||null}var C_=[],Tc=-1;function hl(t){return{current:t}}function er(t){0>Tc||(t.current=C_[Tc],C_[Tc]=null,Tc--)}function Wt(t,e){Tc++,C_[Tc]=t.current,t.current=e}var al={},An=hl(al),Zn=hl(!1),vu=al;function dd(t,e){var r=t.type.contextTypes;if(!r)return al;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Jn(t){return t=t.childContextTypes,t!=null}function Vg(){er(Zn),er(An)}function ZO(t,e,r){if(An.current!==al)throw Error(ce(168));Wt(An,e),Wt(Zn,r)}function RM(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(ce(108,s6(t)||"Unknown",i));return lr({},r,n)}function Bg(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||al,vu=An.current,Wt(An,t),Wt(Zn,Zn.current),!0}function JO(t,e,r){var n=t.stateNode;if(!n)throw Error(ce(169));r?(t=RM(t,e,vu),n.__reactInternalMemoizedMergedChildContext=t,er(Zn),er(An),Wt(An,t)):er(Zn),Wt(Zn,r)}var ss=null,W0=!1,Yb=!1;function DM(t){ss===null?ss=[t]:ss.push(t)}function E9(t){W0=!0,DM(t)}function pl(){if(!Yb&&ss!==null){Yb=!0;var t=0,e=Nt;try{var r=ss;for(Nt=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}ss=null,W0=!1}catch(i){throw ss!==null&&(ss=ss.slice(t+1)),sM(VS,pl),i}finally{Nt=e,Yb=!1}}return null}var Pc=[],Oc=0,Ug=null,zg=0,Ii=[],Ci=0,xu=null,ds=1,fs="";function Nl(t,e){Pc[Oc++]=zg,Pc[Oc++]=Ug,Ug=t,zg=e}function MM(t,e,r){Ii[Ci++]=ds,Ii[Ci++]=fs,Ii[Ci++]=xu,xu=t;var n=ds;t=fs;var i=32-aa(n)-1;n&=~(1<<i),r+=1;var a=32-aa(e)+i;if(30<a){var s=i-i%5;a=(n&(1<<s)-1).toString(32),n>>=s,i-=s,ds=1<<32-aa(e)+i|r<<i|n,fs=a+t}else ds=1<<a|r<<i|n,fs=t}function YS(t){t.return!==null&&(Nl(t,1),MM(t,1,0))}function QS(t){for(;t===Ug;)Ug=Pc[--Oc],Pc[Oc]=null,zg=Pc[--Oc],Pc[Oc]=null;for(;t===xu;)xu=Ii[--Ci],Ii[Ci]=null,fs=Ii[--Ci],Ii[Ci]=null,ds=Ii[--Ci],Ii[Ci]=null}var yi=null,mi=null,nr=!1,ea=null;function $M(t,e){var r=ji(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function eI(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,yi=t,mi=Wo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,yi=t,mi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=xu!==null?{id:ds,overflow:fs}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=ji(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,yi=t,mi=null,!0):!1;default:return!1}}function k_(t){return(t.mode&1)!==0&&(t.flags&128)===0}function N_(t){if(nr){var e=mi;if(e){var r=e;if(!eI(t,e)){if(k_(t))throw Error(ce(418));e=Wo(r.nextSibling);var n=yi;e&&eI(t,e)?$M(n,r):(t.flags=t.flags&-4097|2,nr=!1,yi=t)}}else{if(k_(t))throw Error(ce(418));t.flags=t.flags&-4097|2,nr=!1,yi=t}}}function tI(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;yi=t}function Iy(t){if(t!==yi)return!1;if(!nr)return tI(t),nr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!P_(t.type,t.memoizedProps)),e&&(e=mi)){if(k_(t))throw LM(),Error(ce(418));for(;e;)$M(t,e),e=Wo(e.nextSibling)}if(tI(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ce(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){mi=Wo(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}mi=null}}else mi=yi?Wo(t.stateNode.nextSibling):null;return!0}function LM(){for(var t=mi;t;)t=Wo(t.nextSibling)}function fd(){mi=yi=null,nr=!1}function XS(t){ea===null?ea=[t]:ea.push(t)}var S9=zs.ReactCurrentBatchConfig;function Zf(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ce(309));var n=r.stateNode}if(!n)throw Error(ce(147,t));var i=n,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},e._stringRef=a,e)}if(typeof t!="string")throw Error(ce(284));if(!r._owner)throw Error(ce(290,t))}return t}function Cy(t,e){throw t=Object.prototype.toString.call(e),Error(ce(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function rI(t){var e=t._init;return e(t._payload)}function FM(t){function e(b,x){if(t){var _=b.deletions;_===null?(b.deletions=[x],b.flags|=16):_.push(x)}}function r(b,x){if(!t)return null;for(;x!==null;)e(b,x),x=x.sibling;return null}function n(b,x){for(b=new Map;x!==null;)x.key!==null?b.set(x.key,x):b.set(x.index,x),x=x.sibling;return b}function i(b,x){return b=Go(b,x),b.index=0,b.sibling=null,b}function a(b,x,_){return b.index=_,t?(_=b.alternate,_!==null?(_=_.index,_<x?(b.flags|=2,x):_):(b.flags|=2,x)):(b.flags|=1048576,x)}function s(b){return t&&b.alternate===null&&(b.flags|=2),b}function o(b,x,_,O){return x===null||x.tag!==6?(x=rw(_,b.mode,O),x.return=b,x):(x=i(x,_),x.return=b,x)}function l(b,x,_,O){var E=_.type;return E===wc?c(b,x,_.props.children,O,_.key):x!==null&&(x.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===fo&&rI(E)===x.type)?(O=i(x,_.props),O.ref=Zf(b,x,_),O.return=b,O):(O=gg(_.type,_.key,_.props,null,b.mode,O),O.ref=Zf(b,x,_),O.return=b,O)}function u(b,x,_,O){return x===null||x.tag!==4||x.stateNode.containerInfo!==_.containerInfo||x.stateNode.implementation!==_.implementation?(x=nw(_,b.mode,O),x.return=b,x):(x=i(x,_.children||[]),x.return=b,x)}function c(b,x,_,O,E){return x===null||x.tag!==7?(x=fu(_,b.mode,O,E),x.return=b,x):(x=i(x,_),x.return=b,x)}function d(b,x,_){if(typeof x=="string"&&x!==""||typeof x=="number")return x=rw(""+x,b.mode,_),x.return=b,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case xy:return _=gg(x.type,x.key,x.props,null,b.mode,_),_.ref=Zf(b,null,x),_.return=b,_;case bc:return x=nw(x,b.mode,_),x.return=b,x;case fo:var O=x._init;return d(b,O(x._payload),_)}if(xh(x)||Kf(x))return x=fu(x,b.mode,_,null),x.return=b,x;Cy(b,x)}return null}function h(b,x,_,O){var E=x!==null?x.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return E!==null?null:o(b,x,""+_,O);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case xy:return _.key===E?l(b,x,_,O):null;case bc:return _.key===E?u(b,x,_,O):null;case fo:return E=_._init,h(b,x,E(_._payload),O)}if(xh(_)||Kf(_))return E!==null?null:c(b,x,_,O,null);Cy(b,_)}return null}function p(b,x,_,O,E){if(typeof O=="string"&&O!==""||typeof O=="number")return b=b.get(_)||null,o(x,b,""+O,E);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case xy:return b=b.get(O.key===null?_:O.key)||null,l(x,b,O,E);case bc:return b=b.get(O.key===null?_:O.key)||null,u(x,b,O,E);case fo:var P=O._init;return p(b,x,_,P(O._payload),E)}if(xh(O)||Kf(O))return b=b.get(_)||null,c(x,b,O,E,null);Cy(x,O)}return null}function g(b,x,_,O){for(var E=null,P=null,w=x,S=x=0,I=null;w!==null&&S<_.length;S++){w.index>S?(I=w,w=null):I=w.sibling;var k=h(b,w,_[S],O);if(k===null){w===null&&(w=I);break}t&&w&&k.alternate===null&&e(b,w),x=a(k,x,S),P===null?E=k:P.sibling=k,P=k,w=I}if(S===_.length)return r(b,w),nr&&Nl(b,S),E;if(w===null){for(;S<_.length;S++)w=d(b,_[S],O),w!==null&&(x=a(w,x,S),P===null?E=w:P.sibling=w,P=w);return nr&&Nl(b,S),E}for(w=n(b,w);S<_.length;S++)I=p(w,b,S,_[S],O),I!==null&&(t&&I.alternate!==null&&w.delete(I.key===null?S:I.key),x=a(I,x,S),P===null?E=I:P.sibling=I,P=I);return t&&w.forEach(function(N){return e(b,N)}),nr&&Nl(b,S),E}function y(b,x,_,O){var E=Kf(_);if(typeof E!="function")throw Error(ce(150));if(_=E.call(_),_==null)throw Error(ce(151));for(var P=E=null,w=x,S=x=0,I=null,k=_.next();w!==null&&!k.done;S++,k=_.next()){w.index>S?(I=w,w=null):I=w.sibling;var N=h(b,w,k.value,O);if(N===null){w===null&&(w=I);break}t&&w&&N.alternate===null&&e(b,w),x=a(N,x,S),P===null?E=N:P.sibling=N,P=N,w=I}if(k.done)return r(b,w),nr&&Nl(b,S),E;if(w===null){for(;!k.done;S++,k=_.next())k=d(b,k.value,O),k!==null&&(x=a(k,x,S),P===null?E=k:P.sibling=k,P=k);return nr&&Nl(b,S),E}for(w=n(b,w);!k.done;S++,k=_.next())k=p(w,b,S,k.value,O),k!==null&&(t&&k.alternate!==null&&w.delete(k.key===null?S:k.key),x=a(k,x,S),P===null?E=k:P.sibling=k,P=k);return t&&w.forEach(function(R){return e(b,R)}),nr&&Nl(b,S),E}function v(b,x,_,O){if(typeof _=="object"&&_!==null&&_.type===wc&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case xy:e:{for(var E=_.key,P=x;P!==null;){if(P.key===E){if(E=_.type,E===wc){if(P.tag===7){r(b,P.sibling),x=i(P,_.props.children),x.return=b,b=x;break e}}else if(P.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===fo&&rI(E)===P.type){r(b,P.sibling),x=i(P,_.props),x.ref=Zf(b,P,_),x.return=b,b=x;break e}r(b,P);break}else e(b,P);P=P.sibling}_.type===wc?(x=fu(_.props.children,b.mode,O,_.key),x.return=b,b=x):(O=gg(_.type,_.key,_.props,null,b.mode,O),O.ref=Zf(b,x,_),O.return=b,b=O)}return s(b);case bc:e:{for(P=_.key;x!==null;){if(x.key===P)if(x.tag===4&&x.stateNode.containerInfo===_.containerInfo&&x.stateNode.implementation===_.implementation){r(b,x.sibling),x=i(x,_.children||[]),x.return=b,b=x;break e}else{r(b,x);break}else e(b,x);x=x.sibling}x=nw(_,b.mode,O),x.return=b,b=x}return s(b);case fo:return P=_._init,v(b,x,P(_._payload),O)}if(xh(_))return g(b,x,_,O);if(Kf(_))return y(b,x,_,O);Cy(b,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,x!==null&&x.tag===6?(r(b,x.sibling),x=i(x,_),x.return=b,b=x):(r(b,x),x=rw(_,b.mode,O),x.return=b,b=x),s(b)):r(b,x)}return v}var hd=FM(!0),VM=FM(!1),Wg=hl(null),Hg=null,Ic=null,ZS=null;function JS(){ZS=Ic=Hg=null}function eA(t){var e=Wg.current;er(Wg),t._currentValue=e}function j_(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Uc(t,e){Hg=t,ZS=Ic=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Yn=!0),t.firstContext=null)}function Mi(t){var e=t._currentValue;if(ZS!==t)if(t={context:t,memoizedValue:e,next:null},Ic===null){if(Hg===null)throw Error(ce(308));Ic=t,Hg.dependencies={lanes:0,firstContext:t}}else Ic=Ic.next=t;return e}var Wl=null;function tA(t){Wl===null?Wl=[t]:Wl.push(t)}function BM(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,tA(e)):(r.next=i.next,i.next=r),e.interleaved=r,ks(t,n)}function ks(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var ho=!1;function rA(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function UM(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ws(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ho(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,bt&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,ks(t,r)}return i=n.interleaved,i===null?(e.next=e,tA(n)):(e.next=i.next,i.next=e),n.interleaved=e,ks(t,r)}function dg(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,BS(t,r)}}function nI(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=s:a=a.next=s,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function qg(t,e,r,n){var i=t.updateQueue;ho=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,s===null?a=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==s&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(a!==null){var d=i.baseState;s=0,c=u=l=null,o=a;do{var h=o.lane,p=o.eventTime;if((n&h)===h){c!==null&&(c=c.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=t,y=o;switch(h=e,p=r,y.tag){case 1:if(g=y.payload,typeof g=="function"){d=g.call(p,d,h);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,h=typeof g=="function"?g.call(p,d,h):g,h==null)break e;d=lr({},d,h);break e;case 2:ho=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=p,l=d):c=c.next=p,s|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);wu|=s,t.lanes=s,t.memoizedState=d}}function iI(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(ce(191,i));i.call(n)}}}var Tm={},ka=hl(Tm),hp=hl(Tm),pp=hl(Tm);function Hl(t){if(t===Tm)throw Error(ce(174));return t}function nA(t,e){switch(Wt(pp,e),Wt(hp,t),Wt(ka,Tm),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:h_(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=h_(e,t)}er(ka),Wt(ka,e)}function pd(){er(ka),er(hp),er(pp)}function zM(t){Hl(pp.current);var e=Hl(ka.current),r=h_(e,t.type);e!==r&&(Wt(hp,t),Wt(ka,r))}function iA(t){hp.current===t&&(er(ka),er(hp))}var ar=hl(0);function Kg(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Qb=[];function aA(){for(var t=0;t<Qb.length;t++)Qb[t]._workInProgressVersionPrimary=null;Qb.length=0}var fg=zs.ReactCurrentDispatcher,Xb=zs.ReactCurrentBatchConfig,bu=0,sr=null,Mr=null,Gr=null,Gg=!1,Lh=!1,mp=0,A9=0;function yn(){throw Error(ce(321))}function sA(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!ca(t[r],e[r]))return!1;return!0}function oA(t,e,r,n,i,a){if(bu=a,sr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,fg.current=t===null||t.memoizedState===null?I9:C9,t=r(n,i),Lh){a=0;do{if(Lh=!1,mp=0,25<=a)throw Error(ce(301));a+=1,Gr=Mr=null,e.updateQueue=null,fg.current=k9,t=r(n,i)}while(Lh)}if(fg.current=Yg,e=Mr!==null&&Mr.next!==null,bu=0,Gr=Mr=sr=null,Gg=!1,e)throw Error(ce(300));return t}function lA(){var t=mp!==0;return mp=0,t}function _a(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gr===null?sr.memoizedState=Gr=t:Gr=Gr.next=t,Gr}function $i(){if(Mr===null){var t=sr.alternate;t=t!==null?t.memoizedState:null}else t=Mr.next;var e=Gr===null?sr.memoizedState:Gr.next;if(e!==null)Gr=e,Mr=t;else{if(t===null)throw Error(ce(310));Mr=t,t={memoizedState:Mr.memoizedState,baseState:Mr.baseState,baseQueue:Mr.baseQueue,queue:Mr.queue,next:null},Gr===null?sr.memoizedState=Gr=t:Gr=Gr.next=t}return Gr}function yp(t,e){return typeof e=="function"?e(t):e}function Zb(t){var e=$i(),r=e.queue;if(r===null)throw Error(ce(311));r.lastRenderedReducer=t;var n=Mr,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var o=s=null,l=null,u=a;do{var c=u.lane;if((bu&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=d,s=n):l=l.next=d,sr.lanes|=c,wu|=c}u=u.next}while(u!==null&&u!==a);l===null?s=n:l.next=o,ca(n,e.memoizedState)||(Yn=!0),e.memoizedState=n,e.baseState=s,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do a=i.lane,sr.lanes|=a,wu|=a,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Jb(t){var e=$i(),r=e.queue;if(r===null)throw Error(ce(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do a=t(a,s.action),s=s.next;while(s!==i);ca(a,e.memoizedState)||(Yn=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function WM(){}function HM(t,e){var r=sr,n=$i(),i=e(),a=!ca(n.memoizedState,i);if(a&&(n.memoizedState=i,Yn=!0),n=n.queue,uA(GM.bind(null,r,n,t),[t]),n.getSnapshot!==e||a||Gr!==null&&Gr.memoizedState.tag&1){if(r.flags|=2048,gp(9,KM.bind(null,r,n,i,e),void 0,null),Qr===null)throw Error(ce(349));bu&30||qM(r,e,i)}return i}function qM(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=sr.updateQueue,e===null?(e={lastEffect:null,stores:null},sr.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function KM(t,e,r,n){e.value=r,e.getSnapshot=n,YM(e)&&QM(t)}function GM(t,e,r){return r(function(){YM(e)&&QM(t)})}function YM(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!ca(t,r)}catch{return!0}}function QM(t){var e=ks(t,1);e!==null&&sa(e,t,1,-1)}function aI(t){var e=_a();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yp,lastRenderedState:t},e.queue=t,t=t.dispatch=O9.bind(null,sr,t),[e.memoizedState,t]}function gp(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=sr.updateQueue,e===null?(e={lastEffect:null,stores:null},sr.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function XM(){return $i().memoizedState}function hg(t,e,r,n){var i=_a();sr.flags|=t,i.memoizedState=gp(1|e,r,void 0,n===void 0?null:n)}function H0(t,e,r,n){var i=$i();n=n===void 0?null:n;var a=void 0;if(Mr!==null){var s=Mr.memoizedState;if(a=s.destroy,n!==null&&sA(n,s.deps)){i.memoizedState=gp(e,r,a,n);return}}sr.flags|=t,i.memoizedState=gp(1|e,r,a,n)}function sI(t,e){return hg(8390656,8,t,e)}function uA(t,e){return H0(2048,8,t,e)}function ZM(t,e){return H0(4,2,t,e)}function JM(t,e){return H0(4,4,t,e)}function e$(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function t$(t,e,r){return r=r!=null?r.concat([t]):null,H0(4,4,e$.bind(null,e,t),r)}function cA(){}function r$(t,e){var r=$i();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&sA(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function n$(t,e){var r=$i();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&sA(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function i$(t,e,r){return bu&21?(ca(r,e)||(r=uM(),sr.lanes|=r,wu|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Yn=!0),t.memoizedState=r)}function T9(t,e){var r=Nt;Nt=r!==0&&4>r?r:4,t(!0);var n=Xb.transition;Xb.transition={};try{t(!1),e()}finally{Nt=r,Xb.transition=n}}function a$(){return $i().memoizedState}function P9(t,e,r){var n=Ko(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},s$(t))o$(e,r);else if(r=BM(t,e,r,n),r!==null){var i=Ln();sa(r,t,n,i),l$(r,e,n)}}function O9(t,e,r){var n=Ko(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(s$(t))o$(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,o=a(s,r);if(i.hasEagerState=!0,i.eagerState=o,ca(o,s)){var l=e.interleaved;l===null?(i.next=i,tA(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=BM(t,e,i,n),r!==null&&(i=Ln(),sa(r,t,n,i),l$(r,e,n))}}function s$(t){var e=t.alternate;return t===sr||e!==null&&e===sr}function o$(t,e){Lh=Gg=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function l$(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,BS(t,r)}}var Yg={readContext:Mi,useCallback:yn,useContext:yn,useEffect:yn,useImperativeHandle:yn,useInsertionEffect:yn,useLayoutEffect:yn,useMemo:yn,useReducer:yn,useRef:yn,useState:yn,useDebugValue:yn,useDeferredValue:yn,useTransition:yn,useMutableSource:yn,useSyncExternalStore:yn,useId:yn,unstable_isNewReconciler:!1},I9={readContext:Mi,useCallback:function(t,e){return _a().memoizedState=[t,e===void 0?null:e],t},useContext:Mi,useEffect:sI,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,hg(4194308,4,e$.bind(null,e,t),r)},useLayoutEffect:function(t,e){return hg(4194308,4,t,e)},useInsertionEffect:function(t,e){return hg(4,2,t,e)},useMemo:function(t,e){var r=_a();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=_a();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=P9.bind(null,sr,t),[n.memoizedState,t]},useRef:function(t){var e=_a();return t={current:t},e.memoizedState=t},useState:aI,useDebugValue:cA,useDeferredValue:function(t){return _a().memoizedState=t},useTransition:function(){var t=aI(!1),e=t[0];return t=T9.bind(null,t[1]),_a().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=sr,i=_a();if(nr){if(r===void 0)throw Error(ce(407));r=r()}else{if(r=e(),Qr===null)throw Error(ce(349));bu&30||qM(n,e,r)}i.memoizedState=r;var a={value:r,getSnapshot:e};return i.queue=a,sI(GM.bind(null,n,a,t),[t]),n.flags|=2048,gp(9,KM.bind(null,n,a,r,e),void 0,null),r},useId:function(){var t=_a(),e=Qr.identifierPrefix;if(nr){var r=fs,n=ds;r=(n&~(1<<32-aa(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=mp++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=A9++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},C9={readContext:Mi,useCallback:r$,useContext:Mi,useEffect:uA,useImperativeHandle:t$,useInsertionEffect:ZM,useLayoutEffect:JM,useMemo:n$,useReducer:Zb,useRef:XM,useState:function(){return Zb(yp)},useDebugValue:cA,useDeferredValue:function(t){var e=$i();return i$(e,Mr.memoizedState,t)},useTransition:function(){var t=Zb(yp)[0],e=$i().memoizedState;return[t,e]},useMutableSource:WM,useSyncExternalStore:HM,useId:a$,unstable_isNewReconciler:!1},k9={readContext:Mi,useCallback:r$,useContext:Mi,useEffect:uA,useImperativeHandle:t$,useInsertionEffect:ZM,useLayoutEffect:JM,useMemo:n$,useReducer:Jb,useRef:XM,useState:function(){return Jb(yp)},useDebugValue:cA,useDeferredValue:function(t){var e=$i();return Mr===null?e.memoizedState=t:i$(e,Mr.memoizedState,t)},useTransition:function(){var t=Jb(yp)[0],e=$i().memoizedState;return[t,e]},useMutableSource:WM,useSyncExternalStore:HM,useId:a$,unstable_isNewReconciler:!1};function Ki(t,e){if(t&&t.defaultProps){e=lr({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function R_(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:lr({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var q0={isMounted:function(t){return(t=t._reactInternals)?qu(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Ln(),i=Ko(t),a=ws(n,i);a.payload=e,r!=null&&(a.callback=r),e=Ho(t,a,i),e!==null&&(sa(e,t,i,n),dg(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Ln(),i=Ko(t),a=ws(n,i);a.tag=1,a.payload=e,r!=null&&(a.callback=r),e=Ho(t,a,i),e!==null&&(sa(e,t,i,n),dg(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Ln(),n=Ko(t),i=ws(r,n);i.tag=2,e!=null&&(i.callback=e),e=Ho(t,i,n),e!==null&&(sa(e,t,n,r),dg(e,t,n))}};function oI(t,e,r,n,i,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,s):e.prototype&&e.prototype.isPureReactComponent?!up(r,n)||!up(i,a):!0}function u$(t,e,r){var n=!1,i=al,a=e.contextType;return typeof a=="object"&&a!==null?a=Mi(a):(i=Jn(e)?vu:An.current,n=e.contextTypes,a=(n=n!=null)?dd(t,i):al),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=q0,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function lI(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&q0.enqueueReplaceState(e,e.state,null)}function D_(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},rA(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=Mi(a):(a=Jn(e)?vu:An.current,i.context=dd(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(R_(t,e,a,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&q0.enqueueReplaceState(i,i.state,null),qg(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function md(t,e){try{var r="",n=e;do r+=a6(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function ew(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function M_(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var N9=typeof WeakMap=="function"?WeakMap:Map;function c$(t,e,r){r=ws(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Xg||(Xg=!0,q_=n),M_(t,e)},r}function d$(t,e,r){r=ws(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){M_(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){M_(t,e),typeof n!="function"&&(qo===null?qo=new Set([this]):qo.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),r}function uI(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new N9;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=q9.bind(null,t,e,r),e.then(t,t))}function cI(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function dI(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=ws(-1,1),e.tag=2,Ho(r,e,1))),r.lanes|=1),t)}var j9=zs.ReactCurrentOwner,Yn=!1;function jn(t,e,r,n){e.child=t===null?VM(e,null,r,n):hd(e,t.child,r,n)}function fI(t,e,r,n,i){r=r.render;var a=e.ref;return Uc(e,i),n=oA(t,e,r,n,a,i),r=lA(),t!==null&&!Yn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ns(t,e,i)):(nr&&r&&YS(e),e.flags|=1,jn(t,e,n,i),e.child)}function hI(t,e,r,n,i){if(t===null){var a=r.type;return typeof a=="function"&&!vA(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,f$(t,e,a,n,i)):(t=gg(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var s=a.memoizedProps;if(r=r.compare,r=r!==null?r:up,r(s,n)&&t.ref===e.ref)return Ns(t,e,i)}return e.flags|=1,t=Go(a,n),t.ref=e.ref,t.return=e,e.child=t}function f$(t,e,r,n,i){if(t!==null){var a=t.memoizedProps;if(up(a,n)&&t.ref===e.ref)if(Yn=!1,e.pendingProps=n=a,(t.lanes&i)!==0)t.flags&131072&&(Yn=!0);else return e.lanes=t.lanes,Ns(t,e,i)}return $_(t,e,r,n,i)}function h$(t,e,r){var n=e.pendingProps,i=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Wt(kc,ci),ci|=r;else{if(!(r&1073741824))return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Wt(kc,ci),ci|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Wt(kc,ci),ci|=n}else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,Wt(kc,ci),ci|=n;return jn(t,e,i,r),e.child}function p$(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function $_(t,e,r,n,i){var a=Jn(r)?vu:An.current;return a=dd(e,a),Uc(e,i),r=oA(t,e,r,n,a,i),n=lA(),t!==null&&!Yn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ns(t,e,i)):(nr&&n&&YS(e),e.flags|=1,jn(t,e,r,i),e.child)}function pI(t,e,r,n,i){if(Jn(r)){var a=!0;Bg(e)}else a=!1;if(Uc(e,i),e.stateNode===null)pg(t,e),u$(e,r,n),D_(e,r,n,i),n=!0;else if(t===null){var s=e.stateNode,o=e.memoizedProps;s.props=o;var l=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=Mi(u):(u=Jn(r)?vu:An.current,u=dd(e,u));var c=r.getDerivedStateFromProps,d=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||l!==u)&&lI(e,s,n,u),ho=!1;var h=e.memoizedState;s.state=h,qg(e,n,s,i),l=e.memoizedState,o!==n||h!==l||Zn.current||ho?(typeof c=="function"&&(R_(e,r,c,n),l=e.memoizedState),(o=ho||oI(e,r,o,n,h,l,u))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),s.props=n,s.state=l,s.context=u,n=o):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{s=e.stateNode,UM(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:Ki(e.type,o),s.props=u,d=e.pendingProps,h=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=Mi(l):(l=Jn(r)?vu:An.current,l=dd(e,l));var p=r.getDerivedStateFromProps;(c=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==d||h!==l)&&lI(e,s,n,l),ho=!1,h=e.memoizedState,s.state=h,qg(e,n,s,i);var g=e.memoizedState;o!==d||h!==g||Zn.current||ho?(typeof p=="function"&&(R_(e,r,p,n),g=e.memoizedState),(u=ho||oI(e,r,u,n,h,g,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,g,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=g),s.props=n,s.state=g,s.context=l,n=u):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return L_(t,e,r,n,a,i)}function L_(t,e,r,n,i,a){p$(t,e);var s=(e.flags&128)!==0;if(!n&&!s)return i&&JO(e,r,!1),Ns(t,e,a);n=e.stateNode,j9.current=e;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&s?(e.child=hd(e,t.child,null,a),e.child=hd(e,null,o,a)):jn(t,e,o,a),e.memoizedState=n.state,i&&JO(e,r,!0),e.child}function m$(t){var e=t.stateNode;e.pendingContext?ZO(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ZO(t,e.context,!1),nA(t,e.containerInfo)}function mI(t,e,r,n,i){return fd(),XS(i),e.flags|=256,jn(t,e,r,n),e.child}var F_={dehydrated:null,treeContext:null,retryLane:0};function V_(t){return{baseLanes:t,cachePool:null,transitions:null}}function y$(t,e,r){var n=e.pendingProps,i=ar.current,a=!1,s=(e.flags&128)!==0,o;if((o=s)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Wt(ar,i&1),t===null)return N_(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=n.children,t=n.fallback,a?(n=e.mode,a=e.child,s={mode:"hidden",children:s},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=Y0(s,n,0,null),t=fu(t,n,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=V_(r),e.memoizedState=F_,t):dA(e,s));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return R9(t,e,s,n,o,i,r);if(a){a=n.fallback,s=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Go(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=Go(o,a):(a=fu(a,s,r,null),a.flags|=2),a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,s=t.child.memoizedState,s=s===null?V_(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=t.childLanes&~r,e.memoizedState=F_,n}return a=t.child,t=a.sibling,n=Go(a,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function dA(t,e){return e=Y0({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ky(t,e,r,n){return n!==null&&XS(n),hd(e,t.child,null,r),t=dA(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function R9(t,e,r,n,i,a,s){if(r)return e.flags&256?(e.flags&=-257,n=ew(Error(ce(422))),ky(t,e,s,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=n.fallback,i=e.mode,n=Y0({mode:"visible",children:n.children},i,0,null),a=fu(a,i,s,null),a.flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,e.mode&1&&hd(e,t.child,null,s),e.child.memoizedState=V_(s),e.memoizedState=F_,a);if(!(e.mode&1))return ky(t,e,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,a=Error(ce(419)),n=ew(a,n,void 0),ky(t,e,s,n)}if(o=(s&t.childLanes)!==0,Yn||o){if(n=Qr,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,ks(t,i),sa(n,t,i,-1))}return gA(),n=ew(Error(ce(421))),ky(t,e,s,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=K9.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,mi=Wo(i.nextSibling),yi=e,nr=!0,ea=null,t!==null&&(Ii[Ci++]=ds,Ii[Ci++]=fs,Ii[Ci++]=xu,ds=t.id,fs=t.overflow,xu=e),e=dA(e,n.children),e.flags|=4096,e)}function yI(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),j_(t.return,e,r)}function tw(t,e,r,n,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function g$(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(jn(t,e,n.children,r),n=ar.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&yI(t,r,e);else if(t.tag===19)yI(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Wt(ar,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Kg(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),tw(e,!1,i,r,a);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Kg(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}tw(e,!0,r,null,a);break;case"together":tw(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function pg(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ns(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),wu|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ce(153));if(e.child!==null){for(t=e.child,r=Go(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Go(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function D9(t,e,r){switch(e.tag){case 3:m$(e),fd();break;case 5:zM(e);break;case 1:Jn(e.type)&&Bg(e);break;case 4:nA(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Wt(Wg,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Wt(ar,ar.current&1),e.flags|=128,null):r&e.child.childLanes?y$(t,e,r):(Wt(ar,ar.current&1),t=Ns(t,e,r),t!==null?t.sibling:null);Wt(ar,ar.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return g$(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Wt(ar,ar.current),n)break;return null;case 22:case 23:return e.lanes=0,h$(t,e,r)}return Ns(t,e,r)}var v$,B_,x$,b$;v$=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};B_=function(){};x$=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Hl(ka.current);var a=null;switch(r){case"input":i=u_(t,i),n=u_(t,n),a=[];break;case"select":i=lr({},i,{value:void 0}),n=lr({},n,{value:void 0}),a=[];break;case"textarea":i=f_(t,i),n=f_(t,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Fg)}p_(r,n);var s;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(rp.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var l=n[u];if(o=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(a||(a=[]),a.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(rp.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Yt("scroll",t),a||o===l||(a=[])):(a=a||[]).push(u,l))}r&&(a=a||[]).push("style",r);var u=a;(e.updateQueue=u)&&(e.flags|=4)}};b$=function(t,e,r,n){r!==n&&(e.flags|=4)};function Jf(t,e){if(!nr)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function gn(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function M9(t,e,r){var n=e.pendingProps;switch(QS(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gn(e),null;case 1:return Jn(e.type)&&Vg(),gn(e),null;case 3:return n=e.stateNode,pd(),er(Zn),er(An),aA(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Iy(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ea!==null&&(Y_(ea),ea=null))),B_(t,e),gn(e),null;case 5:iA(e);var i=Hl(pp.current);if(r=e.type,t!==null&&e.stateNode!=null)x$(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(ce(166));return gn(e),null}if(t=Hl(ka.current),Iy(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[Pa]=e,n[fp]=a,t=(e.mode&1)!==0,r){case"dialog":Yt("cancel",n),Yt("close",n);break;case"iframe":case"object":case"embed":Yt("load",n);break;case"video":case"audio":for(i=0;i<wh.length;i++)Yt(wh[i],n);break;case"source":Yt("error",n);break;case"img":case"image":case"link":Yt("error",n),Yt("load",n);break;case"details":Yt("toggle",n);break;case"input":AO(n,a),Yt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Yt("invalid",n);break;case"textarea":PO(n,a),Yt("invalid",n)}p_(r,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?n.textContent!==o&&(a.suppressHydrationWarning!==!0&&Oy(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&Oy(n.textContent,o,t),i=["children",""+o]):rp.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&Yt("scroll",n)}switch(r){case"input":by(n),TO(n,a,!0);break;case"textarea":by(n),OO(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Fg)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=GD(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=s.createElement(r,{is:n.is}):(t=s.createElement(r),r==="select"&&(s=t,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):t=s.createElementNS(t,r),t[Pa]=e,t[fp]=n,v$(t,e,!1,!1),e.stateNode=t;e:{switch(s=m_(r,n),r){case"dialog":Yt("cancel",t),Yt("close",t),i=n;break;case"iframe":case"object":case"embed":Yt("load",t),i=n;break;case"video":case"audio":for(i=0;i<wh.length;i++)Yt(wh[i],t);i=n;break;case"source":Yt("error",t),i=n;break;case"img":case"image":case"link":Yt("error",t),Yt("load",t),i=n;break;case"details":Yt("toggle",t),i=n;break;case"input":AO(t,n),i=u_(t,n),Yt("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=lr({},n,{value:void 0}),Yt("invalid",t);break;case"textarea":PO(t,n),i=f_(t,n),Yt("invalid",t);break;default:i=n}p_(r,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?XD(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&YD(t,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&np(t,l):typeof l=="number"&&np(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(rp.hasOwnProperty(a)?l!=null&&a==="onScroll"&&Yt("scroll",t):l!=null&&DS(t,a,l,s))}switch(r){case"input":by(t),TO(t,n,!1);break;case"textarea":by(t),OO(t);break;case"option":n.value!=null&&t.setAttribute("value",""+il(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?Lc(t,!!n.multiple,a,!1):n.defaultValue!=null&&Lc(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Fg)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return gn(e),null;case 6:if(t&&e.stateNode!=null)b$(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(ce(166));if(r=Hl(pp.current),Hl(ka.current),Iy(e)){if(n=e.stateNode,r=e.memoizedProps,n[Pa]=e,(a=n.nodeValue!==r)&&(t=yi,t!==null))switch(t.tag){case 3:Oy(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Oy(n.nodeValue,r,(t.mode&1)!==0)}a&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Pa]=e,e.stateNode=n}return gn(e),null;case 13:if(er(ar),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(nr&&mi!==null&&e.mode&1&&!(e.flags&128))LM(),fd(),e.flags|=98560,a=!1;else if(a=Iy(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(ce(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ce(317));a[Pa]=e}else fd(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;gn(e),a=!1}else ea!==null&&(Y_(ea),ea=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||ar.current&1?Fr===0&&(Fr=3):gA())),e.updateQueue!==null&&(e.flags|=4),gn(e),null);case 4:return pd(),B_(t,e),t===null&&cp(e.stateNode.containerInfo),gn(e),null;case 10:return eA(e.type._context),gn(e),null;case 17:return Jn(e.type)&&Vg(),gn(e),null;case 19:if(er(ar),a=e.memoizedState,a===null)return gn(e),null;if(n=(e.flags&128)!==0,s=a.rendering,s===null)if(n)Jf(a,!1);else{if(Fr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Kg(t),s!==null){for(e.flags|=128,Jf(a,!1),n=s.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,t=s.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Wt(ar,ar.current&1|2),e.child}t=t.sibling}a.tail!==null&&xr()>yd&&(e.flags|=128,n=!0,Jf(a,!1),e.lanes=4194304)}else{if(!n)if(t=Kg(s),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Jf(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!nr)return gn(e),null}else 2*xr()-a.renderingStartTime>yd&&r!==1073741824&&(e.flags|=128,n=!0,Jf(a,!1),e.lanes=4194304);a.isBackwards?(s.sibling=e.child,e.child=s):(r=a.last,r!==null?r.sibling=s:e.child=s,a.last=s)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=xr(),e.sibling=null,r=ar.current,Wt(ar,n?r&1|2:r&1),e):(gn(e),null);case 22:case 23:return yA(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?ci&1073741824&&(gn(e),e.subtreeFlags&6&&(e.flags|=8192)):gn(e),null;case 24:return null;case 25:return null}throw Error(ce(156,e.tag))}function $9(t,e){switch(QS(e),e.tag){case 1:return Jn(e.type)&&Vg(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return pd(),er(Zn),er(An),aA(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return iA(e),null;case 13:if(er(ar),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ce(340));fd()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return er(ar),null;case 4:return pd(),null;case 10:return eA(e.type._context),null;case 22:case 23:return yA(),null;case 24:return null;default:return null}}var Ny=!1,_n=!1,L9=typeof WeakSet=="function"?WeakSet:Set,Ae=null;function Cc(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){fr(t,e,n)}else r.current=null}function U_(t,e,r){try{r()}catch(n){fr(t,e,n)}}var gI=!1;function F9(t,e){if(A_=Mg,t=AM(),GS(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var s=0,o=-1,l=-1,u=0,c=0,d=t,h=null;t:for(;;){for(var p;d!==r||i!==0&&d.nodeType!==3||(o=s+i),d!==a||n!==0&&d.nodeType!==3||(l=s+n),d.nodeType===3&&(s+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===t)break t;if(h===r&&++u===i&&(o=s),h===a&&++c===n&&(l=s),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(T_={focusedElem:t,selectionRange:r},Mg=!1,Ae=e;Ae!==null;)if(e=Ae,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ae=t;else for(;Ae!==null;){e=Ae;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,v=g.memoizedState,b=e.stateNode,x=b.getSnapshotBeforeUpdate(e.elementType===e.type?y:Ki(e.type,y),v);b.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ce(163))}}catch(O){fr(e,e.return,O)}if(t=e.sibling,t!==null){t.return=e.return,Ae=t;break}Ae=e.return}return g=gI,gI=!1,g}function Fh(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&U_(e,r,a)}i=i.next}while(i!==n)}}function K0(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function z_(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function w$(t){var e=t.alternate;e!==null&&(t.alternate=null,w$(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Pa],delete e[fp],delete e[I_],delete e[w9],delete e[_9])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function _$(t){return t.tag===5||t.tag===3||t.tag===4}function vI(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||_$(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function W_(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Fg));else if(n!==4&&(t=t.child,t!==null))for(W_(t,e,r),t=t.sibling;t!==null;)W_(t,e,r),t=t.sibling}function H_(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(H_(t,e,r),t=t.sibling;t!==null;)H_(t,e,r),t=t.sibling}var rn=null,Qi=!1;function ao(t,e,r){for(r=r.child;r!==null;)E$(t,e,r),r=r.sibling}function E$(t,e,r){if(Ca&&typeof Ca.onCommitFiberUnmount=="function")try{Ca.onCommitFiberUnmount(F0,r)}catch{}switch(r.tag){case 5:_n||Cc(r,e);case 6:var n=rn,i=Qi;rn=null,ao(t,e,r),rn=n,Qi=i,rn!==null&&(Qi?(t=rn,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):rn.removeChild(r.stateNode));break;case 18:rn!==null&&(Qi?(t=rn,r=r.stateNode,t.nodeType===8?Gb(t.parentNode,r):t.nodeType===1&&Gb(t,r),op(t)):Gb(rn,r.stateNode));break;case 4:n=rn,i=Qi,rn=r.stateNode.containerInfo,Qi=!0,ao(t,e,r),rn=n,Qi=i;break;case 0:case 11:case 14:case 15:if(!_n&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&U_(r,e,s),i=i.next}while(i!==n)}ao(t,e,r);break;case 1:if(!_n&&(Cc(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){fr(r,e,o)}ao(t,e,r);break;case 21:ao(t,e,r);break;case 22:r.mode&1?(_n=(n=_n)||r.memoizedState!==null,ao(t,e,r),_n=n):ao(t,e,r);break;default:ao(t,e,r)}}function xI(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new L9),e.forEach(function(n){var i=G9.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Hi(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 5:rn=o.stateNode,Qi=!1;break e;case 3:rn=o.stateNode.containerInfo,Qi=!0;break e;case 4:rn=o.stateNode.containerInfo,Qi=!0;break e}o=o.return}if(rn===null)throw Error(ce(160));E$(a,s,i),rn=null,Qi=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){fr(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)S$(e,t),e=e.sibling}function S$(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Hi(e,t),wa(t),n&4){try{Fh(3,t,t.return),K0(3,t)}catch(y){fr(t,t.return,y)}try{Fh(5,t,t.return)}catch(y){fr(t,t.return,y)}}break;case 1:Hi(e,t),wa(t),n&512&&r!==null&&Cc(r,r.return);break;case 5:if(Hi(e,t),wa(t),n&512&&r!==null&&Cc(r,r.return),t.flags&32){var i=t.stateNode;try{np(i,"")}catch(y){fr(t,t.return,y)}}if(n&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,s=r!==null?r.memoizedProps:a,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&qD(i,a),m_(o,s);var u=m_(o,a);for(s=0;s<l.length;s+=2){var c=l[s],d=l[s+1];c==="style"?XD(i,d):c==="dangerouslySetInnerHTML"?YD(i,d):c==="children"?np(i,d):DS(i,c,d,u)}switch(o){case"input":c_(i,a);break;case"textarea":KD(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?Lc(i,!!a.multiple,p,!1):h!==!!a.multiple&&(a.defaultValue!=null?Lc(i,!!a.multiple,a.defaultValue,!0):Lc(i,!!a.multiple,a.multiple?[]:"",!1))}i[fp]=a}catch(y){fr(t,t.return,y)}}break;case 6:if(Hi(e,t),wa(t),n&4){if(t.stateNode===null)throw Error(ce(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(y){fr(t,t.return,y)}}break;case 3:if(Hi(e,t),wa(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{op(e.containerInfo)}catch(y){fr(t,t.return,y)}break;case 4:Hi(e,t),wa(t);break;case 13:Hi(e,t),wa(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(pA=xr())),n&4&&xI(t);break;case 22:if(c=r!==null&&r.memoizedState!==null,t.mode&1?(_n=(u=_n)||c,Hi(e,t),_n=u):Hi(e,t),wa(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(Ae=t,c=t.child;c!==null;){for(d=Ae=c;Ae!==null;){switch(h=Ae,p=h.child,h.tag){case 0:case 11:case 14:case 15:Fh(4,h,h.return);break;case 1:Cc(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(y){fr(n,r,y)}}break;case 5:Cc(h,h.return);break;case 22:if(h.memoizedState!==null){wI(d);continue}}p!==null?(p.return=h,Ae=p):wI(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=QD("display",s))}catch(y){fr(t,t.return,y)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(y){fr(t,t.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Hi(e,t),wa(t),n&4&&xI(t);break;case 21:break;default:Hi(e,t),wa(t)}}function wa(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(_$(r)){var n=r;break e}r=r.return}throw Error(ce(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(np(i,""),n.flags&=-33);var a=vI(t);H_(t,a,i);break;case 3:case 4:var s=n.stateNode.containerInfo,o=vI(t);W_(t,o,s);break;default:throw Error(ce(161))}}catch(l){fr(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function V9(t,e,r){Ae=t,A$(t)}function A$(t,e,r){for(var n=(t.mode&1)!==0;Ae!==null;){var i=Ae,a=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||Ny;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||_n;o=Ny;var u=_n;if(Ny=s,(_n=l)&&!u)for(Ae=i;Ae!==null;)s=Ae,l=s.child,s.tag===22&&s.memoizedState!==null?_I(i):l!==null?(l.return=s,Ae=l):_I(i);for(;a!==null;)Ae=a,A$(a),a=a.sibling;Ae=i,Ny=o,_n=u}bI(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Ae=a):bI(t)}}function bI(t){for(;Ae!==null;){var e=Ae;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:_n||K0(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!_n)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:Ki(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&iI(e,a,n);break;case 3:var s=e.updateQueue;if(s!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}iI(e,s,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&op(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ce(163))}_n||e.flags&512&&z_(e)}catch(h){fr(e,e.return,h)}}if(e===t){Ae=null;break}if(r=e.sibling,r!==null){r.return=e.return,Ae=r;break}Ae=e.return}}function wI(t){for(;Ae!==null;){var e=Ae;if(e===t){Ae=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Ae=r;break}Ae=e.return}}function _I(t){for(;Ae!==null;){var e=Ae;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{K0(4,e)}catch(l){fr(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){fr(e,i,l)}}var a=e.return;try{z_(e)}catch(l){fr(e,a,l)}break;case 5:var s=e.return;try{z_(e)}catch(l){fr(e,s,l)}}}catch(l){fr(e,e.return,l)}if(e===t){Ae=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Ae=o;break}Ae=e.return}}var B9=Math.ceil,Qg=zs.ReactCurrentDispatcher,fA=zs.ReactCurrentOwner,Di=zs.ReactCurrentBatchConfig,bt=0,Qr=null,Or=null,on=0,ci=0,kc=hl(0),Fr=0,vp=null,wu=0,G0=0,hA=0,Vh=null,Gn=null,pA=0,yd=1/0,is=null,Xg=!1,q_=null,qo=null,jy=!1,Do=null,Zg=0,Bh=0,K_=null,mg=-1,yg=0;function Ln(){return bt&6?xr():mg!==-1?mg:mg=xr()}function Ko(t){return t.mode&1?bt&2&&on!==0?on&-on:S9.transition!==null?(yg===0&&(yg=uM()),yg):(t=Nt,t!==0||(t=window.event,t=t===void 0?16:yM(t.type)),t):1}function sa(t,e,r,n){if(50<Bh)throw Bh=0,K_=null,Error(ce(185));Em(t,r,n),(!(bt&2)||t!==Qr)&&(t===Qr&&(!(bt&2)&&(G0|=r),Fr===4&&go(t,on)),ei(t,n),r===1&&bt===0&&!(e.mode&1)&&(yd=xr()+500,W0&&pl()))}function ei(t,e){var r=t.callbackNode;S6(t,e);var n=Dg(t,t===Qr?on:0);if(n===0)r!==null&&kO(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&kO(r),e===1)t.tag===0?E9(EI.bind(null,t)):DM(EI.bind(null,t)),x9(function(){!(bt&6)&&pl()}),r=null;else{switch(cM(n)){case 1:r=VS;break;case 4:r=oM;break;case 16:r=Rg;break;case 536870912:r=lM;break;default:r=Rg}r=j$(r,T$.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function T$(t,e){if(mg=-1,yg=0,bt&6)throw Error(ce(327));var r=t.callbackNode;if(zc()&&t.callbackNode!==r)return null;var n=Dg(t,t===Qr?on:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Jg(t,n);else{e=n;var i=bt;bt|=2;var a=O$();(Qr!==t||on!==e)&&(is=null,yd=xr()+500,du(t,e));do try{W9();break}catch(o){P$(t,o)}while(!0);JS(),Qg.current=a,bt=i,Or!==null?e=0:(Qr=null,on=0,e=Fr)}if(e!==0){if(e===2&&(i=b_(t),i!==0&&(n=i,e=G_(t,i))),e===1)throw r=vp,du(t,0),go(t,n),ei(t,xr()),r;if(e===6)go(t,n);else{if(i=t.current.alternate,!(n&30)&&!U9(i)&&(e=Jg(t,n),e===2&&(a=b_(t),a!==0&&(n=a,e=G_(t,a))),e===1))throw r=vp,du(t,0),go(t,n),ei(t,xr()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(ce(345));case 2:jl(t,Gn,is);break;case 3:if(go(t,n),(n&130023424)===n&&(e=pA+500-xr(),10<e)){if(Dg(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Ln(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=O_(jl.bind(null,t,Gn,is),e);break}jl(t,Gn,is);break;case 4:if(go(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var s=31-aa(n);a=1<<s,s=e[s],s>i&&(i=s),n&=~a}if(n=i,n=xr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*B9(n/1960))-n,10<n){t.timeoutHandle=O_(jl.bind(null,t,Gn,is),n);break}jl(t,Gn,is);break;case 5:jl(t,Gn,is);break;default:throw Error(ce(329))}}}return ei(t,xr()),t.callbackNode===r?T$.bind(null,t):null}function G_(t,e){var r=Vh;return t.current.memoizedState.isDehydrated&&(du(t,e).flags|=256),t=Jg(t,e),t!==2&&(e=Gn,Gn=r,e!==null&&Y_(e)),t}function Y_(t){Gn===null?Gn=t:Gn.push.apply(Gn,t)}function U9(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!ca(a(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function go(t,e){for(e&=~hA,e&=~G0,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-aa(e),n=1<<r;t[r]=-1,e&=~n}}function EI(t){if(bt&6)throw Error(ce(327));zc();var e=Dg(t,0);if(!(e&1))return ei(t,xr()),null;var r=Jg(t,e);if(t.tag!==0&&r===2){var n=b_(t);n!==0&&(e=n,r=G_(t,n))}if(r===1)throw r=vp,du(t,0),go(t,e),ei(t,xr()),r;if(r===6)throw Error(ce(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,jl(t,Gn,is),ei(t,xr()),null}function mA(t,e){var r=bt;bt|=1;try{return t(e)}finally{bt=r,bt===0&&(yd=xr()+500,W0&&pl())}}function _u(t){Do!==null&&Do.tag===0&&!(bt&6)&&zc();var e=bt;bt|=1;var r=Di.transition,n=Nt;try{if(Di.transition=null,Nt=1,t)return t()}finally{Nt=n,Di.transition=r,bt=e,!(bt&6)&&pl()}}function yA(){ci=kc.current,er(kc)}function du(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,v9(r)),Or!==null)for(r=Or.return;r!==null;){var n=r;switch(QS(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Vg();break;case 3:pd(),er(Zn),er(An),aA();break;case 5:iA(n);break;case 4:pd();break;case 13:er(ar);break;case 19:er(ar);break;case 10:eA(n.type._context);break;case 22:case 23:yA()}r=r.return}if(Qr=t,Or=t=Go(t.current,null),on=ci=e,Fr=0,vp=null,hA=G0=wu=0,Gn=Vh=null,Wl!==null){for(e=0;e<Wl.length;e++)if(r=Wl[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var s=a.next;a.next=i,n.next=s}r.pending=n}Wl=null}return t}function P$(t,e){do{var r=Or;try{if(JS(),fg.current=Yg,Gg){for(var n=sr.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Gg=!1}if(bu=0,Gr=Mr=sr=null,Lh=!1,mp=0,fA.current=null,r===null||r.return===null){Fr=1,vp=e,Or=null;break}e:{var a=t,s=r.return,o=r,l=e;if(e=on,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=o,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=cI(s);if(p!==null){p.flags&=-257,dI(p,s,o,a,e),p.mode&1&&uI(a,u,e),e=p,l=u;var g=e.updateQueue;if(g===null){var y=new Set;y.add(l),e.updateQueue=y}else g.add(l);break e}else{if(!(e&1)){uI(a,u,e),gA();break e}l=Error(ce(426))}}else if(nr&&o.mode&1){var v=cI(s);if(v!==null){!(v.flags&65536)&&(v.flags|=256),dI(v,s,o,a,e),XS(md(l,o));break e}}a=l=md(l,o),Fr!==4&&(Fr=2),Vh===null?Vh=[a]:Vh.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var b=c$(a,l,e);nI(a,b);break e;case 1:o=l;var x=a.type,_=a.stateNode;if(!(a.flags&128)&&(typeof x.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(qo===null||!qo.has(_)))){a.flags|=65536,e&=-e,a.lanes|=e;var O=d$(a,o,e);nI(a,O);break e}}a=a.return}while(a!==null)}C$(r)}catch(E){e=E,Or===r&&r!==null&&(Or=r=r.return);continue}break}while(!0)}function O$(){var t=Qg.current;return Qg.current=Yg,t===null?Yg:t}function gA(){(Fr===0||Fr===3||Fr===2)&&(Fr=4),Qr===null||!(wu&268435455)&&!(G0&268435455)||go(Qr,on)}function Jg(t,e){var r=bt;bt|=2;var n=O$();(Qr!==t||on!==e)&&(is=null,du(t,e));do try{z9();break}catch(i){P$(t,i)}while(!0);if(JS(),bt=r,Qg.current=n,Or!==null)throw Error(ce(261));return Qr=null,on=0,Fr}function z9(){for(;Or!==null;)I$(Or)}function W9(){for(;Or!==null&&!m6();)I$(Or)}function I$(t){var e=N$(t.alternate,t,ci);t.memoizedProps=t.pendingProps,e===null?C$(t):Or=e,fA.current=null}function C$(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=$9(r,e),r!==null){r.flags&=32767,Or=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Fr=6,Or=null;return}}else if(r=M9(r,e,ci),r!==null){Or=r;return}if(e=e.sibling,e!==null){Or=e;return}Or=e=t}while(e!==null);Fr===0&&(Fr=5)}function jl(t,e,r){var n=Nt,i=Di.transition;try{Di.transition=null,Nt=1,H9(t,e,r,n)}finally{Di.transition=i,Nt=n}return null}function H9(t,e,r,n){do zc();while(Do!==null);if(bt&6)throw Error(ce(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(ce(177));t.callbackNode=null,t.callbackPriority=0;var a=r.lanes|r.childLanes;if(A6(t,a),t===Qr&&(Or=Qr=null,on=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||jy||(jy=!0,j$(Rg,function(){return zc(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Di.transition,Di.transition=null;var s=Nt;Nt=1;var o=bt;bt|=4,fA.current=null,F9(t,r),S$(r,t),d9(T_),Mg=!!A_,T_=A_=null,t.current=r,V9(r),y6(),bt=o,Nt=s,Di.transition=a}else t.current=r;if(jy&&(jy=!1,Do=t,Zg=i),a=t.pendingLanes,a===0&&(qo=null),x6(r.stateNode),ei(t,xr()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Xg)throw Xg=!1,t=q_,q_=null,t;return Zg&1&&t.tag!==0&&zc(),a=t.pendingLanes,a&1?t===K_?Bh++:(Bh=0,K_=t):Bh=0,pl(),null}function zc(){if(Do!==null){var t=cM(Zg),e=Di.transition,r=Nt;try{if(Di.transition=null,Nt=16>t?16:t,Do===null)var n=!1;else{if(t=Do,Do=null,Zg=0,bt&6)throw Error(ce(331));var i=bt;for(bt|=4,Ae=t.current;Ae!==null;){var a=Ae,s=a.child;if(Ae.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(Ae=u;Ae!==null;){var c=Ae;switch(c.tag){case 0:case 11:case 15:Fh(8,c,a)}var d=c.child;if(d!==null)d.return=c,Ae=d;else for(;Ae!==null;){c=Ae;var h=c.sibling,p=c.return;if(w$(c),c===u){Ae=null;break}if(h!==null){h.return=p,Ae=h;break}Ae=p}}}var g=a.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var v=y.sibling;y.sibling=null,y=v}while(y!==null)}}Ae=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,Ae=s;else e:for(;Ae!==null;){if(a=Ae,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Fh(9,a,a.return)}var b=a.sibling;if(b!==null){b.return=a.return,Ae=b;break e}Ae=a.return}}var x=t.current;for(Ae=x;Ae!==null;){s=Ae;var _=s.child;if(s.subtreeFlags&2064&&_!==null)_.return=s,Ae=_;else e:for(s=x;Ae!==null;){if(o=Ae,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:K0(9,o)}}catch(E){fr(o,o.return,E)}if(o===s){Ae=null;break e}var O=o.sibling;if(O!==null){O.return=o.return,Ae=O;break e}Ae=o.return}}if(bt=i,pl(),Ca&&typeof Ca.onPostCommitFiberRoot=="function")try{Ca.onPostCommitFiberRoot(F0,t)}catch{}n=!0}return n}finally{Nt=r,Di.transition=e}}return!1}function SI(t,e,r){e=md(r,e),e=c$(t,e,1),t=Ho(t,e,1),e=Ln(),t!==null&&(Em(t,1,e),ei(t,e))}function fr(t,e,r){if(t.tag===3)SI(t,t,r);else for(;e!==null;){if(e.tag===3){SI(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(qo===null||!qo.has(n))){t=md(r,t),t=d$(e,t,1),e=Ho(e,t,1),t=Ln(),e!==null&&(Em(e,1,t),ei(e,t));break}}e=e.return}}function q9(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Ln(),t.pingedLanes|=t.suspendedLanes&r,Qr===t&&(on&r)===r&&(Fr===4||Fr===3&&(on&130023424)===on&&500>xr()-pA?du(t,0):hA|=r),ei(t,e)}function k$(t,e){e===0&&(t.mode&1?(e=Ey,Ey<<=1,!(Ey&130023424)&&(Ey=4194304)):e=1);var r=Ln();t=ks(t,e),t!==null&&(Em(t,e,r),ei(t,r))}function K9(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),k$(t,r)}function G9(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(ce(314))}n!==null&&n.delete(e),k$(t,r)}var N$;N$=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Zn.current)Yn=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Yn=!1,D9(t,e,r);Yn=!!(t.flags&131072)}else Yn=!1,nr&&e.flags&1048576&&MM(e,zg,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;pg(t,e),t=e.pendingProps;var i=dd(e,An.current);Uc(e,r),i=oA(null,e,n,t,i,r);var a=lA();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Jn(n)?(a=!0,Bg(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,rA(e),i.updater=q0,e.stateNode=i,i._reactInternals=e,D_(e,n,t,r),e=L_(null,e,n,!0,a,r)):(e.tag=0,nr&&a&&YS(e),jn(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(pg(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=Q9(n),t=Ki(n,t),i){case 0:e=$_(null,e,n,t,r);break e;case 1:e=pI(null,e,n,t,r);break e;case 11:e=fI(null,e,n,t,r);break e;case 14:e=hI(null,e,n,Ki(n.type,t),r);break e}throw Error(ce(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ki(n,i),$_(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ki(n,i),pI(t,e,n,i,r);case 3:e:{if(m$(e),t===null)throw Error(ce(387));n=e.pendingProps,a=e.memoizedState,i=a.element,UM(t,e),qg(e,n,null,r);var s=e.memoizedState;if(n=s.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=md(Error(ce(423)),e),e=mI(t,e,n,r,i);break e}else if(n!==i){i=md(Error(ce(424)),e),e=mI(t,e,n,r,i);break e}else for(mi=Wo(e.stateNode.containerInfo.firstChild),yi=e,nr=!0,ea=null,r=VM(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(fd(),n===i){e=Ns(t,e,r);break e}jn(t,e,n,r)}e=e.child}return e;case 5:return zM(e),t===null&&N_(e),n=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,s=i.children,P_(n,i)?s=null:a!==null&&P_(n,a)&&(e.flags|=32),p$(t,e),jn(t,e,s,r),e.child;case 6:return t===null&&N_(e),null;case 13:return y$(t,e,r);case 4:return nA(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=hd(e,null,n,r):jn(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ki(n,i),fI(t,e,n,i,r);case 7:return jn(t,e,e.pendingProps,r),e.child;case 8:return jn(t,e,e.pendingProps.children,r),e.child;case 12:return jn(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,a=e.memoizedProps,s=i.value,Wt(Wg,n._currentValue),n._currentValue=s,a!==null)if(ca(a.value,s)){if(a.children===i.children&&!Zn.current){e=Ns(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(a.tag===1){l=ws(-1,r&-r),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),j_(a.return,r,e),o.lanes|=r;break}l=l.next}}else if(a.tag===10)s=a.type===e.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(ce(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),j_(s,r,e),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}jn(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Uc(e,r),i=Mi(i),n=n(i),e.flags|=1,jn(t,e,n,r),e.child;case 14:return n=e.type,i=Ki(n,e.pendingProps),i=Ki(n.type,i),hI(t,e,n,i,r);case 15:return f$(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ki(n,i),pg(t,e),e.tag=1,Jn(n)?(t=!0,Bg(e)):t=!1,Uc(e,r),u$(e,n,i),D_(e,n,i,r),L_(null,e,n,!0,t,r);case 19:return g$(t,e,r);case 22:return h$(t,e,r)}throw Error(ce(156,e.tag))};function j$(t,e){return sM(t,e)}function Y9(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ji(t,e,r,n){return new Y9(t,e,r,n)}function vA(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Q9(t){if(typeof t=="function")return vA(t)?1:0;if(t!=null){if(t=t.$$typeof,t===$S)return 11;if(t===LS)return 14}return 2}function Go(t,e){var r=t.alternate;return r===null?(r=ji(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function gg(t,e,r,n,i,a){var s=2;if(n=t,typeof t=="function")vA(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case wc:return fu(r.children,i,a,e);case MS:s=8,i|=8;break;case a_:return t=ji(12,r,e,i|2),t.elementType=a_,t.lanes=a,t;case s_:return t=ji(13,r,e,i),t.elementType=s_,t.lanes=a,t;case o_:return t=ji(19,r,e,i),t.elementType=o_,t.lanes=a,t;case zD:return Y0(r,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case BD:s=10;break e;case UD:s=9;break e;case $S:s=11;break e;case LS:s=14;break e;case fo:s=16,n=null;break e}throw Error(ce(130,t==null?t:typeof t,""))}return e=ji(s,r,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function fu(t,e,r,n){return t=ji(7,t,n,e),t.lanes=r,t}function Y0(t,e,r,n){return t=ji(22,t,n,e),t.elementType=zD,t.lanes=r,t.stateNode={isHidden:!1},t}function rw(t,e,r){return t=ji(6,t,null,e),t.lanes=r,t}function nw(t,e,r){return e=ji(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function X9(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$b(0),this.expirationTimes=$b(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$b(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function xA(t,e,r,n,i,a,s,o,l){return t=new X9(t,e,r,o,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=ji(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},rA(a),t}function Z9(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bc,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function R$(t){if(!t)return al;t=t._reactInternals;e:{if(qu(t)!==t||t.tag!==1)throw Error(ce(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Jn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ce(171))}if(t.tag===1){var r=t.type;if(Jn(r))return RM(t,r,e)}return e}function D$(t,e,r,n,i,a,s,o,l){return t=xA(r,n,!0,t,i,a,s,o,l),t.context=R$(null),r=t.current,n=Ln(),i=Ko(r),a=ws(n,i),a.callback=e??null,Ho(r,a,i),t.current.lanes=i,Em(t,i,n),ei(t,n),t}function Q0(t,e,r,n){var i=e.current,a=Ln(),s=Ko(i);return r=R$(r),e.context===null?e.context=r:e.pendingContext=r,e=ws(a,s),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Ho(i,e,s),t!==null&&(sa(t,i,s,a),dg(t,i,s)),s}function ev(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function AI(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function bA(t,e){AI(t,e),(t=t.alternate)&&AI(t,e)}function J9(){return null}var M$=typeof reportError=="function"?reportError:function(t){console.error(t)};function wA(t){this._internalRoot=t}X0.prototype.render=wA.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ce(409));Q0(t,e,null,null)};X0.prototype.unmount=wA.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;_u(function(){Q0(null,t,null,null)}),e[Cs]=null}};function X0(t){this._internalRoot=t}X0.prototype.unstable_scheduleHydration=function(t){if(t){var e=hM();t={blockedOn:null,target:t,priority:e};for(var r=0;r<yo.length&&e!==0&&e<yo[r].priority;r++);yo.splice(r,0,t),r===0&&mM(t)}};function _A(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Z0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function TI(){}function ez(t,e,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=ev(s);a.call(u)}}var s=D$(e,n,t,0,null,!1,!1,"",TI);return t._reactRootContainer=s,t[Cs]=s.current,cp(t.nodeType===8?t.parentNode:t),_u(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var u=ev(l);o.call(u)}}var l=xA(t,0,!1,null,null,!1,!1,"",TI);return t._reactRootContainer=l,t[Cs]=l.current,cp(t.nodeType===8?t.parentNode:t),_u(function(){Q0(e,l,r,n)}),l}function J0(t,e,r,n,i){var a=r._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=ev(s);o.call(l)}}Q0(e,s,t,i)}else s=ez(r,e,t,i,n);return ev(s)}dM=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=bh(e.pendingLanes);r!==0&&(BS(e,r|1),ei(e,xr()),!(bt&6)&&(yd=xr()+500,pl()))}break;case 13:_u(function(){var n=ks(t,1);if(n!==null){var i=Ln();sa(n,t,1,i)}}),bA(t,1)}};US=function(t){if(t.tag===13){var e=ks(t,134217728);if(e!==null){var r=Ln();sa(e,t,134217728,r)}bA(t,134217728)}};fM=function(t){if(t.tag===13){var e=Ko(t),r=ks(t,e);if(r!==null){var n=Ln();sa(r,t,e,n)}bA(t,e)}};hM=function(){return Nt};pM=function(t,e){var r=Nt;try{return Nt=t,e()}finally{Nt=r}};g_=function(t,e,r){switch(e){case"input":if(c_(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=z0(n);if(!i)throw Error(ce(90));HD(n),c_(n,i)}}}break;case"textarea":KD(t,r);break;case"select":e=r.value,e!=null&&Lc(t,!!r.multiple,e,!1)}};eM=mA;tM=_u;var tz={usingClientEntryPoint:!1,Events:[Am,Ac,z0,ZD,JD,mA]},eh={findFiberByHostInstance:zl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rz={bundleType:eh.bundleType,version:eh.version,rendererPackageName:eh.rendererPackageName,rendererConfig:eh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:zs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=iM(t),t===null?null:t.stateNode},findFiberByHostInstance:eh.findFiberByHostInstance||J9,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ry=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ry.isDisabled&&Ry.supportsFiber)try{F0=Ry.inject(rz),Ca=Ry}catch{}}wi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tz;wi.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_A(e))throw Error(ce(200));return Z9(t,e,null,r)};wi.createRoot=function(t,e){if(!_A(t))throw Error(ce(299));var r=!1,n="",i=M$;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=xA(t,1,!1,null,null,r,!1,n,i),t[Cs]=e.current,cp(t.nodeType===8?t.parentNode:t),new wA(e)};wi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ce(188)):(t=Object.keys(t).join(","),Error(ce(268,t)));return t=iM(e),t=t===null?null:t.stateNode,t};wi.flushSync=function(t){return _u(t)};wi.hydrate=function(t,e,r){if(!Z0(e))throw Error(ce(200));return J0(null,t,e,!0,r)};wi.hydrateRoot=function(t,e,r){if(!_A(t))throw Error(ce(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",s=M$;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),e=D$(e,null,t,1,r??null,i,!1,a,s),t[Cs]=e.current,cp(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new X0(e)};wi.render=function(t,e,r){if(!Z0(e))throw Error(ce(200));return J0(null,t,e,!1,r)};wi.unmountComponentAtNode=function(t){if(!Z0(t))throw Error(ce(40));return t._reactRootContainer?(_u(function(){J0(null,null,t,!1,function(){t._reactRootContainer=null,t[Cs]=null})}),!0):!1};wi.unstable_batchedUpdates=mA;wi.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Z0(r))throw Error(ce(200));if(t==null||t._reactInternals===void 0)throw Error(ce(38));return J0(t,e,r,!1,n)};wi.version="18.3.1-next-f1338f8080-20240426";function $$(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($$)}catch(t){console.error(t)}}$$(),$D.exports=wi;var ex=$D.exports;const nz=wt(ex),iz=AD({__proto__:null,default:nz},[ex]);var PI=ex;n_.createRoot=PI.createRoot,n_.hydrateRoot=PI.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rr(){return rr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rr.apply(this,arguments)}var Tr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Tr||(Tr={}));const OI="popstate";function az(t){t===void 0&&(t={});function e(n,i){let{pathname:a,search:s,hash:o}=n.location;return xp("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Su(i)}return oz(e,r,null,t)}function lt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Eu(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function sz(){return Math.random().toString(36).substr(2,8)}function II(t,e){return{usr:t.state,key:t.key,idx:e}}function xp(t,e,r,n){return r===void 0&&(r=null),rr({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ml(e):e,{state:r,key:e&&e.key||n||sz()})}function Su(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function ml(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function oz(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,s=i.history,o=Tr.Pop,l=null,u=c();u==null&&(u=0,s.replaceState(rr({},s.state,{idx:u}),""));function c(){return(s.state||{idx:null}).idx}function d(){o=Tr.Pop;let v=c(),b=v==null?null:v-u;u=v,l&&l({action:o,location:y.location,delta:b})}function h(v,b){o=Tr.Push;let x=xp(y.location,v,b);u=c()+1;let _=II(x,u),O=y.createHref(x);try{s.pushState(_,"",O)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(O)}a&&l&&l({action:o,location:y.location,delta:1})}function p(v,b){o=Tr.Replace;let x=xp(y.location,v,b);u=c();let _=II(x,u),O=y.createHref(x);s.replaceState(_,"",O),a&&l&&l({action:o,location:y.location,delta:0})}function g(v){let b=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof v=="string"?v:Su(v);return x=x.replace(/ $/,"%20"),lt(b,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,b)}let y={get action(){return o},get location(){return t(i,s)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(OI,d),l=v,()=>{i.removeEventListener(OI,d),l=null}},createHref(v){return e(i,v)},createURL:g,encodeLocation(v){let b=g(v);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:p,go(v){return s.go(v)}};return y}var Ct;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Ct||(Ct={}));const lz=new Set(["lazy","caseSensitive","path","id","index","children"]);function uz(t){return t.index===!0}function tv(t,e,r,n){return r===void 0&&(r=[]),n===void 0&&(n={}),t.map((i,a)=>{let s=[...r,String(a)],o=typeof i.id=="string"?i.id:s.join("-");if(lt(i.index!==!0||!i.children,"Cannot specify children on an index route"),lt(!n[o],'Found a route id collision on id "'+o+`".  Route id's must be globally unique within Data Router usages`),uz(i)){let l=rr({},i,e(i),{id:o});return n[o]=l,l}else{let l=rr({},i,e(i),{id:o,children:void 0});return n[o]=l,i.children&&(l.children=tv(i.children,e,s,n)),l}})}function Ll(t,e,r){return r===void 0&&(r="/"),vg(t,e,r,!1)}function vg(t,e,r,n){let i=typeof e=="string"?ml(e):e,a=js(i.pathname||"/",r);if(a==null)return null;let s=L$(t);dz(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let u=_z(a);o=bz(s[l],u,n)}return o}function cz(t,e){let{route:r,pathname:n,params:i}=t;return{id:r.id,pathname:n,params:i,data:e[r.id],handle:r.handle}}function L$(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,s,o)=>{let l={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};l.relativePath.startsWith("/")&&(lt(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=_s([n,l.relativePath]),c=r.concat(l);a.children&&a.children.length>0&&(lt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),L$(a.children,e,c,u)),!(a.path==null&&!a.index)&&e.push({path:u,score:vz(u,a.index),routesMeta:c})};return t.forEach((a,s)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))i(a,s);else for(let l of F$(a.path))i(a,s,l)}),e}function F$(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let s=F$(n.join("/")),o=[];return o.push(...s.map(l=>l===""?a:[a,l].join("/"))),i&&o.push(...s),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function dz(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:xz(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const fz=/^:[\w-]+$/,hz=3,pz=2,mz=1,yz=10,gz=-2,CI=t=>t==="*";function vz(t,e){let r=t.split("/"),n=r.length;return r.some(CI)&&(n+=gz),e&&(n+=pz),r.filter(i=>!CI(i)).reduce((i,a)=>i+(fz.test(a)?hz:a===""?mz:yz),n)}function xz(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function bz(t,e,r){r===void 0&&(r=!1);let{routesMeta:n}=t,i={},a="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],u=o===n.length-1,c=a==="/"?e:e.slice(a.length)||"/",d=rv({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),h=l.route;if(!d&&u&&r&&!n[n.length-1].route.index&&(d=rv({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!d)return null;Object.assign(i,d.params),s.push({params:i,pathname:_s([a,d.pathname]),pathnameBase:Tz(_s([a,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(a=_s([a,d.pathnameBase]))}return s}function rv(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=wz(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((u,c,d)=>{let{paramName:h,isOptional:p}=c;if(h==="*"){let y=o[d]||"";s=a.slice(0,a.length-y.length).replace(/(.)\/+$/,"$1")}const g=o[d];return p&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:s,pattern:t}}function wz(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Eu(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function _z(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Eu(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function js(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}const Ez=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Sz=t=>Ez.test(t);function Az(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?ml(t):t,a;if(r)if(Sz(r))a=r;else{if(r.includes("//")){let s=r;r=r.replace(/\/\/+/g,"/"),Eu(!1,"Pathnames cannot have embedded double slashes - normalizing "+(s+" -> "+r))}r.startsWith("/")?a=kI(r.substring(1),"/"):a=kI(r,e)}else a=e;return{pathname:a,search:Pz(n),hash:Oz(i)}}function kI(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function iw(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function V$(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function tx(t,e){let r=V$(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function rx(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=ml(t):(i=rr({},t),lt(!i.pathname||!i.pathname.includes("?"),iw("?","pathname","search",i)),lt(!i.pathname||!i.pathname.includes("#"),iw("#","pathname","hash",i)),lt(!i.search||!i.search.includes("#"),iw("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=r;else{let d=e.length-1;if(!n&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}o=d>=0?e[d]:"/"}let l=Az(i,o),u=s&&s!=="/"&&s.endsWith("/"),c=(a||s===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const _s=t=>t.join("/").replace(/\/\/+/g,"/"),Tz=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Pz=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Oz=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class nv{constructor(e,r,n,i){i===void 0&&(i=!1),this.status=e,this.statusText=r||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function bp(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const B$=["post","put","patch","delete"],Iz=new Set(B$),Cz=["get",...B$],kz=new Set(Cz),Nz=new Set([301,302,303,307,308]),jz=new Set([307,308]),aw={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Rz={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},th={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},EA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Dz=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),U$="remix-router-transitions";function Mz(t){const e=t.window?t.window:typeof window<"u"?window:void 0,r=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",n=!r;lt(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let z=t.detectErrorBoundary;i=q=>({hasErrorBoundary:z(q)})}else i=Dz;let a={},s=tv(t.routes,i,void 0,a),o,l=t.basename||"/",u=t.dataStrategy||Vz,c=t.patchRoutesOnNavigation,d=rr({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),h=null,p=new Set,g=null,y=null,v=null,b=t.hydrationData!=null,x=Ll(s,t.history.location,l),_=!1,O=null;if(x==null&&!c){let z=Hn(404,{pathname:t.history.location.pathname}),{matches:q,route:Q}=UI(s);x=q,O={[Q.id]:z}}x&&!t.hydrationData&&Tl(x,s,t.history.location.pathname).active&&(x=null);let E;if(x)if(x.some(z=>z.route.lazy))E=!1;else if(!x.some(z=>z.route.loader))E=!0;else if(d.v7_partialHydration){let z=t.hydrationData?t.hydrationData.loaderData:null,q=t.hydrationData?t.hydrationData.errors:null;if(q){let Q=x.findIndex(oe=>q[oe.route.id]!==void 0);E=x.slice(0,Q+1).every(oe=>!X_(oe.route,z,q))}else E=x.every(Q=>!X_(Q.route,z,q))}else E=t.hydrationData!=null;else if(E=!1,x=[],d.v7_partialHydration){let z=Tl(null,s,t.history.location.pathname);z.active&&z.matches&&(_=!0,x=z.matches)}let P,w={historyAction:t.history.action,location:t.history.location,matches:x,initialized:E,navigation:aw,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||O,fetchers:new Map,blockers:new Map},S=Tr.Pop,I=!1,k,N=!1,R=new Map,j=null,B=!1,L=!1,U=[],W=new Set,$=new Map,H=0,Y=-1,re=new Map,X=new Set,ae=new Map,se=new Map,me=new Set,De=new Map,nt=new Map,ft;function fe(){if(h=t.history.listen(z=>{let{action:q,location:Q,delta:oe}=z;if(ft){ft(),ft=void 0;return}Eu(nt.size===0||oe!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ve=$f({currentLocation:w.location,nextLocation:Q,historyAction:q});if(ve&&oe!=null){let Ne=new Promise(We=>{ft=We});t.history.go(oe*-1),ga(ve,{state:"blocked",location:Q,proceed(){ga(ve,{state:"proceeding",proceed:void 0,reset:void 0,location:Q}),Ne.then(()=>t.history.go(oe))},reset(){let We=new Map(w.blockers);We.set(ve,th),J({blockers:We})}});return}return xt(q,Q)}),r){e7(e,R);let z=()=>t7(e,R);e.addEventListener("pagehide",z),j=()=>e.removeEventListener("pagehide",z)}return w.initialized||xt(Tr.Pop,w.location,{initialHydration:!0}),P}function _e(){h&&h(),j&&j(),p.clear(),k&&k.abort(),w.fetchers.forEach((z,q)=>Ui(q)),w.blockers.forEach((z,q)=>Js(q))}function ye(z){return p.add(z),()=>p.delete(z)}function J(z,q){q===void 0&&(q={}),w=rr({},w,z);let Q=[],oe=[];d.v7_fetcherPersist&&w.fetchers.forEach((ve,Ne)=>{ve.state==="idle"&&(me.has(Ne)?oe.push(Ne):Q.push(Ne))}),me.forEach(ve=>{!w.fetchers.has(ve)&&!$.has(ve)&&oe.push(ve)}),[...p].forEach(ve=>ve(w,{deletedFetchers:oe,viewTransitionOpts:q.viewTransitionOpts,flushSync:q.flushSync===!0})),d.v7_fetcherPersist?(Q.forEach(ve=>w.fetchers.delete(ve)),oe.forEach(ve=>Ui(ve))):oe.forEach(ve=>me.delete(ve))}function Fe(z,q,Q){var oe,ve;let{flushSync:Ne}=Q===void 0?{}:Q,We=w.actionData!=null&&w.navigation.formMethod!=null&&Xi(w.navigation.formMethod)&&w.navigation.state==="loading"&&((oe=z.state)==null?void 0:oe._isRedirect)!==!0,Oe;q.actionData?Object.keys(q.actionData).length>0?Oe=q.actionData:Oe=null:We?Oe=w.actionData:Oe=null;let Pe=q.loaderData?VI(w.loaderData,q.loaderData,q.matches||[],q.errors):w.loaderData,Ee=w.blockers;Ee.size>0&&(Ee=new Map(Ee),Ee.forEach((rt,_r)=>Ee.set(_r,th)));let je=I===!0||w.navigation.formMethod!=null&&Xi(w.navigation.formMethod)&&((ve=z.state)==null?void 0:ve._isRedirect)!==!0;o&&(s=o,o=void 0),B||S===Tr.Pop||(S===Tr.Push?t.history.push(z,z.state):S===Tr.Replace&&t.history.replace(z,z.state));let Ge;if(S===Tr.Pop){let rt=R.get(w.location.pathname);rt&&rt.has(z.pathname)?Ge={currentLocation:w.location,nextLocation:z}:R.has(z.pathname)&&(Ge={currentLocation:z,nextLocation:w.location})}else if(N){let rt=R.get(w.location.pathname);rt?rt.add(z.pathname):(rt=new Set([z.pathname]),R.set(w.location.pathname,rt)),Ge={currentLocation:w.location,nextLocation:z}}J(rr({},q,{actionData:Oe,loaderData:Pe,historyAction:S,location:z,initialized:!0,navigation:aw,revalidation:"idle",restoreScrollPosition:Al(z,q.matches||w.matches),preventScrollReset:je,blockers:Ee}),{viewTransitionOpts:Ge,flushSync:Ne===!0}),S=Tr.Pop,I=!1,N=!1,B=!1,L=!1,U=[]}async function qe(z,q){if(typeof z=="number"){t.history.go(z);return}let Q=Q_(w.location,w.matches,l,d.v7_prependBasename,z,d.v7_relativeSplatPath,q==null?void 0:q.fromRouteId,q==null?void 0:q.relative),{path:oe,submission:ve,error:Ne}=NI(d.v7_normalizeFormMethod,!1,Q,q),We=w.location,Oe=xp(w.location,oe,q&&q.state);Oe=rr({},Oe,t.history.encodeLocation(Oe));let Pe=q&&q.replace!=null?q.replace:void 0,Ee=Tr.Push;Pe===!0?Ee=Tr.Replace:Pe===!1||ve!=null&&Xi(ve.formMethod)&&ve.formAction===w.location.pathname+w.location.search&&(Ee=Tr.Replace);let je=q&&"preventScrollReset"in q?q.preventScrollReset===!0:void 0,Ge=(q&&q.flushSync)===!0,rt=$f({currentLocation:We,nextLocation:Oe,historyAction:Ee});if(rt){ga(rt,{state:"blocked",location:Oe,proceed(){ga(rt,{state:"proceeding",proceed:void 0,reset:void 0,location:Oe}),qe(z,q)},reset(){let _r=new Map(w.blockers);_r.set(rt,th),J({blockers:_r})}});return}return await xt(Ee,Oe,{submission:ve,pendingError:Ne,preventScrollReset:je,replace:q&&q.replace,enableViewTransition:q&&q.viewTransition,flushSync:Ge})}function Mt(){if(xe(),J({revalidation:"loading"}),w.navigation.state!=="submitting"){if(w.navigation.state==="idle"){xt(w.historyAction,w.location,{startUninterruptedRevalidation:!0});return}xt(S||w.historyAction,w.navigation.location,{overrideNavigation:w.navigation,enableViewTransition:N===!0})}}async function xt(z,q,Q){k&&k.abort(),k=null,S=z,B=(Q&&Q.startUninterruptedRevalidation)===!0,ny(w.location,w.matches),I=(Q&&Q.preventScrollReset)===!0,N=(Q&&Q.enableViewTransition)===!0;let oe=o||s,ve=Q&&Q.overrideNavigation,Ne=Q!=null&&Q.initialHydration&&w.matches&&w.matches.length>0&&!_?w.matches:Ll(oe,q,l),We=(Q&&Q.flushSync)===!0;if(Ne&&w.initialized&&!L&&qz(w.location,q)&&!(Q&&Q.submission&&Xi(Q.submission.formMethod))){Fe(q,{matches:Ne},{flushSync:We});return}let Oe=Tl(Ne,oe,q.pathname);if(Oe.active&&Oe.matches&&(Ne=Oe.matches),!Ne){let{error:It,notFoundMatches:pt,route:Bt}=Ya(q.pathname);Fe(q,{matches:pt,loaderData:{},errors:{[Bt.id]:It}},{flushSync:We});return}k=new AbortController;let Pe=uc(t.history,q,k.signal,Q&&Q.submission),Ee;if(Q&&Q.pendingError)Ee=[Fl(Ne).route.id,{type:Ct.error,error:Q.pendingError}];else if(Q&&Q.submission&&Xi(Q.submission.formMethod)){let It=await wr(Pe,q,Q.submission,Ne,Oe.active,{replace:Q.replace,flushSync:We});if(It.shortCircuited)return;if(It.pendingActionResult){let[pt,Bt]=It.pendingActionResult;if(fi(Bt)&&bp(Bt.error)&&Bt.error.status===404){k=null,Fe(q,{matches:It.matches,loaderData:{},errors:{[pt]:Bt.error}});return}}Ne=It.matches||Ne,Ee=It.pendingActionResult,ve=sw(q,Q.submission),We=!1,Oe.active=!1,Pe=uc(t.history,Pe.url,Pe.signal)}let{shortCircuited:je,matches:Ge,loaderData:rt,errors:_r}=await Un(Pe,q,Ne,Oe.active,ve,Q&&Q.submission,Q&&Q.fetcherSubmission,Q&&Q.replace,Q&&Q.initialHydration===!0,We,Ee);je||(k=null,Fe(q,rr({matches:Ge||Ne},BI(Ee),{loaderData:rt,errors:_r})))}async function wr(z,q,Q,oe,ve,Ne){Ne===void 0&&(Ne={}),xe();let We=Zz(q,Q);if(J({navigation:We},{flushSync:Ne.flushSync===!0}),ve){let Ee=await xa(oe,q.pathname,z.signal);if(Ee.type==="aborted")return{shortCircuited:!0};if(Ee.type==="error"){let je=Fl(Ee.partialMatches).route.id;return{matches:Ee.partialMatches,pendingActionResult:[je,{type:Ct.error,error:Ee.error}]}}else if(Ee.matches)oe=Ee.matches;else{let{notFoundMatches:je,error:Ge,route:rt}=Ya(q.pathname);return{matches:je,pendingActionResult:[rt.id,{type:Ct.error,error:Ge}]}}}let Oe,Pe=_h(oe,q);if(!Pe.route.action&&!Pe.route.lazy)Oe={type:Ct.error,error:Hn(405,{method:z.method,pathname:q.pathname,routeId:Pe.route.id})};else if(Oe=(await de("action",w,z,[Pe],oe,null))[Pe.route.id],z.signal.aborted)return{shortCircuited:!0};if(ql(Oe)){let Ee;return Ne&&Ne.replace!=null?Ee=Ne.replace:Ee=$I(Oe.response.headers.get("Location"),new URL(z.url),l)===w.location.pathname+w.location.search,await pe(z,Oe,!0,{submission:Q,replace:Ee}),{shortCircuited:!0}}if(Mo(Oe))throw Hn(400,{type:"defer-action"});if(fi(Oe)){let Ee=Fl(oe,Pe.route.id);return(Ne&&Ne.replace)!==!0&&(S=Tr.Push),{matches:oe,pendingActionResult:[Ee.route.id,Oe]}}return{matches:oe,pendingActionResult:[Pe.route.id,Oe]}}async function Un(z,q,Q,oe,ve,Ne,We,Oe,Pe,Ee,je){let Ge=ve||sw(q,Ne),rt=Ne||We||WI(Ge),_r=!B&&(!d.v7_partialHydration||!Pe);if(oe){if(_r){let Kt=ni(je);J(rr({navigation:Ge},Kt!==void 0?{actionData:Kt}:{}),{flushSync:Ee})}let gt=await xa(Q,q.pathname,z.signal);if(gt.type==="aborted")return{shortCircuited:!0};if(gt.type==="error"){let Kt=Fl(gt.partialMatches).route.id;return{matches:gt.partialMatches,loaderData:{},errors:{[Kt]:gt.error}}}else if(gt.matches)Q=gt.matches;else{let{error:Kt,notFoundMatches:Za,route:ro}=Ya(q.pathname);return{matches:Za,loaderData:{},errors:{[ro.id]:Kt}}}}let It=o||s,[pt,Bt]=RI(t.history,w,Q,rt,q,d.v7_partialHydration&&Pe===!0,d.v7_skipActionErrorRevalidation,L,U,W,me,ae,X,It,l,je);if(Sl(gt=>!(Q&&Q.some(Kt=>Kt.route.id===gt))||pt&&pt.some(Kt=>Kt.route.id===gt)),Y=++H,pt.length===0&&Bt.length===0){let gt=ya();return Fe(q,rr({matches:Q,loaderData:{},errors:je&&fi(je[1])?{[je[0]]:je[1].error}:null},BI(je),gt?{fetchers:new Map(w.fetchers)}:{}),{flushSync:Ee}),{shortCircuited:!0}}if(_r){let gt={};if(!oe){gt.navigation=Ge;let Kt=ni(je);Kt!==void 0&&(gt.actionData=Kt)}Bt.length>0&&(gt.fetchers=ii(Bt)),J(gt,{flushSync:Ee})}Bt.forEach(gt=>{ai(gt.key),gt.controller&&$.set(gt.key,gt.controller)});let Qa=()=>Bt.forEach(gt=>ai(gt.key));k&&k.signal.addEventListener("abort",Qa);let{loaderResults:eo,fetcherResults:zi}=await ie(w,Q,pt,Bt,z);if(z.signal.aborted)return{shortCircuited:!0};k&&k.signal.removeEventListener("abort",Qa),Bt.forEach(gt=>$.delete(gt.key));let In=Dy(eo);if(In)return await pe(z,In.result,!0,{replace:Oe}),{shortCircuited:!0};if(In=Dy(zi),In)return X.add(In.key),await pe(z,In.result,!0,{replace:Oe}),{shortCircuited:!0};let{loaderData:ic,errors:Xa}=FI(w,Q,eo,je,Bt,zi,De);De.forEach((gt,Kt)=>{gt.subscribe(Za=>{(Za||gt.done)&&De.delete(Kt)})}),d.v7_partialHydration&&Pe&&w.errors&&(Xa=rr({},w.errors,Xa));let si=ya(),Ei=rc(Y),to=si||Ei||Bt.length>0;return rr({matches:Q,loaderData:ic,errors:Xa},to?{fetchers:new Map(w.fetchers)}:{})}function ni(z){if(z&&!fi(z[1]))return{[z[0]]:z[1].data};if(w.actionData)return Object.keys(w.actionData).length===0?null:w.actionData}function ii(z){return z.forEach(q=>{let Q=w.fetchers.get(q.key),oe=rh(void 0,Q?Q.data:void 0);w.fetchers.set(q.key,oe)}),new Map(w.fetchers)}function F(z,q,Q,oe){if(n)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");ai(z);let ve=(oe&&oe.flushSync)===!0,Ne=o||s,We=Q_(w.location,w.matches,l,d.v7_prependBasename,Q,d.v7_relativeSplatPath,q,oe==null?void 0:oe.relative),Oe=Ll(Ne,We,l),Pe=Tl(Oe,Ne,We);if(Pe.active&&Pe.matches&&(Oe=Pe.matches),!Oe){ot(z,q,Hn(404,{pathname:We}),{flushSync:ve});return}let{path:Ee,submission:je,error:Ge}=NI(d.v7_normalizeFormMethod,!0,We,oe);if(Ge){ot(z,q,Ge,{flushSync:ve});return}let rt=_h(Oe,Ee),_r=(oe&&oe.preventScrollReset)===!0;if(je&&Xi(je.formMethod)){K(z,q,Ee,rt,Oe,Pe.active,ve,_r,je);return}ae.set(z,{routeId:q,path:Ee}),ee(z,q,Ee,rt,Oe,Pe.active,ve,_r,je)}async function K(z,q,Q,oe,ve,Ne,We,Oe,Pe){xe(),ae.delete(z);function Ee(tr){if(!tr.route.action&&!tr.route.lazy){let ba=Hn(405,{method:Pe.formMethod,pathname:Q,routeId:q});return ot(z,q,ba,{flushSync:We}),!0}return!1}if(!Ne&&Ee(oe))return;let je=w.fetchers.get(z);tt(z,Jz(Pe,je),{flushSync:We});let Ge=new AbortController,rt=uc(t.history,Q,Ge.signal,Pe);if(Ne){let tr=await xa(ve,new URL(rt.url).pathname,rt.signal,z);if(tr.type==="aborted")return;if(tr.type==="error"){ot(z,q,tr.error,{flushSync:We});return}else if(tr.matches){if(ve=tr.matches,oe=_h(ve,Q),Ee(oe))return}else{ot(z,q,Hn(404,{pathname:Q}),{flushSync:We});return}}$.set(z,Ge);let _r=H,pt=(await de("action",w,rt,[oe],ve,z))[oe.route.id];if(rt.signal.aborted){$.get(z)===Ge&&$.delete(z);return}if(d.v7_fetcherPersist&&me.has(z)){if(ql(pt)||fi(pt)){tt(z,lo(void 0));return}}else{if(ql(pt))if($.delete(z),Y>_r){tt(z,lo(void 0));return}else return X.add(z),tt(z,rh(Pe)),pe(rt,pt,!1,{fetcherSubmission:Pe,preventScrollReset:Oe});if(fi(pt)){ot(z,q,pt.error);return}}if(Mo(pt))throw Hn(400,{type:"defer-action"});let Bt=w.navigation.location||w.location,Qa=uc(t.history,Bt,Ge.signal),eo=o||s,zi=w.navigation.state!=="idle"?Ll(eo,w.navigation.location,l):w.matches;lt(zi,"Didn't find any matches after fetcher action");let In=++H;re.set(z,In);let ic=rh(Pe,pt.data);w.fetchers.set(z,ic);let[Xa,si]=RI(t.history,w,zi,Pe,Bt,!1,d.v7_skipActionErrorRevalidation,L,U,W,me,ae,X,eo,l,[oe.route.id,pt]);si.filter(tr=>tr.key!==z).forEach(tr=>{let ba=tr.key,Ff=w.fetchers.get(ba),ay=rh(void 0,Ff?Ff.data:void 0);w.fetchers.set(ba,ay),ai(ba),tr.controller&&$.set(ba,tr.controller)}),J({fetchers:new Map(w.fetchers)});let Ei=()=>si.forEach(tr=>ai(tr.key));Ge.signal.addEventListener("abort",Ei);let{loaderResults:to,fetcherResults:gt}=await ie(w,zi,Xa,si,Qa);if(Ge.signal.aborted)return;Ge.signal.removeEventListener("abort",Ei),re.delete(z),$.delete(z),si.forEach(tr=>$.delete(tr.key));let Kt=Dy(to);if(Kt)return pe(Qa,Kt.result,!1,{preventScrollReset:Oe});if(Kt=Dy(gt),Kt)return X.add(Kt.key),pe(Qa,Kt.result,!1,{preventScrollReset:Oe});let{loaderData:Za,errors:ro}=FI(w,zi,to,void 0,si,gt,De);if(w.fetchers.has(z)){let tr=lo(pt.data);w.fetchers.set(z,tr)}rc(In),w.navigation.state==="loading"&&In>Y?(lt(S,"Expected pending action"),k&&k.abort(),Fe(w.navigation.location,{matches:zi,loaderData:Za,errors:ro,fetchers:new Map(w.fetchers)})):(J({errors:ro,loaderData:VI(w.loaderData,Za,zi,ro),fetchers:new Map(w.fetchers)}),L=!1)}async function ee(z,q,Q,oe,ve,Ne,We,Oe,Pe){let Ee=w.fetchers.get(z);tt(z,rh(Pe,Ee?Ee.data:void 0),{flushSync:We});let je=new AbortController,Ge=uc(t.history,Q,je.signal);if(Ne){let pt=await xa(ve,new URL(Ge.url).pathname,Ge.signal,z);if(pt.type==="aborted")return;if(pt.type==="error"){ot(z,q,pt.error,{flushSync:We});return}else if(pt.matches)ve=pt.matches,oe=_h(ve,Q);else{ot(z,q,Hn(404,{pathname:Q}),{flushSync:We});return}}$.set(z,je);let rt=H,It=(await de("loader",w,Ge,[oe],ve,z))[oe.route.id];if(Mo(It)&&(It=await SA(It,Ge.signal,!0)||It),$.get(z)===je&&$.delete(z),!Ge.signal.aborted){if(me.has(z)){tt(z,lo(void 0));return}if(ql(It))if(Y>rt){tt(z,lo(void 0));return}else{X.add(z),await pe(Ge,It,!1,{preventScrollReset:Oe});return}if(fi(It)){ot(z,q,It.error);return}lt(!Mo(It),"Unhandled fetcher deferred data"),tt(z,lo(It.data))}}async function pe(z,q,Q,oe){let{submission:ve,fetcherSubmission:Ne,preventScrollReset:We,replace:Oe}=oe===void 0?{}:oe;q.response.headers.has("X-Remix-Revalidate")&&(L=!0);let Pe=q.response.headers.get("Location");lt(Pe,"Expected a Location header on the redirect Response"),Pe=$I(Pe,new URL(z.url),l);let Ee=xp(w.location,Pe,{_isRedirect:!0});if(r){let pt=!1;if(q.response.headers.has("X-Remix-Reload-Document"))pt=!0;else if(EA.test(Pe)){const Bt=t.history.createURL(Pe);pt=Bt.origin!==e.location.origin||js(Bt.pathname,l)==null}if(pt){Oe?e.location.replace(Pe):e.location.assign(Pe);return}}k=null;let je=Oe===!0||q.response.headers.has("X-Remix-Replace")?Tr.Replace:Tr.Push,{formMethod:Ge,formAction:rt,formEncType:_r}=w.navigation;!ve&&!Ne&&Ge&&rt&&_r&&(ve=WI(w.navigation));let It=ve||Ne;if(jz.has(q.response.status)&&It&&Xi(It.formMethod))await xt(je,Ee,{submission:rr({},It,{formAction:Pe}),preventScrollReset:We||I,enableViewTransition:Q?N:void 0});else{let pt=sw(Ee,ve);await xt(je,Ee,{overrideNavigation:pt,fetcherSubmission:Ne,preventScrollReset:We||I,enableViewTransition:Q?N:void 0})}}async function de(z,q,Q,oe,ve,Ne){let We,Oe={};try{We=await Bz(u,z,q,Q,oe,ve,Ne,a,i)}catch(Pe){return oe.forEach(Ee=>{Oe[Ee.route.id]={type:Ct.error,error:Pe}}),Oe}for(let[Pe,Ee]of Object.entries(We))if(Kz(Ee)){let je=Ee.result;Oe[Pe]={type:Ct.redirect,response:Wz(je,Q,Pe,ve,l,d.v7_relativeSplatPath)}}else Oe[Pe]=await zz(Ee);return Oe}async function ie(z,q,Q,oe,ve){let Ne=z.matches,We=de("loader",z,ve,Q,q,null),Oe=Promise.all(oe.map(async je=>{if(je.matches&&je.match&&je.controller){let rt=(await de("loader",z,uc(t.history,je.path,je.controller.signal),[je.match],je.matches,je.key))[je.match.route.id];return{[je.key]:rt}}else return Promise.resolve({[je.key]:{type:Ct.error,error:Hn(404,{pathname:je.path})}})})),Pe=await We,Ee=(await Oe).reduce((je,Ge)=>Object.assign(je,Ge),{});return await Promise.all([Qz(q,Pe,ve.signal,Ne,z.loaderData),Xz(q,Ee,oe)]),{loaderResults:Pe,fetcherResults:Ee}}function xe(){L=!0,U.push(...Sl()),ae.forEach((z,q)=>{$.has(q)&&W.add(q),ai(q)})}function tt(z,q,Q){Q===void 0&&(Q={}),w.fetchers.set(z,q),J({fetchers:new Map(w.fetchers)},{flushSync:(Q&&Q.flushSync)===!0})}function ot(z,q,Q,oe){oe===void 0&&(oe={});let ve=Fl(w.matches,q);Ui(z),J({errors:{[ve.route.id]:Q},fetchers:new Map(w.fetchers)},{flushSync:(oe&&oe.flushSync)===!0})}function zr(z){return se.set(z,(se.get(z)||0)+1),me.has(z)&&me.delete(z),w.fetchers.get(z)||Rz}function Ui(z){let q=w.fetchers.get(z);$.has(z)&&!(q&&q.state==="loading"&&re.has(z))&&ai(z),ae.delete(z),re.delete(z),X.delete(z),d.v7_fetcherPersist&&me.delete(z),W.delete(z),w.fetchers.delete(z)}function hn(z){let q=(se.get(z)||0)-1;q<=0?(se.delete(z),me.add(z),d.v7_fetcherPersist||Ui(z)):se.set(z,q),J({fetchers:new Map(w.fetchers)})}function ai(z){let q=$.get(z);q&&(q.abort(),$.delete(z))}function Ga(z){for(let q of z){let Q=zr(q),oe=lo(Q.data);w.fetchers.set(q,oe)}}function ya(){let z=[],q=!1;for(let Q of X){let oe=w.fetchers.get(Q);lt(oe,"Expected fetcher: "+Q),oe.state==="loading"&&(X.delete(Q),z.push(Q),q=!0)}return Ga(z),q}function rc(z){let q=[];for(let[Q,oe]of re)if(oe<z){let ve=w.fetchers.get(Q);lt(ve,"Expected fetcher: "+Q),ve.state==="loading"&&(ai(Q),re.delete(Q),q.push(Q))}return Ga(q),q.length>0}function nc(z,q){let Q=w.blockers.get(z)||th;return nt.get(z)!==q&&nt.set(z,q),Q}function Js(z){w.blockers.delete(z),nt.delete(z)}function ga(z,q){let Q=w.blockers.get(z)||th;lt(Q.state==="unblocked"&&q.state==="blocked"||Q.state==="blocked"&&q.state==="blocked"||Q.state==="blocked"&&q.state==="proceeding"||Q.state==="blocked"&&q.state==="unblocked"||Q.state==="proceeding"&&q.state==="unblocked","Invalid blocker state transition: "+Q.state+" -> "+q.state);let oe=new Map(w.blockers);oe.set(z,q),J({blockers:oe})}function $f(z){let{currentLocation:q,nextLocation:Q,historyAction:oe}=z;if(nt.size===0)return;nt.size>1&&Eu(!1,"A router only supports one blocker at a time");let ve=Array.from(nt.entries()),[Ne,We]=ve[ve.length-1],Oe=w.blockers.get(Ne);if(!(Oe&&Oe.state==="proceeding")&&We({currentLocation:q,nextLocation:Q,historyAction:oe}))return Ne}function Ya(z){let q=Hn(404,{pathname:z}),Q=o||s,{matches:oe,route:ve}=UI(Q);return Sl(),{notFoundMatches:oe,route:ve,error:q}}function Sl(z){let q=[];return De.forEach((Q,oe)=>{(!z||z(oe))&&(Q.cancel(),q.push(oe),De.delete(oe))}),q}function Lf(z,q,Q){if(g=z,v=q,y=Q||null,!b&&w.navigation===aw){b=!0;let oe=Al(w.location,w.matches);oe!=null&&J({restoreScrollPosition:oe})}return()=>{g=null,v=null,y=null}}function va(z,q){return y&&y(z,q.map(oe=>cz(oe,w.loaderData)))||z.key}function ny(z,q){if(g&&v){let Q=va(z,q);g[Q]=v()}}function Al(z,q){if(g){let Q=va(z,q),oe=g[Q];if(typeof oe=="number")return oe}return null}function Tl(z,q,Q){if(c)if(z){if(Object.keys(z[0].params).length>0)return{active:!0,matches:vg(q,Q,l,!0)}}else return{active:!0,matches:vg(q,Q,l,!0)||[]};return{active:!1,matches:null}}async function xa(z,q,Q,oe){if(!c)return{type:"success",matches:z};let ve=z;for(;;){let Ne=o==null,We=o||s,Oe=a;try{await c({signal:Q,path:q,matches:ve,fetcherKey:oe,patch:(je,Ge)=>{Q.aborted||MI(je,Ge,We,Oe,i)}})}catch(je){return{type:"error",error:je,partialMatches:ve}}finally{Ne&&!Q.aborted&&(s=[...s])}if(Q.aborted)return{type:"aborted"};let Pe=Ll(We,q,l);if(Pe)return{type:"success",matches:Pe};let Ee=vg(We,q,l,!0);if(!Ee||ve.length===Ee.length&&ve.every((je,Ge)=>je.route.id===Ee[Ge].route.id))return{type:"success",matches:null};ve=Ee}}function iy(z){a={},o=tv(z,i,void 0,a)}function Jr(z,q){let Q=o==null;MI(z,q,o||s,a,i),Q&&(s=[...s],J({}))}return P={get basename(){return l},get future(){return d},get state(){return w},get routes(){return s},get window(){return e},initialize:fe,subscribe:ye,enableScrollRestoration:Lf,navigate:qe,fetch:F,revalidate:Mt,createHref:z=>t.history.createHref(z),encodeLocation:z=>t.history.encodeLocation(z),getFetcher:zr,deleteFetcher:hn,dispose:_e,getBlocker:nc,deleteBlocker:Js,patchRoutes:Jr,_internalFetchControllers:$,_internalActiveDeferreds:De,_internalSetRoutes:iy},P}function $z(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Q_(t,e,r,n,i,a,s,o){let l,u;if(s){l=[];for(let d of e)if(l.push(d),d.route.id===s){u=d;break}}else l=e,u=e[e.length-1];let c=rx(i||".",tx(l,a),js(t.pathname,r)||t.pathname,o==="path");if(i==null&&(c.search=t.search,c.hash=t.hash),(i==null||i===""||i===".")&&u){let d=AA(c.search);if(u.route.index&&!d)c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index";else if(!u.route.index&&d){let h=new URLSearchParams(c.search),p=h.getAll("index");h.delete("index"),p.filter(y=>y).forEach(y=>h.append("index",y));let g=h.toString();c.search=g?"?"+g:""}}return n&&r!=="/"&&(c.pathname=c.pathname==="/"?r:_s([r,c.pathname])),Su(c)}function NI(t,e,r,n){if(!n||!$z(n))return{path:r};if(n.formMethod&&!Yz(n.formMethod))return{path:r,error:Hn(405,{method:n.formMethod})};let i=()=>({path:r,error:Hn(400,{type:"invalid-body"})}),a=n.formMethod||"get",s=t?a.toUpperCase():a.toLowerCase(),o=H$(r);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Xi(s))return i();let h=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((p,g)=>{let[y,v]=g;return""+p+y+"="+v+`
`},""):String(n.body);return{path:r,submission:{formMethod:s,formAction:o,formEncType:n.formEncType,formData:void 0,json:void 0,text:h}}}else if(n.formEncType==="application/json"){if(!Xi(s))return i();try{let h=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:r,submission:{formMethod:s,formAction:o,formEncType:n.formEncType,formData:void 0,json:h,text:void 0}}}catch{return i()}}}lt(typeof FormData=="function","FormData is not available in this environment");let l,u;if(n.formData)l=Z_(n.formData),u=n.formData;else if(n.body instanceof FormData)l=Z_(n.body),u=n.body;else if(n.body instanceof URLSearchParams)l=n.body,u=LI(l);else if(n.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(n.body),u=LI(l)}catch{return i()}let c={formMethod:s,formAction:o,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(Xi(c.formMethod))return{path:r,submission:c};let d=ml(r);return e&&d.search&&AA(d.search)&&l.append("index",""),d.search="?"+l,{path:Su(d),submission:c}}function jI(t,e,r){r===void 0&&(r=!1);let n=t.findIndex(i=>i.route.id===e);return n>=0?t.slice(0,r?n+1:n):t}function RI(t,e,r,n,i,a,s,o,l,u,c,d,h,p,g,y){let v=y?fi(y[1])?y[1].error:y[1].data:void 0,b=t.createURL(e.location),x=t.createURL(i),_=r;a&&e.errors?_=jI(r,Object.keys(e.errors)[0],!0):y&&fi(y[1])&&(_=jI(r,y[0]));let O=y?y[1].statusCode:void 0,E=s&&O&&O>=400,P=_.filter((S,I)=>{let{route:k}=S;if(k.lazy)return!0;if(k.loader==null)return!1;if(a)return X_(k,e.loaderData,e.errors);if(Lz(e.loaderData,e.matches[I],S)||l.some(j=>j===S.route.id))return!0;let N=e.matches[I],R=S;return DI(S,rr({currentUrl:b,currentParams:N.params,nextUrl:x,nextParams:R.params},n,{actionResult:v,actionStatus:O,defaultShouldRevalidate:E?!1:o||b.pathname+b.search===x.pathname+x.search||b.search!==x.search||z$(N,R)}))}),w=[];return d.forEach((S,I)=>{if(a||!r.some(B=>B.route.id===S.routeId)||c.has(I))return;let k=Ll(p,S.path,g);if(!k){w.push({key:I,routeId:S.routeId,path:S.path,matches:null,match:null,controller:null});return}let N=e.fetchers.get(I),R=_h(k,S.path),j=!1;h.has(I)?j=!1:u.has(I)?(u.delete(I),j=!0):N&&N.state!=="idle"&&N.data===void 0?j=o:j=DI(R,rr({currentUrl:b,currentParams:e.matches[e.matches.length-1].params,nextUrl:x,nextParams:r[r.length-1].params},n,{actionResult:v,actionStatus:O,defaultShouldRevalidate:E?!1:o})),j&&w.push({key:I,routeId:S.routeId,path:S.path,matches:k,match:R,controller:new AbortController})}),[P,w]}function X_(t,e,r){if(t.lazy)return!0;if(!t.loader)return!1;let n=e!=null&&e[t.id]!==void 0,i=r!=null&&r[t.id]!==void 0;return!n&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!n&&!i}function Lz(t,e,r){let n=!e||r.route.id!==e.route.id,i=t[r.route.id]===void 0;return n||i}function z$(t,e){let r=t.route.path;return t.pathname!==e.pathname||r!=null&&r.endsWith("*")&&t.params["*"]!==e.params["*"]}function DI(t,e){if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate(e);if(typeof r=="boolean")return r}return e.defaultShouldRevalidate}function MI(t,e,r,n,i){var a;let s;if(t){let u=n[t];lt(u,"No route found to patch children into: routeId = "+t),u.children||(u.children=[]),s=u.children}else s=r;let o=e.filter(u=>!s.some(c=>W$(u,c))),l=tv(o,i,[t||"_","patch",String(((a=s)==null?void 0:a.length)||"0")],n);s.push(...l)}function W$(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((r,n)=>{var i;return(i=e.children)==null?void 0:i.some(a=>W$(r,a))}):!1}async function Fz(t,e,r){if(!t.lazy)return;let n=await t.lazy();if(!t.lazy)return;let i=r[t.id];lt(i,"No route found in manifest");let a={};for(let s in n){let l=i[s]!==void 0&&s!=="hasErrorBoundary";Eu(!l,'Route "'+i.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+s+'" will be ignored.')),!l&&!lz.has(s)&&(a[s]=n[s])}Object.assign(i,a),Object.assign(i,rr({},e(i),{lazy:void 0}))}async function Vz(t){let{matches:e}=t,r=e.filter(i=>i.shouldLoad);return(await Promise.all(r.map(i=>i.resolve()))).reduce((i,a,s)=>Object.assign(i,{[r[s].route.id]:a}),{})}async function Bz(t,e,r,n,i,a,s,o,l,u){let c=a.map(p=>p.route.lazy?Fz(p.route,l,o):void 0),d=a.map((p,g)=>{let y=c[g],v=i.some(x=>x.route.id===p.route.id);return rr({},p,{shouldLoad:v,resolve:async x=>(x&&n.method==="GET"&&(p.route.lazy||p.route.loader)&&(v=!0),v?Uz(e,n,p,y,x,u):Promise.resolve({type:Ct.data,result:void 0}))})}),h=await t({matches:d,request:n,params:a[0].params,fetcherKey:s,context:u});try{await Promise.all(c)}catch{}return h}async function Uz(t,e,r,n,i,a){let s,o,l=u=>{let c,d=new Promise((g,y)=>c=y);o=()=>c(),e.signal.addEventListener("abort",o);let h=g=>typeof u!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+r.route.id+"]"))):u({request:e,params:r.params,context:a},...g!==void 0?[g]:[]),p=(async()=>{try{return{type:"data",result:await(i?i(y=>h(y)):h())}}catch(g){return{type:"error",result:g}}})();return Promise.race([p,d])};try{let u=r.route[t];if(n)if(u){let c,[d]=await Promise.all([l(u).catch(h=>{c=h}),n]);if(c!==void 0)throw c;s=d}else if(await n,u=r.route[t],u)s=await l(u);else if(t==="action"){let c=new URL(e.url),d=c.pathname+c.search;throw Hn(405,{method:e.method,pathname:d,routeId:r.route.id})}else return{type:Ct.data,result:void 0};else if(u)s=await l(u);else{let c=new URL(e.url),d=c.pathname+c.search;throw Hn(404,{pathname:d})}lt(s.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+r.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(u){return{type:Ct.error,result:u}}finally{o&&e.signal.removeEventListener("abort",o)}return s}async function zz(t){let{result:e,type:r}=t;if(q$(e)){let d;try{let h=e.headers.get("Content-Type");h&&/\bapplication\/json\b/.test(h)?e.body==null?d=null:d=await e.json():d=await e.text()}catch(h){return{type:Ct.error,error:h}}return r===Ct.error?{type:Ct.error,error:new nv(e.status,e.statusText,d),statusCode:e.status,headers:e.headers}:{type:Ct.data,data:d,statusCode:e.status,headers:e.headers}}if(r===Ct.error){if(zI(e)){var n,i;if(e.data instanceof Error){var a,s;return{type:Ct.error,error:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(s=e.init)!=null&&s.headers?new Headers(e.init.headers):void 0}}return{type:Ct.error,error:new nv(((n=e.init)==null?void 0:n.status)||500,void 0,e.data),statusCode:bp(e)?e.status:void 0,headers:(i=e.init)!=null&&i.headers?new Headers(e.init.headers):void 0}}return{type:Ct.error,error:e,statusCode:bp(e)?e.status:void 0}}if(Gz(e)){var o,l;return{type:Ct.deferred,deferredData:e,statusCode:(o=e.init)==null?void 0:o.status,headers:((l=e.init)==null?void 0:l.headers)&&new Headers(e.init.headers)}}if(zI(e)){var u,c;return{type:Ct.data,data:e.data,statusCode:(u=e.init)==null?void 0:u.status,headers:(c=e.init)!=null&&c.headers?new Headers(e.init.headers):void 0}}return{type:Ct.data,data:e}}function Wz(t,e,r,n,i,a){let s=t.headers.get("Location");if(lt(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!EA.test(s)){let o=n.slice(0,n.findIndex(l=>l.route.id===r)+1);s=Q_(new URL(e.url),o,i,!0,s,a),t.headers.set("Location",s)}return t}function $I(t,e,r){if(EA.test(t)){let n=t,i=n.startsWith("//")?new URL(e.protocol+n):new URL(n),a=js(i.pathname,r)!=null;if(i.origin===e.origin&&a)return i.pathname+i.search+i.hash}return t}function uc(t,e,r,n){let i=t.createURL(H$(e)).toString(),a={signal:r};if(n&&Xi(n.formMethod)){let{formMethod:s,formEncType:o}=n;a.method=s.toUpperCase(),o==="application/json"?(a.headers=new Headers({"Content-Type":o}),a.body=JSON.stringify(n.json)):o==="text/plain"?a.body=n.text:o==="application/x-www-form-urlencoded"&&n.formData?a.body=Z_(n.formData):a.body=n.formData}return new Request(i,a)}function Z_(t){let e=new URLSearchParams;for(let[r,n]of t.entries())e.append(r,typeof n=="string"?n:n.name);return e}function LI(t){let e=new FormData;for(let[r,n]of t.entries())e.append(r,n);return e}function Hz(t,e,r,n,i){let a={},s=null,o,l=!1,u={},c=r&&fi(r[1])?r[1].error:void 0;return t.forEach(d=>{if(!(d.route.id in e))return;let h=d.route.id,p=e[h];if(lt(!ql(p),"Cannot handle redirect results in processLoaderData"),fi(p)){let g=p.error;c!==void 0&&(g=c,c=void 0),s=s||{};{let y=Fl(t,h);s[y.route.id]==null&&(s[y.route.id]=g)}a[h]=void 0,l||(l=!0,o=bp(p.error)?p.error.status:500),p.headers&&(u[h]=p.headers)}else Mo(p)?(n.set(h,p.deferredData),a[h]=p.deferredData.data,p.statusCode!=null&&p.statusCode!==200&&!l&&(o=p.statusCode),p.headers&&(u[h]=p.headers)):(a[h]=p.data,p.statusCode&&p.statusCode!==200&&!l&&(o=p.statusCode),p.headers&&(u[h]=p.headers))}),c!==void 0&&r&&(s={[r[0]]:c},a[r[0]]=void 0),{loaderData:a,errors:s,statusCode:o||200,loaderHeaders:u}}function FI(t,e,r,n,i,a,s){let{loaderData:o,errors:l}=Hz(e,r,n,s);return i.forEach(u=>{let{key:c,match:d,controller:h}=u,p=a[c];if(lt(p,"Did not find corresponding fetcher result"),!(h&&h.signal.aborted))if(fi(p)){let g=Fl(t.matches,d==null?void 0:d.route.id);l&&l[g.route.id]||(l=rr({},l,{[g.route.id]:p.error})),t.fetchers.delete(c)}else if(ql(p))lt(!1,"Unhandled fetcher revalidation redirect");else if(Mo(p))lt(!1,"Unhandled fetcher deferred data");else{let g=lo(p.data);t.fetchers.set(c,g)}}),{loaderData:o,errors:l}}function VI(t,e,r,n){let i=rr({},e);for(let a of r){let s=a.route.id;if(e.hasOwnProperty(s)?e[s]!==void 0&&(i[s]=e[s]):t[s]!==void 0&&a.route.loader&&(i[s]=t[s]),n&&n.hasOwnProperty(s))break}return i}function BI(t){return t?fi(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Fl(t,e){return(e?t.slice(0,t.findIndex(n=>n.route.id===e)+1):[...t]).reverse().find(n=>n.route.hasErrorBoundary===!0)||t[0]}function UI(t){let e=t.length===1?t[0]:t.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Hn(t,e){let{pathname:r,routeId:n,method:i,type:a,message:s}=e===void 0?{}:e,o="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(o="Bad Request",i&&r&&n?l="You made a "+i+' request to "'+r+'" but '+('did not provide a `loader` for route "'+n+'", ')+"so there is no way to handle the request.":a==="defer-action"?l="defer() is not supported in actions":a==="invalid-body"&&(l="Unable to encode submission body")):t===403?(o="Forbidden",l='Route "'+n+'" does not match URL "'+r+'"'):t===404?(o="Not Found",l='No route matches URL "'+r+'"'):t===405&&(o="Method Not Allowed",i&&r&&n?l="You made a "+i.toUpperCase()+' request to "'+r+'" but '+('did not provide an `action` for route "'+n+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new nv(t||500,o,new Error(l),!0)}function Dy(t){let e=Object.entries(t);for(let r=e.length-1;r>=0;r--){let[n,i]=e[r];if(ql(i))return{key:n,result:i}}}function H$(t){let e=typeof t=="string"?ml(t):t;return Su(rr({},e,{hash:""}))}function qz(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function Kz(t){return q$(t.result)&&Nz.has(t.result.status)}function Mo(t){return t.type===Ct.deferred}function fi(t){return t.type===Ct.error}function ql(t){return(t&&t.type)===Ct.redirect}function zI(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function Gz(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function q$(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function Yz(t){return kz.has(t.toLowerCase())}function Xi(t){return Iz.has(t.toLowerCase())}async function Qz(t,e,r,n,i){let a=Object.entries(e);for(let s=0;s<a.length;s++){let[o,l]=a[s],u=t.find(h=>(h==null?void 0:h.route.id)===o);if(!u)continue;let c=n.find(h=>h.route.id===u.route.id),d=c!=null&&!z$(c,u)&&(i&&i[u.route.id])!==void 0;Mo(l)&&d&&await SA(l,r,!1).then(h=>{h&&(e[o]=h)})}}async function Xz(t,e,r){for(let n=0;n<r.length;n++){let{key:i,routeId:a,controller:s}=r[n],o=e[i];t.find(u=>(u==null?void 0:u.route.id)===a)&&Mo(o)&&(lt(s,"Expected an AbortController for revalidating fetcher deferred result"),await SA(o,s.signal,!0).then(u=>{u&&(e[i]=u)}))}}async function SA(t,e,r){if(r===void 0&&(r=!1),!await t.deferredData.resolveData(e)){if(r)try{return{type:Ct.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Ct.error,error:i}}return{type:Ct.data,data:t.deferredData.data}}}function AA(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function _h(t,e){let r=typeof e=="string"?ml(e).search:e.search;if(t[t.length-1].route.index&&AA(r||""))return t[t.length-1];let n=V$(t);return n[n.length-1]}function WI(t){let{formMethod:e,formAction:r,formEncType:n,text:i,formData:a,json:s}=t;if(!(!e||!r||!n)){if(i!=null)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:void 0,text:i};if(a!=null)return{formMethod:e,formAction:r,formEncType:n,formData:a,json:void 0,text:void 0};if(s!==void 0)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:s,text:void 0}}}function sw(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Zz(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function rh(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Jz(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function lo(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function e7(t,e){try{let r=t.sessionStorage.getItem(U$);if(r){let n=JSON.parse(r);for(let[i,a]of Object.entries(n||{}))a&&Array.isArray(a)&&e.set(i,new Set(a||[]))}}catch{}}function t7(t,e){if(e.size>0){let r={};for(let[n,i]of e)r[n]=[...i];try{t.sessionStorage.setItem(U$,JSON.stringify(r))}catch(n){Eu(!1,"Failed to save applied view transitions in sessionStorage ("+n+").")}}}/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function iv(){return iv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},iv.apply(this,arguments)}const Pm=T.createContext(null),TA=T.createContext(null),Ws=T.createContext(null),PA=T.createContext(null),Hs=T.createContext({outlet:null,matches:[],isDataRoute:!1}),K$=T.createContext(null);function r7(t,e){let{relative:r}=e===void 0?{}:e;uf()||lt(!1);let{basename:n,navigator:i}=T.useContext(Ws),{hash:a,pathname:s,search:o}=nx(t,{relative:r}),l=s;return n!=="/"&&(l=s==="/"?n:_s([n,s])),i.createHref({pathname:l,search:o,hash:a})}function uf(){return T.useContext(PA)!=null}function cf(){return uf()||lt(!1),T.useContext(PA).location}function G$(t){T.useContext(Ws).static||T.useLayoutEffect(t)}function Om(){let{isDataRoute:t}=T.useContext(Hs);return t?y7():n7()}function n7(){uf()||lt(!1);let t=T.useContext(Pm),{basename:e,future:r,navigator:n}=T.useContext(Ws),{matches:i}=T.useContext(Hs),{pathname:a}=cf(),s=JSON.stringify(tx(i,r.v7_relativeSplatPath)),o=T.useRef(!1);return G$(()=>{o.current=!0}),T.useCallback(function(u,c){if(c===void 0&&(c={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let d=rx(u,JSON.parse(s),a,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:_s([e,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[e,n,s,a,t])}const i7=T.createContext(null);function a7(t){let e=T.useContext(Hs).outlet;return e&&T.createElement(i7.Provider,{value:t},e)}function nx(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=T.useContext(Ws),{matches:i}=T.useContext(Hs),{pathname:a}=cf(),s=JSON.stringify(tx(i,n.v7_relativeSplatPath));return T.useMemo(()=>rx(t,JSON.parse(s),a,r==="path"),[t,s,a,r])}function s7(t,e,r,n){uf()||lt(!1);let{navigator:i}=T.useContext(Ws),{matches:a}=T.useContext(Hs),s=a[a.length-1],o=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let u=cf(),c;c=u;let d=c.pathname||"/",h=d;if(l!=="/"){let y=l.replace(/^\//,"").split("/");h="/"+d.replace(/^\//,"").split("/").slice(y.length).join("/")}let p=Ll(t,{pathname:h});return d7(p&&p.map(y=>Object.assign({},y,{params:Object.assign({},o,y.params),pathname:_s([l,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:_s([l,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),a,r,n)}function o7(){let t=m7(),e=bp(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),r?T.createElement("pre",{style:i},r):null,null)}const l7=T.createElement(o7,null);class u7 extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?T.createElement(Hs.Provider,{value:this.props.routeContext},T.createElement(K$.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function c7(t){let{routeContext:e,match:r,children:n}=t,i=T.useContext(Pm);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),T.createElement(Hs.Provider,{value:e},n)}function d7(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var a;if(!r)return null;if(r.errors)t=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let s=t,o=(i=r)==null?void 0:i.errors;if(o!=null){let c=s.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);c>=0||lt(!1),s=s.slice(0,Math.min(s.length,c+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let c=0;c<s.length;c++){let d=s[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:h,errors:p}=r,g=d.route.loader&&h[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||g){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((c,d,h)=>{let p,g=!1,y=null,v=null;r&&(p=o&&d.route.id?o[d.route.id]:void 0,y=d.route.errorElement||l7,l&&(u<0&&h===0?(g7("route-fallback"),g=!0,v=null):u===h&&(g=!0,v=d.route.hydrateFallbackElement||null)));let b=e.concat(s.slice(0,h+1)),x=()=>{let _;return p?_=y:g?_=v:d.route.Component?_=T.createElement(d.route.Component,null):d.route.element?_=d.route.element:_=c,T.createElement(c7,{match:d,routeContext:{outlet:c,matches:b,isDataRoute:r!=null},children:_})};return r&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?T.createElement(u7,{location:r.location,revalidation:r.revalidation,component:y,error:p,children:x(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):x()},null)}var Y$=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Y$||{}),Q$=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Q$||{});function f7(t){let e=T.useContext(Pm);return e||lt(!1),e}function h7(t){let e=T.useContext(TA);return e||lt(!1),e}function p7(t){let e=T.useContext(Hs);return e||lt(!1),e}function X$(t){let e=p7(),r=e.matches[e.matches.length-1];return r.route.id||lt(!1),r.route.id}function m7(){var t;let e=T.useContext(K$),r=h7(),n=X$();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function y7(){let{router:t}=f7(Y$.UseNavigateStable),e=X$(Q$.UseNavigateStable),r=T.useRef(!1);return G$(()=>{r.current=!0}),T.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,iv({fromRouteId:e},a)))},[t,e])}const HI={};function g7(t,e,r){HI[t]||(HI[t]=!0)}function v7(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function qI(t){let{to:e,replace:r,state:n,relative:i}=t;uf()||lt(!1);let{future:a,static:s}=T.useContext(Ws),{matches:o}=T.useContext(Hs),{pathname:l}=cf(),u=Om(),c=rx(e,tx(o,a.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(c);return T.useEffect(()=>u(JSON.parse(d),{replace:r,state:n,relative:i}),[u,d,i,r,n]),null}function x7(t){return a7(t.context)}function b7(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Tr.Pop,navigator:a,static:s=!1,future:o}=t;uf()&&lt(!1);let l=e.replace(/^\/*/,"/"),u=T.useMemo(()=>({basename:l,navigator:a,static:s,future:iv({v7_relativeSplatPath:!1},o)}),[l,o,a,s]);typeof n=="string"&&(n=ml(n));let{pathname:c="/",search:d="",hash:h="",state:p=null,key:g="default"}=n,y=T.useMemo(()=>{let v=js(c,l);return v==null?null:{location:{pathname:v,search:d,hash:h,state:p,key:g},navigationType:i}},[l,c,d,h,p,g,i]);return y==null?null:T.createElement(Ws.Provider,{value:u},T.createElement(PA.Provider,{children:r,value:y}))}new Promise(()=>{});function w7(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:T.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:T.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:T.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gd(){return gd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gd.apply(this,arguments)}function Z$(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function _7(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function E7(t,e){return t.button===0&&(!e||e==="_self")&&!_7(t)}const S7=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],A7=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],T7="6";try{window.__reactRouterVersion=T7}catch{}function P7(t,e){return Mz({basename:e==null?void 0:e.basename,future:gd({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:az({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||O7(),routes:t,mapRouteProperties:w7,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function O7(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=gd({},e,{errors:I7(e.errors)})),e}function I7(t){if(!t)return null;let e=Object.entries(t),r={};for(let[n,i]of e)if(i&&i.__type==="RouteErrorResponse")r[n]=new nv(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let a=window[i.__subType];if(typeof a=="function")try{let s=new a(i.message);s.stack="",r[n]=s}catch{}}if(r[n]==null){let a=new Error(i.message);a.stack="",r[n]=a}}else r[n]=i;return r}const J$=T.createContext({isTransitioning:!1}),C7=T.createContext(new Map),k7="startTransition",KI=ud[k7],N7="flushSync",GI=iz[N7];function j7(t){KI?KI(t):t()}function nh(t){GI?GI(t):t()}let R7=class{constructor(){this.status="pending",this.promise=new Promise((e,r)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",e(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",r(n))}})}};function D7(t){let{fallbackElement:e,router:r,future:n}=t,[i,a]=T.useState(r.state),[s,o]=T.useState(),[l,u]=T.useState({isTransitioning:!1}),[c,d]=T.useState(),[h,p]=T.useState(),[g,y]=T.useState(),v=T.useRef(new Map),{v7_startTransition:b}=n||{},x=T.useCallback(S=>{b?j7(S):S()},[b]),_=T.useCallback((S,I)=>{let{deletedFetchers:k,flushSync:N,viewTransitionOpts:R}=I;S.fetchers.forEach((B,L)=>{B.data!==void 0&&v.current.set(L,B.data)}),k.forEach(B=>v.current.delete(B));let j=r.window==null||r.window.document==null||typeof r.window.document.startViewTransition!="function";if(!R||j){N?nh(()=>a(S)):x(()=>a(S));return}if(N){nh(()=>{h&&(c&&c.resolve(),h.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:R.currentLocation,nextLocation:R.nextLocation})});let B=r.window.document.startViewTransition(()=>{nh(()=>a(S))});B.finished.finally(()=>{nh(()=>{d(void 0),p(void 0),o(void 0),u({isTransitioning:!1})})}),nh(()=>p(B));return}h?(c&&c.resolve(),h.skipTransition(),y({state:S,currentLocation:R.currentLocation,nextLocation:R.nextLocation})):(o(S),u({isTransitioning:!0,flushSync:!1,currentLocation:R.currentLocation,nextLocation:R.nextLocation}))},[r.window,h,c,v,x]);T.useLayoutEffect(()=>r.subscribe(_),[r,_]),T.useEffect(()=>{l.isTransitioning&&!l.flushSync&&d(new R7)},[l]),T.useEffect(()=>{if(c&&s&&r.window){let S=s,I=c.promise,k=r.window.document.startViewTransition(async()=>{x(()=>a(S)),await I});k.finished.finally(()=>{d(void 0),p(void 0),o(void 0),u({isTransitioning:!1})}),p(k)}},[x,s,c,r.window]),T.useEffect(()=>{c&&s&&i.location.key===s.location.key&&c.resolve()},[c,h,i.location,s]),T.useEffect(()=>{!l.isTransitioning&&g&&(o(g.state),u({isTransitioning:!0,flushSync:!1,currentLocation:g.currentLocation,nextLocation:g.nextLocation}),y(void 0))},[l.isTransitioning,g]),T.useEffect(()=>{},[]);let O=T.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:S=>r.navigate(S),push:(S,I,k)=>r.navigate(S,{state:I,preventScrollReset:k==null?void 0:k.preventScrollReset}),replace:(S,I,k)=>r.navigate(S,{replace:!0,state:I,preventScrollReset:k==null?void 0:k.preventScrollReset})}),[r]),E=r.basename||"/",P=T.useMemo(()=>({router:r,navigator:O,static:!1,basename:E}),[r,O,E]),w=T.useMemo(()=>({v7_relativeSplatPath:r.future.v7_relativeSplatPath}),[r.future.v7_relativeSplatPath]);return T.useEffect(()=>v7(n,r.future),[n,r.future]),T.createElement(T.Fragment,null,T.createElement(Pm.Provider,{value:P},T.createElement(TA.Provider,{value:i},T.createElement(C7.Provider,{value:v.current},T.createElement(J$.Provider,{value:l},T.createElement(b7,{basename:E,location:i.location,navigationType:i.historyAction,navigator:O,future:w},i.initialized||r.future.v7_partialHydration?T.createElement(M7,{routes:r.routes,future:r.future,state:i}):e))))),null)}const M7=T.memo($7);function $7(t){let{routes:e,future:r,state:n}=t;return s7(e,void 0,n,r)}const L7=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",F7=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,J_=T.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:a,replace:s,state:o,target:l,to:u,preventScrollReset:c,viewTransition:d}=e,h=Z$(e,S7),{basename:p}=T.useContext(Ws),g,y=!1;if(typeof u=="string"&&F7.test(u)&&(g=u,L7))try{let _=new URL(window.location.href),O=u.startsWith("//")?new URL(_.protocol+u):new URL(u),E=js(O.pathname,p);O.origin===_.origin&&E!=null?u=E+O.search+O.hash:y=!0}catch{}let v=r7(u,{relative:i}),b=B7(u,{replace:s,state:o,target:l,preventScrollReset:c,relative:i,viewTransition:d});function x(_){n&&n(_),_.defaultPrevented||b(_)}return T.createElement("a",gd({},h,{href:g||v,onClick:y||a?n:x,ref:r,target:l}))}),YI=T.forwardRef(function(e,r){let{"aria-current":n="page",caseSensitive:i=!1,className:a="",end:s=!1,style:o,to:l,viewTransition:u,children:c}=e,d=Z$(e,A7),h=nx(l,{relative:d.relative}),p=cf(),g=T.useContext(TA),{navigator:y,basename:v}=T.useContext(Ws),b=g!=null&&U7(h)&&u===!0,x=y.encodeLocation?y.encodeLocation(h).pathname:h.pathname,_=p.pathname,O=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;i||(_=_.toLowerCase(),O=O?O.toLowerCase():null,x=x.toLowerCase()),O&&v&&(O=js(O,v)||O);const E=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let P=_===x||!s&&_.startsWith(x)&&_.charAt(E)==="/",w=O!=null&&(O===x||!s&&O.startsWith(x)&&O.charAt(x.length)==="/"),S={isActive:P,isPending:w,isTransitioning:b},I=P?n:void 0,k;typeof a=="function"?k=a(S):k=[a,P?"active":null,w?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let N=typeof o=="function"?o(S):o;return T.createElement(J_,gd({},d,{"aria-current":I,className:k,ref:r,style:N,to:l,viewTransition:u}),typeof c=="function"?c(S):c)});var e1;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(e1||(e1={}));var QI;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(QI||(QI={}));function V7(t){let e=T.useContext(Pm);return e||lt(!1),e}function B7(t,e){let{target:r,replace:n,state:i,preventScrollReset:a,relative:s,viewTransition:o}=e===void 0?{}:e,l=Om(),u=cf(),c=nx(t,{relative:s});return T.useCallback(d=>{if(E7(d,r)){d.preventDefault();let h=n!==void 0?n:Su(u)===Su(c);l(t,{replace:h,state:i,preventScrollReset:a,relative:s,viewTransition:o})}},[u,l,c,n,i,r,t,a,s,o])}function U7(t,e){e===void 0&&(e={});let r=T.useContext(J$);r==null&&lt(!1);let{basename:n}=V7(e1.useViewTransitionState),i=nx(t,{relative:e.relative});if(!r.isTransitioning)return!1;let a=js(r.currentLocation.pathname,n)||r.currentLocation.pathname,s=js(r.nextLocation.pathname,n)||r.nextLocation.pathname;return rv(i.pathname,s)!=null||rv(i.pathname,a)!=null}var df=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},z7={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},Ao,OS,pD,W7=(pD=class{constructor(){Le(this,Ao,z7);Le(this,OS,!1)}setTimeoutProvider(t){be(this,Ao,t)}setTimeout(t,e){return V(this,Ao).setTimeout(t,e)}clearTimeout(t){V(this,Ao).clearTimeout(t)}setInterval(t,e){return V(this,Ao).setInterval(t,e)}clearInterval(t){V(this,Ao).clearInterval(t)}},Ao=new WeakMap,OS=new WeakMap,pD),Kl=new W7;function H7(t){setTimeout(t,0)}var Au=typeof window>"u"||"Deno"in globalThis;function Rn(){}function q7(t,e){return typeof t=="function"?t(e):t}function t1(t){return typeof t=="number"&&t>=0&&t!==1/0}function eL(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Yo(t,e){return typeof t=="function"?t(e):t}function Oi(t,e){return typeof t=="function"?t(e):t}function XI(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:a,queryKey:s,stale:o}=t;if(s){if(n){if(e.queryHash!==OA(s,e.options))return!1}else if(!wp(e.queryKey,s))return!1}if(r!=="all"){const l=e.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||i&&i!==e.state.fetchStatus||a&&!a(e))}function ZI(t,e){const{exact:r,status:n,predicate:i,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(r){if(Tu(e.options.mutationKey)!==Tu(a))return!1}else if(!wp(e.options.mutationKey,a))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function OA(t,e){return((e==null?void 0:e.queryKeyHashFn)||Tu)(t)}function Tu(t){return JSON.stringify(t,(e,r)=>r1(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function wp(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>wp(t[r],e[r])):!1}var K7=Object.prototype.hasOwnProperty;function tL(t,e){if(t===e)return t;const r=JI(t)&&JI(e);if(!r&&!(r1(t)&&r1(e)))return e;const i=(r?t:Object.keys(t)).length,a=r?e:Object.keys(e),s=a.length,o=r?new Array(s):{};let l=0;for(let u=0;u<s;u++){const c=r?u:a[u],d=t[c],h=e[c];if(d===h){o[c]=d,(r?u<i:K7.call(t,c))&&l++;continue}if(d===null||h===null||typeof d!="object"||typeof h!="object"){o[c]=h;continue}const p=tL(d,h);o[c]=p,p===d&&l++}return i===s&&l===i?t:o}function av(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function JI(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function r1(t){if(!eC(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!eC(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function eC(t){return Object.prototype.toString.call(t)==="[object Object]"}function G7(t){return new Promise(e=>{Kl.setTimeout(e,t)})}function n1(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?tL(t,e):e}function Y7(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function Q7(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var IA=Symbol();function rL(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===IA?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function nL(t,e){return typeof t=="function"?t(...e):!!t}var ru,To,Xc,mD,X7=(mD=class extends df{constructor(){super();Le(this,ru);Le(this,To);Le(this,Xc);be(this,Xc,e=>{if(!Au&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){V(this,To)||this.setEventListener(V(this,Xc))}onUnsubscribe(){var e;this.hasListeners()||((e=V(this,To))==null||e.call(this),be(this,To,void 0))}setEventListener(e){var r;be(this,Xc,e),(r=V(this,To))==null||r.call(this),be(this,To,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){V(this,ru)!==e&&(be(this,ru,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof V(this,ru)=="boolean"?V(this,ru):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},ru=new WeakMap,To=new WeakMap,Xc=new WeakMap,mD),CA=new X7;function i1(){let t,e;const r=new Promise((i,a)=>{t=i,e=a});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},r.reject=i=>{n({status:"rejected",reason:i}),e(i)},r}var Z7=H7;function J7(){let t=[],e=0,r=o=>{o()},n=o=>{o()},i=Z7;const a=o=>{e?t.push(o):i(()=>{r(o)})},s=()=>{const o=t;t=[],o.length&&i(()=>{n(()=>{o.forEach(l=>{r(l)})})})};return{batch:o=>{let l;e++;try{l=o()}finally{e--,e||s()}return l},batchCalls:o=>(...l)=>{a(()=>{o(...l)})},schedule:a,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{i=o}}}var $r=J7(),Zc,Po,Jc,yD,e8=(yD=class extends df{constructor(){super();Le(this,Zc,!0);Le(this,Po);Le(this,Jc);be(this,Jc,e=>{if(!Au&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){V(this,Po)||this.setEventListener(V(this,Jc))}onUnsubscribe(){var e;this.hasListeners()||((e=V(this,Po))==null||e.call(this),be(this,Po,void 0))}setEventListener(e){var r;be(this,Jc,e),(r=V(this,Po))==null||r.call(this),be(this,Po,e(this.setOnline.bind(this)))}setOnline(e){V(this,Zc)!==e&&(be(this,Zc,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return V(this,Zc)}},Zc=new WeakMap,Po=new WeakMap,Jc=new WeakMap,yD),sv=new e8;function t8(t){return Math.min(1e3*2**t,3e4)}function iL(t){return(t??"online")==="online"?sv.isOnline():!0}var a1=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function aL(t){let e=!1,r=0,n;const i=i1(),a=()=>i.status!=="pending",s=y=>{var v;if(!a()){const b=new a1(y);h(b),(v=t.onCancel)==null||v.call(t,b)}},o=()=>{e=!0},l=()=>{e=!1},u=()=>CA.isFocused()&&(t.networkMode==="always"||sv.isOnline())&&t.canRun(),c=()=>iL(t.networkMode)&&t.canRun(),d=y=>{a()||(n==null||n(),i.resolve(y))},h=y=>{a()||(n==null||n(),i.reject(y))},p=()=>new Promise(y=>{var v;n=b=>{(a()||u())&&y(b)},(v=t.onPause)==null||v.call(t)}).then(()=>{var y;n=void 0,a()||(y=t.onContinue)==null||y.call(t)}),g=()=>{if(a())return;let y;const v=r===0?t.initialPromise:void 0;try{y=v??t.fn()}catch(b){y=Promise.reject(b)}Promise.resolve(y).then(d).catch(b=>{var P;if(a())return;const x=t.retry??(Au?0:3),_=t.retryDelay??t8,O=typeof _=="function"?_(r,b):_,E=x===!0||typeof x=="number"&&r<x||typeof x=="function"&&x(r,b);if(e||!E){h(b);return}r++,(P=t.onFail)==null||P.call(t,r,b),G7(O).then(()=>u()?void 0:p()).then(()=>{e?h(b):g()})})};return{promise:i,status:()=>i.status,cancel:s,continue:()=>(n==null||n(),i),cancelRetry:o,continueRetry:l,canStart:c,start:()=>(c()?g():p().then(g),i)}}var nu,gD,sL=(gD=class{constructor(){Le(this,nu)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),t1(this.gcTime)&&be(this,nu,Kl.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Au?1/0:5*60*1e3))}clearGcTimeout(){V(this,nu)&&(Kl.clearTimeout(V(this,nu)),be(this,nu,void 0))}},nu=new WeakMap,gD),iu,ed,Pi,au,Hr,gm,su,Gi,ns,vD,r8=(vD=class extends sL{constructor(r){super();Le(this,Gi);Le(this,iu);Le(this,ed);Le(this,Pi);Le(this,au);Le(this,Hr);Le(this,gm);Le(this,su);be(this,su,!1),be(this,gm,r.defaultOptions),this.setOptions(r.options),this.observers=[],be(this,au,r.client),be(this,Pi,V(this,au).getQueryCache()),this.queryKey=r.queryKey,this.queryHash=r.queryHash,be(this,iu,rC(this.options)),this.state=r.state??V(this,iu),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var r;return(r=V(this,Hr))==null?void 0:r.promise}setOptions(r){if(this.options={...V(this,gm),...r},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=rC(this.options);n.data!==void 0&&(this.setState(tC(n.data,n.dataUpdatedAt)),be(this,iu,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&V(this,Pi).remove(this)}setData(r,n){const i=n1(this.state.data,r,this.options);return st(this,Gi,ns).call(this,{data:i,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),i}setState(r,n){st(this,Gi,ns).call(this,{type:"setState",state:r,setStateOptions:n})}cancel(r){var i,a;const n=(i=V(this,Hr))==null?void 0:i.promise;return(a=V(this,Hr))==null||a.cancel(r),n?n.then(Rn).catch(Rn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(V(this,iu))}isActive(){return this.observers.some(r=>Oi(r.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===IA||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(r=>Yo(r.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(r=>r.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(r=0){return this.state.data===void 0?!0:r==="static"?!1:this.state.isInvalidated?!0:!eL(this.state.dataUpdatedAt,r)}onFocus(){var n;const r=this.observers.find(i=>i.shouldFetchOnWindowFocus());r==null||r.refetch({cancelRefetch:!1}),(n=V(this,Hr))==null||n.continue()}onOnline(){var n;const r=this.observers.find(i=>i.shouldFetchOnReconnect());r==null||r.refetch({cancelRefetch:!1}),(n=V(this,Hr))==null||n.continue()}addObserver(r){this.observers.includes(r)||(this.observers.push(r),this.clearGcTimeout(),V(this,Pi).notify({type:"observerAdded",query:this,observer:r}))}removeObserver(r){this.observers.includes(r)&&(this.observers=this.observers.filter(n=>n!==r),this.observers.length||(V(this,Hr)&&(V(this,su)?V(this,Hr).cancel({revert:!0}):V(this,Hr).cancelRetry()),this.scheduleGc()),V(this,Pi).notify({type:"observerRemoved",query:this,observer:r}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||st(this,Gi,ns).call(this,{type:"invalidate"})}async fetch(r,n){var u,c,d,h,p,g,y,v,b,x,_,O;if(this.state.fetchStatus!=="idle"&&((u=V(this,Hr))==null?void 0:u.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(V(this,Hr))return V(this,Hr).continueRetry(),V(this,Hr).promise}if(r&&this.setOptions(r),!this.options.queryFn){const E=this.observers.find(P=>P.options.queryFn);E&&this.setOptions(E.options)}const i=new AbortController,a=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(be(this,su,!0),i.signal)})},s=()=>{const E=rL(this.options,n),w=(()=>{const S={client:V(this,au),queryKey:this.queryKey,meta:this.meta};return a(S),S})();return be(this,su,!1),this.options.persister?this.options.persister(E,w,this):E(w)},l=(()=>{const E={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:V(this,au),state:this.state,fetchFn:s};return a(E),E})();(c=this.options.behavior)==null||c.onFetch(l,this),be(this,ed,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&st(this,Gi,ns).call(this,{type:"fetch",meta:(h=l.fetchOptions)==null?void 0:h.meta}),be(this,Hr,aL({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,onCancel:E=>{E instanceof a1&&E.revert&&this.setState({...V(this,ed),fetchStatus:"idle"}),i.abort()},onFail:(E,P)=>{st(this,Gi,ns).call(this,{type:"failed",failureCount:E,error:P})},onPause:()=>{st(this,Gi,ns).call(this,{type:"pause"})},onContinue:()=>{st(this,Gi,ns).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const E=await V(this,Hr).start();if(E===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(E),(g=(p=V(this,Pi).config).onSuccess)==null||g.call(p,E,this),(v=(y=V(this,Pi).config).onSettled)==null||v.call(y,E,this.state.error,this),E}catch(E){if(E instanceof a1){if(E.silent)return V(this,Hr).promise;if(E.revert){if(this.state.data===void 0)throw E;return this.state.data}}throw st(this,Gi,ns).call(this,{type:"error",error:E}),(x=(b=V(this,Pi).config).onError)==null||x.call(b,E,this),(O=(_=V(this,Pi).config).onSettled)==null||O.call(_,this.state.data,E,this),E}finally{this.scheduleGc()}}},iu=new WeakMap,ed=new WeakMap,Pi=new WeakMap,au=new WeakMap,Hr=new WeakMap,gm=new WeakMap,su=new WeakMap,Gi=new WeakSet,ns=function(r){const n=i=>{switch(r.type){case"failed":return{...i,fetchFailureCount:r.failureCount,fetchFailureReason:r.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...oL(i.data,this.options),fetchMeta:r.meta??null};case"success":const a={...i,...tC(r.data,r.dataUpdatedAt),dataUpdateCount:i.dataUpdateCount+1,...!r.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return be(this,ed,r.manual?a:void 0),a;case"error":const s=r.error;return{...i,error:s,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...r.state}}};this.state=n(this.state),$r.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),V(this,Pi).notify({query:this,type:"updated",action:r})})},vD);function oL(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:iL(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function tC(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function rC(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var zn,mt,vm,Cn,ou,td,os,Oo,xm,rd,nd,lu,uu,Io,id,Ot,Eh,s1,o1,l1,u1,c1,d1,f1,lL,xD,n8=(xD=class extends df{constructor(e,r){super();Le(this,Ot);Le(this,zn);Le(this,mt);Le(this,vm);Le(this,Cn);Le(this,ou);Le(this,td);Le(this,os);Le(this,Oo);Le(this,xm);Le(this,rd);Le(this,nd);Le(this,lu);Le(this,uu);Le(this,Io);Le(this,id,new Set);this.options=r,be(this,zn,e),be(this,Oo,null),be(this,os,i1()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(V(this,mt).addObserver(this),nC(V(this,mt),this.options)?st(this,Ot,Eh).call(this):this.updateResult(),st(this,Ot,u1).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return h1(V(this,mt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return h1(V(this,mt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,st(this,Ot,c1).call(this),st(this,Ot,d1).call(this),V(this,mt).removeObserver(this)}setOptions(e){const r=this.options,n=V(this,mt);if(this.options=V(this,zn).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Oi(this.options.enabled,V(this,mt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");st(this,Ot,f1).call(this),V(this,mt).setOptions(this.options),r._defaulted&&!av(this.options,r)&&V(this,zn).getQueryCache().notify({type:"observerOptionsUpdated",query:V(this,mt),observer:this});const i=this.hasListeners();i&&iC(V(this,mt),n,this.options,r)&&st(this,Ot,Eh).call(this),this.updateResult(),i&&(V(this,mt)!==n||Oi(this.options.enabled,V(this,mt))!==Oi(r.enabled,V(this,mt))||Yo(this.options.staleTime,V(this,mt))!==Yo(r.staleTime,V(this,mt)))&&st(this,Ot,s1).call(this);const a=st(this,Ot,o1).call(this);i&&(V(this,mt)!==n||Oi(this.options.enabled,V(this,mt))!==Oi(r.enabled,V(this,mt))||a!==V(this,Io))&&st(this,Ot,l1).call(this,a)}getOptimisticResult(e){const r=V(this,zn).getQueryCache().build(V(this,zn),e),n=this.createResult(r,e);return a8(this,n)&&(be(this,Cn,n),be(this,td,this.options),be(this,ou,V(this,mt).state)),n}getCurrentResult(){return V(this,Cn)}trackResult(e,r){return new Proxy(e,{get:(n,i)=>(this.trackProp(i),r==null||r(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&V(this,os).status==="pending"&&V(this,os).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,i))})}trackProp(e){V(this,id).add(e)}getCurrentQuery(){return V(this,mt)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=V(this,zn).defaultQueryOptions(e),n=V(this,zn).getQueryCache().build(V(this,zn),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(e){return st(this,Ot,Eh).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),V(this,Cn)))}createResult(e,r){var I;const n=V(this,mt),i=this.options,a=V(this,Cn),s=V(this,ou),o=V(this,td),u=e!==n?e.state:V(this,vm),{state:c}=e;let d={...c},h=!1,p;if(r._optimisticResults){const k=this.hasListeners(),N=!k&&nC(e,r),R=k&&iC(e,n,r,i);(N||R)&&(d={...d,...oL(c.data,e.options)}),r._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:g,errorUpdatedAt:y,status:v}=d;p=d.data;let b=!1;if(r.placeholderData!==void 0&&p===void 0&&v==="pending"){let k;a!=null&&a.isPlaceholderData&&r.placeholderData===(o==null?void 0:o.placeholderData)?(k=a.data,b=!0):k=typeof r.placeholderData=="function"?r.placeholderData((I=V(this,nd))==null?void 0:I.state.data,V(this,nd)):r.placeholderData,k!==void 0&&(v="success",p=n1(a==null?void 0:a.data,k,r),h=!0)}if(r.select&&p!==void 0&&!b)if(a&&p===(s==null?void 0:s.data)&&r.select===V(this,xm))p=V(this,rd);else try{be(this,xm,r.select),p=r.select(p),p=n1(a==null?void 0:a.data,p,r),be(this,rd,p),be(this,Oo,null)}catch(k){be(this,Oo,k)}V(this,Oo)&&(g=V(this,Oo),p=V(this,rd),y=Date.now(),v="error");const x=d.fetchStatus==="fetching",_=v==="pending",O=v==="error",E=_&&x,P=p!==void 0,S={status:v,fetchStatus:d.fetchStatus,isPending:_,isSuccess:v==="success",isError:O,isInitialLoading:E,isLoading:E,data:p,dataUpdatedAt:d.dataUpdatedAt,error:g,errorUpdatedAt:y,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>u.dataUpdateCount||d.errorUpdateCount>u.errorUpdateCount,isFetching:x,isRefetching:x&&!_,isLoadingError:O&&!P,isPaused:d.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:O&&P,isStale:kA(e,r),refetch:this.refetch,promise:V(this,os),isEnabled:Oi(r.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const k=j=>{S.status==="error"?j.reject(S.error):S.data!==void 0&&j.resolve(S.data)},N=()=>{const j=be(this,os,S.promise=i1());k(j)},R=V(this,os);switch(R.status){case"pending":e.queryHash===n.queryHash&&k(R);break;case"fulfilled":(S.status==="error"||S.data!==R.value)&&N();break;case"rejected":(S.status!=="error"||S.error!==R.reason)&&N();break}}return S}updateResult(){const e=V(this,Cn),r=this.createResult(V(this,mt),this.options);if(be(this,ou,V(this,mt).state),be(this,td,this.options),V(this,ou).data!==void 0&&be(this,nd,V(this,mt)),av(r,e))return;be(this,Cn,r);const n=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,a=typeof i=="function"?i():i;if(a==="all"||!a&&!V(this,id).size)return!0;const s=new Set(a??V(this,id));return this.options.throwOnError&&s.add("error"),Object.keys(V(this,Cn)).some(o=>{const l=o;return V(this,Cn)[l]!==e[l]&&s.has(l)})};st(this,Ot,lL).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&st(this,Ot,u1).call(this)}},zn=new WeakMap,mt=new WeakMap,vm=new WeakMap,Cn=new WeakMap,ou=new WeakMap,td=new WeakMap,os=new WeakMap,Oo=new WeakMap,xm=new WeakMap,rd=new WeakMap,nd=new WeakMap,lu=new WeakMap,uu=new WeakMap,Io=new WeakMap,id=new WeakMap,Ot=new WeakSet,Eh=function(e){st(this,Ot,f1).call(this);let r=V(this,mt).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(Rn)),r},s1=function(){st(this,Ot,c1).call(this);const e=Yo(this.options.staleTime,V(this,mt));if(Au||V(this,Cn).isStale||!t1(e))return;const n=eL(V(this,Cn).dataUpdatedAt,e)+1;be(this,lu,Kl.setTimeout(()=>{V(this,Cn).isStale||this.updateResult()},n))},o1=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(V(this,mt)):this.options.refetchInterval)??!1},l1=function(e){st(this,Ot,d1).call(this),be(this,Io,e),!(Au||Oi(this.options.enabled,V(this,mt))===!1||!t1(V(this,Io))||V(this,Io)===0)&&be(this,uu,Kl.setInterval(()=>{(this.options.refetchIntervalInBackground||CA.isFocused())&&st(this,Ot,Eh).call(this)},V(this,Io)))},u1=function(){st(this,Ot,s1).call(this),st(this,Ot,l1).call(this,st(this,Ot,o1).call(this))},c1=function(){V(this,lu)&&(Kl.clearTimeout(V(this,lu)),be(this,lu,void 0))},d1=function(){V(this,uu)&&(Kl.clearInterval(V(this,uu)),be(this,uu,void 0))},f1=function(){const e=V(this,zn).getQueryCache().build(V(this,zn),this.options);if(e===V(this,mt))return;const r=V(this,mt);be(this,mt,e),be(this,vm,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},lL=function(e){$r.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(V(this,Cn))}),V(this,zn).getQueryCache().notify({query:V(this,mt),type:"observerResultsUpdated"})})},xD);function i8(t,e){return Oi(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function nC(t,e){return i8(t,e)||t.state.data!==void 0&&h1(t,e,e.refetchOnMount)}function h1(t,e,r){if(Oi(e.enabled,t)!==!1&&Yo(e.staleTime,t)!=="static"){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&kA(t,e)}return!1}function iC(t,e,r,n){return(t!==e||Oi(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&kA(t,r)}function kA(t,e){return Oi(e.enabled,t)!==!1&&t.isStaleByTime(Yo(e.staleTime,t))}function a8(t,e){return!av(t.getCurrentResult(),e)}function aC(t){return{onFetch:(e,r)=>{var c,d,h,p,g;const n=e.options,i=(h=(d=(c=e.fetchOptions)==null?void 0:c.meta)==null?void 0:d.fetchMore)==null?void 0:h.direction,a=((p=e.state.data)==null?void 0:p.pages)||[],s=((g=e.state.data)==null?void 0:g.pageParams)||[];let o={pages:[],pageParams:[]},l=0;const u=async()=>{let y=!1;const v=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},b=rL(e.options,e.fetchOptions),x=async(_,O,E)=>{if(y)return Promise.reject();if(O==null&&_.pages.length)return Promise.resolve(_);const w=(()=>{const N={client:e.client,queryKey:e.queryKey,pageParam:O,direction:E?"backward":"forward",meta:e.options.meta};return v(N),N})(),S=await b(w),{maxPages:I}=e.options,k=E?Q7:Y7;return{pages:k(_.pages,S,I),pageParams:k(_.pageParams,O,I)}};if(i&&a.length){const _=i==="backward",O=_?s8:sC,E={pages:a,pageParams:s},P=O(n,E);o=await x(E,P,_)}else{const _=t??a.length;do{const O=l===0?s[0]??n.initialPageParam:sC(n,o);if(l>0&&O==null)break;o=await x(o,O),l++}while(l<_)}return o};e.options.persister?e.fetchFn=()=>{var y,v;return(v=(y=e.options).persister)==null?void 0:v.call(y,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=u}}}function sC(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function s8(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var bm,Sa,kn,cu,Aa,uo,bD,o8=(bD=class extends sL{constructor(r){super();Le(this,Aa);Le(this,bm);Le(this,Sa);Le(this,kn);Le(this,cu);be(this,bm,r.client),this.mutationId=r.mutationId,be(this,kn,r.mutationCache),be(this,Sa,[]),this.state=r.state||uL(),this.setOptions(r.options),this.scheduleGc()}setOptions(r){this.options=r,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(r){V(this,Sa).includes(r)||(V(this,Sa).push(r),this.clearGcTimeout(),V(this,kn).notify({type:"observerAdded",mutation:this,observer:r}))}removeObserver(r){be(this,Sa,V(this,Sa).filter(n=>n!==r)),this.scheduleGc(),V(this,kn).notify({type:"observerRemoved",mutation:this,observer:r})}optionalRemove(){V(this,Sa).length||(this.state.status==="pending"?this.scheduleGc():V(this,kn).remove(this))}continue(){var r;return((r=V(this,cu))==null?void 0:r.continue())??this.execute(this.state.variables)}async execute(r){var o,l,u,c,d,h,p,g,y,v,b,x,_,O,E,P,w,S,I,k;const n=()=>{st(this,Aa,uo).call(this,{type:"continue"})},i={client:V(this,bm),meta:this.options.meta,mutationKey:this.options.mutationKey};be(this,cu,aL({fn:()=>this.options.mutationFn?this.options.mutationFn(r,i):Promise.reject(new Error("No mutationFn found")),onFail:(N,R)=>{st(this,Aa,uo).call(this,{type:"failed",failureCount:N,error:R})},onPause:()=>{st(this,Aa,uo).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>V(this,kn).canRun(this)}));const a=this.state.status==="pending",s=!V(this,cu).canStart();try{if(a)n();else{st(this,Aa,uo).call(this,{type:"pending",variables:r,isPaused:s}),await((l=(o=V(this,kn).config).onMutate)==null?void 0:l.call(o,r,this,i));const R=await((c=(u=this.options).onMutate)==null?void 0:c.call(u,r,i));R!==this.state.context&&st(this,Aa,uo).call(this,{type:"pending",context:R,variables:r,isPaused:s})}const N=await V(this,cu).start();return await((h=(d=V(this,kn).config).onSuccess)==null?void 0:h.call(d,N,r,this.state.context,this,i)),await((g=(p=this.options).onSuccess)==null?void 0:g.call(p,N,r,this.state.context,i)),await((v=(y=V(this,kn).config).onSettled)==null?void 0:v.call(y,N,null,this.state.variables,this.state.context,this,i)),await((x=(b=this.options).onSettled)==null?void 0:x.call(b,N,null,r,this.state.context,i)),st(this,Aa,uo).call(this,{type:"success",data:N}),N}catch(N){try{throw await((O=(_=V(this,kn).config).onError)==null?void 0:O.call(_,N,r,this.state.context,this,i)),await((P=(E=this.options).onError)==null?void 0:P.call(E,N,r,this.state.context,i)),await((S=(w=V(this,kn).config).onSettled)==null?void 0:S.call(w,void 0,N,this.state.variables,this.state.context,this,i)),await((k=(I=this.options).onSettled)==null?void 0:k.call(I,void 0,N,r,this.state.context,i)),N}finally{st(this,Aa,uo).call(this,{type:"error",error:N})}}finally{V(this,kn).runNext(this)}}},bm=new WeakMap,Sa=new WeakMap,kn=new WeakMap,cu=new WeakMap,Aa=new WeakSet,uo=function(r){const n=i=>{switch(r.type){case"failed":return{...i,failureCount:r.failureCount,failureReason:r.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:r.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:r.isPaused,status:"pending",variables:r.variables,submittedAt:Date.now()};case"success":return{...i,data:r.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:r.error,failureCount:i.failureCount+1,failureReason:r.error,isPaused:!1,status:"error"}}};this.state=n(this.state),$r.batch(()=>{V(this,Sa).forEach(i=>{i.onMutationUpdate(r)}),V(this,kn).notify({mutation:this,type:"updated",action:r})})},bD);function uL(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ls,Yi,wm,wD,l8=(wD=class extends df{constructor(e={}){super();Le(this,ls);Le(this,Yi);Le(this,wm);this.config=e,be(this,ls,new Set),be(this,Yi,new Map),be(this,wm,0)}build(e,r,n){const i=new o8({client:e,mutationCache:this,mutationId:++gy(this,wm)._,options:e.defaultMutationOptions(r),state:n});return this.add(i),i}add(e){V(this,ls).add(e);const r=My(e);if(typeof r=="string"){const n=V(this,Yi).get(r);n?n.push(e):V(this,Yi).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(V(this,ls).delete(e)){const r=My(e);if(typeof r=="string"){const n=V(this,Yi).get(r);if(n)if(n.length>1){const i=n.indexOf(e);i!==-1&&n.splice(i,1)}else n[0]===e&&V(this,Yi).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=My(e);if(typeof r=="string"){const n=V(this,Yi).get(r),i=n==null?void 0:n.find(a=>a.state.status==="pending");return!i||i===e}else return!0}runNext(e){var n;const r=My(e);if(typeof r=="string"){const i=(n=V(this,Yi).get(r))==null?void 0:n.find(a=>a!==e&&a.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){$r.batch(()=>{V(this,ls).forEach(e=>{this.notify({type:"removed",mutation:e})}),V(this,ls).clear(),V(this,Yi).clear()})}getAll(){return Array.from(V(this,ls))}find(e){const r={exact:!0,...e};return this.getAll().find(n=>ZI(r,n))}findAll(e={}){return this.getAll().filter(r=>ZI(e,r))}notify(e){$r.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return $r.batch(()=>Promise.all(e.map(r=>r.continue().catch(Rn))))}},ls=new WeakMap,Yi=new WeakMap,wm=new WeakMap,wD);function My(t){var e;return(e=t.options.scope)==null?void 0:e.id}var us,Co,Wn,cs,Os,xg,p1,_D,u8=(_D=class extends df{constructor(r,n){super();Le(this,Os);Le(this,us);Le(this,Co);Le(this,Wn);Le(this,cs);be(this,us,r),this.setOptions(n),this.bindMethods(),st(this,Os,xg).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var i;const n=this.options;this.options=V(this,us).defaultMutationOptions(r),av(this.options,n)||V(this,us).getMutationCache().notify({type:"observerOptionsUpdated",mutation:V(this,Wn),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Tu(n.mutationKey)!==Tu(this.options.mutationKey)?this.reset():((i=V(this,Wn))==null?void 0:i.state.status)==="pending"&&V(this,Wn).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=V(this,Wn))==null||r.removeObserver(this)}onMutationUpdate(r){st(this,Os,xg).call(this),st(this,Os,p1).call(this,r)}getCurrentResult(){return V(this,Co)}reset(){var r;(r=V(this,Wn))==null||r.removeObserver(this),be(this,Wn,void 0),st(this,Os,xg).call(this),st(this,Os,p1).call(this)}mutate(r,n){var i;return be(this,cs,n),(i=V(this,Wn))==null||i.removeObserver(this),be(this,Wn,V(this,us).getMutationCache().build(V(this,us),this.options)),V(this,Wn).addObserver(this),V(this,Wn).execute(r)}},us=new WeakMap,Co=new WeakMap,Wn=new WeakMap,cs=new WeakMap,Os=new WeakSet,xg=function(){var n;const r=((n=V(this,Wn))==null?void 0:n.state)??uL();be(this,Co,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},p1=function(r){$r.batch(()=>{var n,i,a,s,o,l,u,c;if(V(this,cs)&&this.hasListeners()){const d=V(this,Co).variables,h=V(this,Co).context,p={client:V(this,us),meta:this.options.meta,mutationKey:this.options.mutationKey};(r==null?void 0:r.type)==="success"?((i=(n=V(this,cs)).onSuccess)==null||i.call(n,r.data,d,h,p),(s=(a=V(this,cs)).onSettled)==null||s.call(a,r.data,null,d,h,p)):(r==null?void 0:r.type)==="error"&&((l=(o=V(this,cs)).onError)==null||l.call(o,r.error,d,h,p),(c=(u=V(this,cs)).onSettled)==null||c.call(u,void 0,r.error,d,h,p))}this.listeners.forEach(d=>{d(V(this,Co))})})},_D),Ta,ED,c8=(ED=class extends df{constructor(e={}){super();Le(this,Ta);this.config=e,be(this,Ta,new Map)}build(e,r,n){const i=r.queryKey,a=r.queryHash??OA(i,r);let s=this.get(a);return s||(s=new r8({client:e,queryKey:i,queryHash:a,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(s)),s}add(e){V(this,Ta).has(e.queryHash)||(V(this,Ta).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=V(this,Ta).get(e.queryHash);r&&(e.destroy(),r===e&&V(this,Ta).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){$r.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return V(this,Ta).get(e)}getAll(){return[...V(this,Ta).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>XI(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>XI(e,n)):r}notify(e){$r.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){$r.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){$r.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ta=new WeakMap,ED),dr,ko,No,ad,sd,jo,od,ld,SD,d8=(SD=class{constructor(t={}){Le(this,dr);Le(this,ko);Le(this,No);Le(this,ad);Le(this,sd);Le(this,jo);Le(this,od);Le(this,ld);be(this,dr,t.queryCache||new c8),be(this,ko,t.mutationCache||new l8),be(this,No,t.defaultOptions||{}),be(this,ad,new Map),be(this,sd,new Map),be(this,jo,0)}mount(){gy(this,jo)._++,V(this,jo)===1&&(be(this,od,CA.subscribe(async t=>{t&&(await this.resumePausedMutations(),V(this,dr).onFocus())})),be(this,ld,sv.subscribe(async t=>{t&&(await this.resumePausedMutations(),V(this,dr).onOnline())})))}unmount(){var t,e;gy(this,jo)._--,V(this,jo)===0&&((t=V(this,od))==null||t.call(this),be(this,od,void 0),(e=V(this,ld))==null||e.call(this),be(this,ld,void 0))}isFetching(t){return V(this,dr).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return V(this,ko).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=V(this,dr).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=V(this,dr).build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(Yo(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return V(this,dr).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),i=V(this,dr).get(n.queryHash),a=i==null?void 0:i.state.data,s=q7(e,a);if(s!==void 0)return V(this,dr).build(this,n).setData(s,{...r,manual:!0})}setQueriesData(t,e,r){return $r.batch(()=>V(this,dr).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=V(this,dr).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=V(this,dr);$r.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=V(this,dr);return $r.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=$r.batch(()=>V(this,dr).findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(Rn).catch(Rn)}invalidateQueries(t,e={}){return $r.batch(()=>(V(this,dr).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=$r.batch(()=>V(this,dr).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,r);return r.throwOnError||(a=a.catch(Rn)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(Rn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=V(this,dr).build(this,e);return r.isStaleByTime(Yo(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Rn).catch(Rn)}fetchInfiniteQuery(t){return t.behavior=aC(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Rn).catch(Rn)}ensureInfiniteQueryData(t){return t.behavior=aC(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return sv.isOnline()?V(this,ko).resumePausedMutations():Promise.resolve()}getQueryCache(){return V(this,dr)}getMutationCache(){return V(this,ko)}getDefaultOptions(){return V(this,No)}setDefaultOptions(t){be(this,No,t)}setQueryDefaults(t,e){V(this,ad).set(Tu(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...V(this,ad).values()],r={};return e.forEach(n=>{wp(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){V(this,sd).set(Tu(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...V(this,sd).values()],r={};return e.forEach(n=>{wp(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...V(this,No).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=OA(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===IA&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...V(this,No).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){V(this,dr).clear(),V(this,ko).clear()}},dr=new WeakMap,ko=new WeakMap,No=new WeakMap,ad=new WeakMap,sd=new WeakMap,jo=new WeakMap,od=new WeakMap,ld=new WeakMap,SD),cL=T.createContext(void 0),qs=t=>{const e=T.useContext(cL);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},f8=({client:t,children:e})=>(T.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),m.jsx(cL.Provider,{value:t,children:e})),dL=T.createContext(!1),h8=()=>T.useContext(dL);dL.Provider;function p8(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var m8=T.createContext(p8()),y8=()=>T.useContext(m8),g8=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},v8=t=>{T.useEffect(()=>{t.clearReset()},[t])},x8=({result:t,errorResetBoundary:e,throwOnError:r,query:n,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&(i&&t.data===void 0||nL(r,[t.error,n])),b8=t=>{if(t.suspense){const r=i=>i==="static"?i:Math.max(i??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...i)=>r(n(...i)):r(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},w8=(t,e)=>t.isLoading&&t.isFetching&&!e,_8=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,oC=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function E8(t,e,r){var d,h,p,g,y;const n=h8(),i=y8(),a=qs(),s=a.defaultQueryOptions(t);(h=(d=a.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||h.call(d,s),s._optimisticResults=n?"isRestoring":"optimistic",b8(s),g8(s,i),v8(i);const o=!a.getQueryCache().get(s.queryHash),[l]=T.useState(()=>new e(a,s)),u=l.getOptimisticResult(s),c=!n&&t.subscribed!==!1;if(T.useSyncExternalStore(T.useCallback(v=>{const b=c?l.subscribe($r.batchCalls(v)):Rn;return l.updateResult(),b},[l,c]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),T.useEffect(()=>{l.setOptions(s)},[s,l]),_8(s,u))throw oC(s,l,i);if(x8({result:u,errorResetBoundary:i,throwOnError:s.throwOnError,query:a.getQueryCache().get(s.queryHash),suspense:s.suspense}))throw u.error;if((g=(p=a.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||g.call(p,s,u),s.experimental_prefetchInRender&&!Au&&w8(u,n)){const v=o?oC(s,l,i):(y=a.getQueryCache().get(s.queryHash))==null?void 0:y.promise;v==null||v.catch(Rn).finally(()=>{l.updateResult()})}return s.notifyOnChangeProps?u:l.trackResult(u)}function yl(t,e){return E8(t,n8)}function ix(t,e){const r=qs(),[n]=T.useState(()=>new u8(r,t));T.useEffect(()=>{n.setOptions(t)},[n,t]);const i=T.useSyncExternalStore(T.useCallback(s=>n.subscribe($r.batchCalls(s)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),a=T.useCallback((s,o)=>{n.mutate(s,o).catch(Rn)},[n]);if(i.error&&nL(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}function S8({title:t,titleId:e,...r},n){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?T.createElement("title",{id:e},t):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9 12.75 3 3m0 0 3-3m-3 3v-7.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const A8=T.forwardRef(S8);function T8({title:t,titleId:e,...r},n){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?T.createElement("title",{id:e},t):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 4.5 15 15m0 0V8.25m0 11.25H8.25"}))}const P8=T.forwardRef(T8);function O8({title:t,titleId:e,...r},n){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?T.createElement("title",{id:e},t):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const I8=T.forwardRef(O8);function C8({title:t,titleId:e,...r},n){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?T.createElement("title",{id:e},t):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 12c0-1.232-.046-2.453-.138-3.662a4.006 4.006 0 0 0-3.7-3.7 48.678 48.678 0 0 0-7.324 0 4.006 4.006 0 0 0-3.7 3.7c-.017.22-.032.441-.046.662M19.5 12l3-3m-3 3-3-3m-12 3c0 1.232.046 2.453.138 3.662a4.006 4.006 0 0 0 3.7 3.7 48.656 48.656 0 0 0 7.324 0 4.006 4.006 0 0 0 3.7-3.7c.017-.22.032-.441.046-.662M4.5 12l3 3m-3-3-3 3"}))}const lC=T.forwardRef(C8);function k8({title:t,titleId:e,...r},n){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?T.createElement("title",{id:e},t):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941"}))}const uC=T.forwardRef(k8);function N8({title:t,titleId:e,...r},n){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?T.createElement("title",{id:e},t):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 19.5 15-15m0 0H8.25m11.25 0v11.25"}))}const fL=T.forwardRef(N8);function j8({title:t,titleId:e,...r},n){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?T.createElement("title",{id:e},t):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0 1 15.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 0 1 3 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 0 0-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 0 1-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 0 0 3 15h-.75M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm3 0h.008v.008H18V10.5Zm-12 0h.008v.008H6V10.5Z"}))}const _p=T.forwardRef(j8);function R8({title:t,titleId:e,...r},n){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?T.createElement("title",{id:e},t):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const D8=T.forwardRef(R8);function M8({title:t,titleId:e,...r},n){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?T.createElement("title",{id:e},t):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0Z"}))}const cC=T.forwardRef(M8);function $8({title:t,titleId:e,...r},n){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?T.createElement("title",{id:e},t):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 15.75V18m-7.5-6.75h.008v.008H8.25v-.008Zm0 2.25h.008v.008H8.25V13.5Zm0 2.25h.008v.008H8.25v-.008Zm0 2.25h.008v.008H8.25V18Zm2.498-6.75h.007v.008h-.007v-.008Zm0 2.25h.007v.008h-.007V13.5Zm0 2.25h.007v.008h-.007v-.008Zm0 2.25h.007v.008h-.007V18Zm2.504-6.75h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V13.5Zm0 2.25h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V18Zm2.498-6.75h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V13.5ZM8.25 6h7.5v2.25h-7.5V6ZM12 2.25c-1.892 0-3.758.11-5.593.322C5.307 2.7 4.5 3.65 4.5 4.757V19.5a2.25 2.25 0 0 0 2.25 2.25h10.5a2.25 2.25 0 0 0 2.25-2.25V4.757c0-1.108-.806-2.057-1.907-2.185A48.507 48.507 0 0 0 12 2.25Z"}))}const L8=T.forwardRef($8);function F8({title:t,titleId:e,...r},n){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?T.createElement("title",{id:e},t):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const V8=T.forwardRef(F8);function B8({title:t,titleId:e,...r},n){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?T.createElement("title",{id:e},t):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6a7.5 7.5 0 1 0 7.5 7.5h-7.5V6Z"}),T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 10.5H21A7.5 7.5 0 0 0 13.5 3v7.5Z"}))}const hL=T.forwardRef(B8);function U8({title:t,titleId:e,...r},n){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?T.createElement("title",{id:e},t):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 15 12 18.75 15.75 15m-7.5-6L12 5.25 15.75 9"}))}const Im=T.forwardRef(U8);function z8({title:t,titleId:e,...r},n){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?T.createElement("title",{id:e},t):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.35 3.836c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m8.9-4.414c.376.023.75.05 1.124.08 1.131.094 1.976 1.057 1.976 2.192V16.5A2.25 2.25 0 0 1 18 18.75h-2.25m-7.5-10.5H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V18.75m-7.5-10.5h6.375c.621 0 1.125.504 1.125 1.125v9.375m-8.25-3 1.5 1.5 3-3.75"}))}const W8=T.forwardRef(z8);function H8({title:t,titleId:e,...r},n){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?T.createElement("title",{id:e},t):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const q8=T.forwardRef(H8);function K8({title:t,titleId:e,...r},n){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?T.createElement("title",{id:e},t):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const dC=T.forwardRef(K8);function G8({title:t,titleId:e,...r},n){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?T.createElement("title",{id:e},t):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const Y8=T.forwardRef(G8);function Q8({title:t,titleId:e,...r},n){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?T.createElement("title",{id:e},t):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))}const fC=T.forwardRef(Q8);function X8({title:t,titleId:e,...r},n){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?T.createElement("title",{id:e},t):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 9.776c.112-.017.227-.026.344-.026h15.812c.117 0 .232.009.344.026m-16.5 0a2.25 2.25 0 0 0-1.883 2.542l.857 6a2.25 2.25 0 0 0 2.227 1.932H19.05a2.25 2.25 0 0 0 2.227-1.932l.857-6a2.25 2.25 0 0 0-1.883-2.542m-16.5 0V6A2.25 2.25 0 0 1 6 3.75h3.879a1.5 1.5 0 0 1 1.06.44l2.122 2.12a1.5 1.5 0 0 0 1.06.44H18A2.25 2.25 0 0 1 20.25 9v.776"}))}const Z8=T.forwardRef(X8);function J8({title:t,titleId:e,...r},n){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?T.createElement("title",{id:e},t):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 21v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21m0 0h4.5V3.545M12.75 21h7.5V10.75M2.25 21h1.5m18 0h-18M2.25 9l4.5-1.636M18.75 3l-1.5.545m0 6.205 3 1m1.5.5-1.5-.5M6.75 7.364V3h-3v18m3-13.636 10.5-3.819"}))}const eW=T.forwardRef(J8);function tW({title:t,titleId:e,...r},n){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?T.createElement("title",{id:e},t):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 3v11.25A2.25 2.25 0 0 0 6 16.5h2.25M3.75 3h-1.5m1.5 0h16.5m0 0h1.5m-1.5 0v11.25A2.25 2.25 0 0 1 18 16.5h-2.25m-7.5 0h7.5m-7.5 0-1 3m8.5-3 1 3m0 0 .5 1.5m-.5-1.5h-9.5m0 0-.5 1.5m.75-9 3-3 2.148 2.148A12.061 12.061 0 0 1 16.5 7.605"}))}const rW=T.forwardRef(tW);function nW({title:t,titleId:e,...r},n){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?T.createElement("title",{id:e},t):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9 14.25 6-6m4.5-3.493V21.75l-3.75-1.5-3.75 1.5-3.75-1.5-3.75 1.5V4.757c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0c1.1.128 1.907 1.077 1.907 2.185ZM9.75 9h.008v.008H9.75V9Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm4.125 4.5h.008v.008h-.008V13.5Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const iW=T.forwardRef(nW);function aW({title:t,titleId:e,...r},n){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?T.createElement("title",{id:e},t):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 9.75h4.875a2.625 2.625 0 0 1 0 5.25H12M8.25 9.75 10.5 7.5M8.25 9.75 10.5 12m9-7.243V21.75l-3.75-1.5-3.75 1.5-3.75-1.5-3.75 1.5V4.757c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0c1.1.128 1.907 1.077 1.907 2.185Z"}))}const hC=T.forwardRef(aW);function sW({title:t,titleId:e,...r},n){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?T.createElement("title",{id:e},t):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const oW=T.forwardRef(sW);function lW({title:t,titleId:e,...r},n){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?T.createElement("title",{id:e},t):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6A2.25 2.25 0 0 1 6 3.75h2.25A2.25 2.25 0 0 1 10.5 6v2.25a2.25 2.25 0 0 1-2.25 2.25H6a2.25 2.25 0 0 1-2.25-2.25V6ZM3.75 15.75A2.25 2.25 0 0 1 6 13.5h2.25a2.25 2.25 0 0 1 2.25 2.25V18a2.25 2.25 0 0 1-2.25 2.25H6A2.25 2.25 0 0 1 3.75 18v-2.25ZM13.5 6a2.25 2.25 0 0 1 2.25-2.25H18A2.25 2.25 0 0 1 20.25 6v2.25A2.25 2.25 0 0 1 18 10.5h-2.25a2.25 2.25 0 0 1-2.25-2.25V6ZM13.5 15.75a2.25 2.25 0 0 1 2.25-2.25H18a2.25 2.25 0 0 1 2.25 2.25V18A2.25 2.25 0 0 1 18 20.25h-2.25A2.25 2.25 0 0 1 13.5 18v-2.25Z"}))}const uW=T.forwardRef(lW);function cW({title:t,titleId:e,...r},n){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?T.createElement("title",{id:e},t):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a2.25 2.25 0 0 0-2.25-2.25H15a3 3 0 1 1-6 0H5.25A2.25 2.25 0 0 0 3 12m18 0v6a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 18v-6m18 0V9M3 12V9m18 0a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 9m18 0V6a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 6v3"}))}const pC=T.forwardRef(cW);var dW=Object.defineProperty,fW=(t,e,r)=>e in t?dW(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ow=(t,e,r)=>(fW(t,typeof e!="symbol"?e+"":e,r),r);let hW=class{constructor(){ow(this,"current",this.detect()),ow(this,"handoffState","pending"),ow(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Es=new hW,Br=(t,e)=>{Es.isServer?T.useEffect(t,e):T.useLayoutEffect(t,e)};function oa(t){let e=T.useRef(t);return Br(()=>{e.current=t},[t]),e}function pL(t,e){let[r,n]=T.useState(t),i=oa(t);return Br(()=>n(i.current),[i,n,...e]),r}let Ke=function(t){let e=oa(t);return M.useCallback((...r)=>e.current(...r),[e])};function pW(t,e,r){let[n,i]=T.useState(r),a=t!==void 0,s=T.useRef(a),o=T.useRef(!1),l=T.useRef(!1);return a&&!s.current&&!o.current?(o.current=!0,s.current=a,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!a&&s.current&&!l.current&&(l.current=!0,s.current=a,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[a?t:n,Ke(u=>(a||i(u),e==null?void 0:e(u)))]}function ax(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function Va(){let t=[],e={addEventListener(r,n,i,a){return r.addEventListener(n,i,a),e.add(()=>r.removeEventListener(n,i,a))},requestAnimationFrame(...r){let n=requestAnimationFrame(...r);return e.add(()=>cancelAnimationFrame(n))},nextFrame(...r){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...r))},setTimeout(...r){let n=setTimeout(...r);return e.add(()=>clearTimeout(n))},microTask(...r){let n={current:!0};return ax(()=>{n.current&&r[0]()}),e.add(()=>{n.current=!1})},style(r,n,i){let a=r.style.getPropertyValue(n);return Object.assign(r.style,{[n]:i}),this.add(()=>{Object.assign(r.style,{[n]:a})})},group(r){let n=Va();return r(n),this.add(()=>n.dispose())},add(r){return t.push(r),()=>{let n=t.indexOf(r);if(n>=0)for(let i of t.splice(n,1))i()}},dispose(){for(let r of t.splice(0))r()}};return e}function Pu(){let[t]=T.useState(Va);return T.useEffect(()=>()=>t.dispose(),[t]),t}function mW(){let t=typeof document>"u";return"useSyncExternalStore"in ud?(e=>e.useSyncExternalStore)(ud)(()=>()=>{},()=>!1,()=>!t):!1}function ff(){let t=mW(),[e,r]=T.useState(Es.isHandoffComplete);return e&&Es.isHandoffComplete===!1&&r(!1),T.useEffect(()=>{e!==!0&&r(!0)},[e]),T.useEffect(()=>Es.handoff(),[]),t?!1:e}var mC;let Wa=(mC=M.useId)!=null?mC:function(){let t=ff(),[e,r]=M.useState(t?()=>Es.nextId():null);return Br(()=>{e===null&&r(Es.nextId())},[e]),e!=null?""+e:void 0};function pr(t,e,...r){if(t in e){let i=e[t];return typeof i=="function"?i(...r):i}let n=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,pr),n}function NA(t){return Es.isServer?null:t instanceof Node?t.ownerDocument:t!=null&&t.hasOwnProperty("current")&&t.current instanceof Node?t.current.ownerDocument:document}let m1=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var Vl=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t))(Vl||{}),mL=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(mL||{}),yW=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(yW||{});function gW(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(m1)).sort((e,r)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}var jA=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(jA||{});function yL(t,e=0){var r;return t===((r=NA(t))==null?void 0:r.body)?!1:pr(e,{0(){return t.matches(m1)},1(){let n=t;for(;n!==null;){if(n.matches(m1))return!0;n=n.parentElement}return!1}})}var vW=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(vW||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function hu(t){t==null||t.focus({preventScroll:!0})}let xW=["textarea","input"].join(",");function bW(t){var e,r;return(r=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,xW))!=null?r:!1}function gL(t,e=r=>r){return t.slice().sort((r,n)=>{let i=e(r),a=e(n);if(i===null||a===null)return 0;let s=i.compareDocumentPosition(a);return s&Node.DOCUMENT_POSITION_FOLLOWING?-1:s&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function bg(t,e,{sorted:r=!0,relativeTo:n=null,skipElements:i=[]}={}){let a=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t.ownerDocument,s=Array.isArray(t)?r?gL(t):t:gW(t);i.length>0&&s.length>1&&(s=s.filter(p=>!i.includes(p))),n=n??a.activeElement;let o=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,s.indexOf(n))-1;if(e&4)return Math.max(0,s.indexOf(n))+1;if(e&8)return s.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=e&32?{preventScroll:!0}:{},c=0,d=s.length,h;do{if(c>=d||c+d<=0)return 0;let p=l+c;if(e&16)p=(p+d)%d;else{if(p<0)return 3;if(p>=d)return 1}h=s[p],h==null||h.focus(u),c+=o}while(h!==a.activeElement);return e&6&&bW(h)&&h.select(),2}function vL(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function wW(){return/Android/gi.test(window.navigator.userAgent)}function _W(){return vL()||wW()}function $y(t,e,r){let n=oa(e);T.useEffect(()=>{function i(a){n.current(a)}return document.addEventListener(t,i,r),()=>document.removeEventListener(t,i,r)},[t,r])}function xL(t,e,r){let n=oa(e);T.useEffect(()=>{function i(a){n.current(a)}return window.addEventListener(t,i,r),()=>window.removeEventListener(t,i,r)},[t,r])}function bL(t,e,r=!0){let n=T.useRef(!1);T.useEffect(()=>{requestAnimationFrame(()=>{n.current=r})},[r]);function i(s,o){if(!n.current||s.defaultPrevented)return;let l=o(s);if(l===null||!l.getRootNode().contains(l)||!l.isConnected)return;let u=function c(d){return typeof d=="function"?c(d()):Array.isArray(d)||d instanceof Set?d:[d]}(t);for(let c of u){if(c===null)continue;let d=c instanceof HTMLElement?c:c.current;if(d!=null&&d.contains(l)||s.composed&&s.composedPath().includes(d))return}return!yL(l,jA.Loose)&&l.tabIndex!==-1&&s.preventDefault(),e(s,l)}let a=T.useRef(null);$y("pointerdown",s=>{var o,l;n.current&&(a.current=((l=(o=s.composedPath)==null?void 0:o.call(s))==null?void 0:l[0])||s.target)},!0),$y("mousedown",s=>{var o,l;n.current&&(a.current=((l=(o=s.composedPath)==null?void 0:o.call(s))==null?void 0:l[0])||s.target)},!0),$y("click",s=>{_W()||a.current&&(i(s,()=>a.current),a.current=null)},!0),$y("touchend",s=>i(s,()=>s.target instanceof HTMLElement?s.target:null),!0),xL("blur",s=>i(s,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function Cm(...t){return T.useMemo(()=>NA(...t),[...t])}function yC(t){var e;if(t.type)return t.type;let r=(e=t.as)!=null?e:"button";if(typeof r=="string"&&r.toLowerCase()==="button")return"button"}function EW(t,e){let[r,n]=T.useState(()=>yC(t));return Br(()=>{n(yC(t))},[t.type,t.as]),Br(()=>{r||e.current&&e.current instanceof HTMLButtonElement&&!e.current.hasAttribute("type")&&n("button")},[r,e]),r}let wL=Symbol();function SW(t,e=!0){return Object.assign(t,{[wL]:e})}function Pn(...t){let e=T.useRef(t);T.useEffect(()=>{e.current=t},[t]);let r=Ke(n=>{for(let i of e.current)i!=null&&(typeof i=="function"?i(n):i.current=n)});return t.every(n=>n==null||(n==null?void 0:n[wL]))?void 0:r}function gC(t){return[t.screenX,t.screenY]}function AW(){let t=T.useRef([-1,-1]);return{wasMoved(e){let r=gC(e);return t.current[0]===r[0]&&t.current[1]===r[1]?!1:(t.current=r,!0)},update(e){t.current=gC(e)}}}function RA(t,e){let r=T.useRef([]),n=Ke(t);T.useEffect(()=>{let i=[...r.current];for(let[a,s]of e.entries())if(r.current[a]!==s){let o=n(e,i);return r.current=e,o}},[n,...e])}function ov(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}var vd=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(vd||{}),$o=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))($o||{});function dn({ourProps:t,theirProps:e,slot:r,defaultTag:n,features:i,visible:a=!0,name:s,mergeRefs:o}){o=o??TW;let l=_L(e,t);if(a)return Ly(l,r,n,s,o);let u=i??0;if(u&2){let{static:c=!1,...d}=l;if(c)return Ly(d,r,n,s,o)}if(u&1){let{unmount:c=!0,...d}=l;return pr(c?0:1,{0(){return null},1(){return Ly({...d,hidden:!0,style:{display:"none"}},r,n,s,o)}})}return Ly(l,r,n,s,o)}function Ly(t,e={},r,n,i){let{as:a=r,children:s,refName:o="ref",...l}=lw(t,["unmount","static"]),u=t.ref!==void 0?{[o]:t.ref}:{},c=typeof s=="function"?s(e):s;"className"in l&&l.className&&typeof l.className=="function"&&(l.className=l.className(e));let d={};if(e){let h=!1,p=[];for(let[g,y]of Object.entries(e))typeof y=="boolean"&&(h=!0),y===!0&&p.push(g);h&&(d["data-headlessui-state"]=p.join(" "))}if(a===T.Fragment&&Object.keys(y1(l)).length>0){if(!T.isValidElement(c)||Array.isArray(c)&&c.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${n} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(l).map(y=>`  - ${y}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(y=>`  - ${y}`).join(`
`)].join(`
`));let h=c.props,p=typeof(h==null?void 0:h.className)=="function"?(...y)=>ov(h==null?void 0:h.className(...y),l.className):ov(h==null?void 0:h.className,l.className),g=p?{className:p}:{};return T.cloneElement(c,Object.assign({},_L(c.props,y1(lw(l,["ref"]))),d,u,{ref:i(c.ref,u.ref)},g))}return T.createElement(a,Object.assign({},lw(l,["ref"]),a!==T.Fragment&&u,a!==T.Fragment&&d),c)}function TW(...t){return t.every(e=>e==null)?void 0:e=>{for(let r of t)r!=null&&(typeof r=="function"?r(e):r.current=e)}}function _L(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},r={};for(let n of t)for(let i in n)i.startsWith("on")&&typeof n[i]=="function"?(r[i]!=null||(r[i]=[]),r[i].push(n[i])):e[i]=n[i];if(e.disabled||e["aria-disabled"])return Object.assign(e,Object.fromEntries(Object.keys(r).map(n=>[n,void 0])));for(let n in r)Object.assign(e,{[n](i,...a){let s=r[n];for(let o of s){if((i instanceof Event||(i==null?void 0:i.nativeEvent)instanceof Event)&&i.defaultPrevented)return;o(i,...a)}}});return e}function Xr(t){var e;return Object.assign(T.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function y1(t){let e=Object.assign({},t);for(let r in e)e[r]===void 0&&delete e[r];return e}function lw(t,e=[]){let r=Object.assign({},t);for(let n of e)n in r&&delete r[n];return r}let PW="div";var Ep=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(Ep||{});function OW(t,e){var r;let{features:n=1,...i}=t,a={ref:e,"aria-hidden":(n&2)===2?!0:(r=i["aria-hidden"])!=null?r:void 0,hidden:(n&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(n&4)===4&&(n&2)!==2&&{display:"none"}}};return dn({ourProps:a,theirProps:i,slot:{},defaultTag:PW,name:"Hidden"})}let lv=Xr(OW),DA=T.createContext(null);DA.displayName="OpenClosedContext";var an=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(an||{});function sx(){return T.useContext(DA)}function EL({value:t,children:e}){return M.createElement(DA.Provider,{value:t},e)}function IW(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let vo=[];IW(()=>{function t(e){e.target instanceof HTMLElement&&e.target!==document.body&&vo[0]!==e.target&&(vo.unshift(e.target),vo=vo.filter(r=>r!=null&&r.isConnected),vo.splice(10))}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function SL(t){let e=t.parentElement,r=null;for(;e&&!(e instanceof HTMLFieldSetElement);)e instanceof HTMLLegendElement&&(r=e),e=e.parentElement;let n=(e==null?void 0:e.getAttribute("disabled"))==="";return n&&CW(r)?!1:n}function CW(t){if(!t)return!1;let e=t.previousElementSibling;for(;e!==null;){if(e instanceof HTMLLegendElement)return!1;e=e.previousElementSibling}return!0}function kW(t){throw new Error("Unexpected object: "+t)}var Qn=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))(Qn||{});function NW(t,e){let r=e.resolveItems();if(r.length<=0)return null;let n=e.resolveActiveIndex(),i=n??-1;switch(t.focus){case 0:{for(let a=0;a<r.length;++a)if(!e.resolveDisabled(r[a],a,r))return a;return n}case 1:{for(let a=i-1;a>=0;--a)if(!e.resolveDisabled(r[a],a,r))return a;return n}case 2:{for(let a=i+1;a<r.length;++a)if(!e.resolveDisabled(r[a],a,r))return a;return n}case 3:{for(let a=r.length-1;a>=0;--a)if(!e.resolveDisabled(r[a],a,r))return a;return n}case 4:{for(let a=0;a<r.length;++a)if(e.resolveId(r[a],a,r)===t.id)return a;return n}case 5:return null;default:kW(t)}}function AL(t={},e=null,r=[]){for(let[n,i]of Object.entries(t))PL(r,TL(e,n),i);return r}function TL(t,e){return t?t+"["+e+"]":e}function PL(t,e,r){if(Array.isArray(r))for(let[n,i]of r.entries())PL(t,TL(e,n.toString()),i);else r instanceof Date?t.push([e,r.toISOString()]):typeof r=="boolean"?t.push([e,r?"1":"0"]):typeof r=="string"?t.push([e,r]):typeof r=="number"?t.push([e,`${r}`]):r==null?t.push([e,""]):AL(r,e,t)}var Dr=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(Dr||{});function OL(t,e,r,n){let i=oa(r);T.useEffect(()=>{t=t??window;function a(s){i.current(s)}return t.addEventListener(e,a,n),()=>t.removeEventListener(e,a,n)},[t,e,n])}function km(){let t=T.useRef(!1);return Br(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function IL(t){let e=Ke(t),r=T.useRef(!1);T.useEffect(()=>(r.current=!1,()=>{r.current=!0,ax(()=>{r.current&&e()})}),[e])}var Sh=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(Sh||{});function jW(){let t=T.useRef(0);return xL("keydown",e=>{e.key==="Tab"&&(t.current=e.shiftKey?1:0)},!0),t}function CL(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let r of t.current)r.current instanceof HTMLElement&&e.add(r.current);return e}let RW="div";var kL=(t=>(t[t.None=1]="None",t[t.InitialFocus=2]="InitialFocus",t[t.TabLock=4]="TabLock",t[t.FocusLock=8]="FocusLock",t[t.RestoreFocus=16]="RestoreFocus",t[t.All=30]="All",t))(kL||{});function DW(t,e){let r=T.useRef(null),n=Pn(r,e),{initialFocus:i,containers:a,features:s=30,...o}=t;ff()||(s=1);let l=Cm(r);LW({ownerDocument:l},!!(s&16));let u=FW({ownerDocument:l,container:r,initialFocus:i},!!(s&2));VW({ownerDocument:l,container:r,containers:a,previousActiveElement:u},!!(s&8));let c=jW(),d=Ke(y=>{let v=r.current;v&&(b=>b())(()=>{pr(c.current,{[Sh.Forwards]:()=>{bg(v,Vl.First,{skipElements:[y.relatedTarget]})},[Sh.Backwards]:()=>{bg(v,Vl.Last,{skipElements:[y.relatedTarget]})}})})}),h=Pu(),p=T.useRef(!1),g={ref:n,onKeyDown(y){y.key=="Tab"&&(p.current=!0,h.requestAnimationFrame(()=>{p.current=!1}))},onBlur(y){let v=CL(a);r.current instanceof HTMLElement&&v.add(r.current);let b=y.relatedTarget;b instanceof HTMLElement&&b.dataset.headlessuiFocusGuard!=="true"&&(NL(v,b)||(p.current?bg(r.current,pr(c.current,{[Sh.Forwards]:()=>Vl.Next,[Sh.Backwards]:()=>Vl.Previous})|Vl.WrapAround,{relativeTo:y.target}):y.target instanceof HTMLElement&&hu(y.target)))}};return M.createElement(M.Fragment,null,!!(s&4)&&M.createElement(lv,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:d,features:Ep.Focusable}),dn({ourProps:g,theirProps:o,defaultTag:RW,name:"FocusTrap"}),!!(s&4)&&M.createElement(lv,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:d,features:Ep.Focusable}))}let MW=Xr(DW),ih=Object.assign(MW,{features:kL});function $W(t=!0){let e=T.useRef(vo.slice());return RA(([r],[n])=>{n===!0&&r===!1&&ax(()=>{e.current.splice(0)}),n===!1&&r===!0&&(e.current=vo.slice())},[t,vo,e]),Ke(()=>{var r;return(r=e.current.find(n=>n!=null&&n.isConnected))!=null?r:null})}function LW({ownerDocument:t},e){let r=$W(e);RA(()=>{e||(t==null?void 0:t.activeElement)===(t==null?void 0:t.body)&&hu(r())},[e]),IL(()=>{e&&hu(r())})}function FW({ownerDocument:t,container:e,initialFocus:r},n){let i=T.useRef(null),a=km();return RA(()=>{if(!n)return;let s=e.current;s&&ax(()=>{if(!a.current)return;let o=t==null?void 0:t.activeElement;if(r!=null&&r.current){if((r==null?void 0:r.current)===o){i.current=o;return}}else if(s.contains(o)){i.current=o;return}r!=null&&r.current?hu(r.current):bg(s,Vl.First)===mL.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),i.current=t==null?void 0:t.activeElement})},[n]),i}function VW({ownerDocument:t,container:e,containers:r,previousActiveElement:n},i){let a=km();OL(t==null?void 0:t.defaultView,"focus",s=>{if(!i||!a.current)return;let o=CL(r);e.current instanceof HTMLElement&&o.add(e.current);let l=n.current;if(!l)return;let u=s.target;u&&u instanceof HTMLElement?NL(o,u)?(n.current=u,hu(u)):(s.preventDefault(),s.stopPropagation(),hu(l)):hu(n.current)},!0)}function NL(t,e){for(let r of t)if(r.contains(e))return!0;return!1}let jL=T.createContext(!1);function BW(){return T.useContext(jL)}function g1(t){return M.createElement(jL.Provider,{value:t.force},t.children)}function UW(t){let e=BW(),r=T.useContext(RL),n=Cm(t),[i,a]=T.useState(()=>{if(!e&&r!==null||Es.isServer)return null;let s=n==null?void 0:n.getElementById("headlessui-portal-root");if(s)return s;if(n===null)return null;let o=n.createElement("div");return o.setAttribute("id","headlessui-portal-root"),n.body.appendChild(o)});return T.useEffect(()=>{i!==null&&(n!=null&&n.body.contains(i)||n==null||n.body.appendChild(i))},[i,n]),T.useEffect(()=>{e||r!==null&&a(r.current)},[r,a,e]),i}let zW=T.Fragment;function WW(t,e){let r=t,n=T.useRef(null),i=Pn(SW(c=>{n.current=c}),e),a=Cm(n),s=UW(n),[o]=T.useState(()=>{var c;return Es.isServer?null:(c=a==null?void 0:a.createElement("div"))!=null?c:null}),l=T.useContext(v1),u=ff();return Br(()=>{!s||!o||s.contains(o)||(o.setAttribute("data-headlessui-portal",""),s.appendChild(o))},[s,o]),Br(()=>{if(o&&l)return l.register(o)},[l,o]),IL(()=>{var c;!s||!o||(o instanceof Node&&s.contains(o)&&s.removeChild(o),s.childNodes.length<=0&&((c=s.parentElement)==null||c.removeChild(s)))}),u?!s||!o?null:ex.createPortal(dn({ourProps:{ref:i},theirProps:r,defaultTag:zW,name:"Portal"}),o):null}let HW=T.Fragment,RL=T.createContext(null);function qW(t,e){let{target:r,...n}=t,i={ref:Pn(e)};return M.createElement(RL.Provider,{value:r},dn({ourProps:i,theirProps:n,defaultTag:HW,name:"Popover.Group"}))}let v1=T.createContext(null);function KW(){let t=T.useContext(v1),e=T.useRef([]),r=Ke(a=>(e.current.push(a),t&&t.register(a),()=>n(a))),n=Ke(a=>{let s=e.current.indexOf(a);s!==-1&&e.current.splice(s,1),t&&t.unregister(a)}),i=T.useMemo(()=>({register:r,unregister:n,portals:e}),[r,n,e]);return[e,T.useMemo(()=>function({children:a}){return M.createElement(v1.Provider,{value:i},a)},[i])]}let GW=Xr(WW),YW=Xr(qW),x1=Object.assign(GW,{Group:YW});function QW(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const XW=typeof Object.is=="function"?Object.is:QW,{useState:ZW,useEffect:JW,useLayoutEffect:eH,useDebugValue:tH}=ud;function rH(t,e,r){const n=e(),[{inst:i},a]=ZW({inst:{value:n,getSnapshot:e}});return eH(()=>{i.value=n,i.getSnapshot=e,uw(i)&&a({inst:i})},[t,n,e]),JW(()=>(uw(i)&&a({inst:i}),t(()=>{uw(i)&&a({inst:i})})),[t]),tH(n),n}function uw(t){const e=t.getSnapshot,r=t.value;try{const n=e();return!XW(r,n)}catch{return!0}}function nH(t,e,r){return e()}const iH=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",aH=!iH,sH=aH?nH:rH,oH="useSyncExternalStore"in ud?(t=>t.useSyncExternalStore)(ud):sH;function lH(t){return oH(t.subscribe,t.getSnapshot,t.getSnapshot)}function uH(t,e){let r=t(),n=new Set;return{getSnapshot(){return r},subscribe(i){return n.add(i),()=>n.delete(i)},dispatch(i,...a){let s=e[i].call(r,...a);s&&(r=s,n.forEach(o=>o()))}}}function cH(){let t;return{before({doc:e}){var r;let n=e.documentElement;t=((r=e.defaultView)!=null?r:window).innerWidth-n.clientWidth},after({doc:e,d:r}){let n=e.documentElement,i=n.clientWidth-n.offsetWidth,a=t-i;r.style(n,"paddingRight",`${a}px`)}}}function dH(){return vL()?{before({doc:t,d:e,meta:r}){function n(i){return r.containers.flatMap(a=>a()).some(a=>a.contains(i))}e.microTask(()=>{var i;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let o=Va();o.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>o.dispose()))}let a=(i=window.scrollY)!=null?i:window.pageYOffset,s=null;e.addEventListener(t,"click",o=>{if(o.target instanceof HTMLElement)try{let l=o.target.closest("a");if(!l)return;let{hash:u}=new URL(l.href),c=t.querySelector(u);c&&!n(c)&&(s=c)}catch{}},!0),e.addEventListener(t,"touchstart",o=>{if(o.target instanceof HTMLElement)if(n(o.target)){let l=o.target;for(;l.parentElement&&n(l.parentElement);)l=l.parentElement;e.style(l,"overscrollBehavior","contain")}else e.style(o.target,"touchAction","none")}),e.addEventListener(t,"touchmove",o=>{if(o.target instanceof HTMLElement)if(n(o.target)){let l=o.target;for(;l.parentElement&&l.dataset.headlessuiPortal!==""&&!(l.scrollHeight>l.clientHeight||l.scrollWidth>l.clientWidth);)l=l.parentElement;l.dataset.headlessuiPortal===""&&o.preventDefault()}else o.preventDefault()},{passive:!1}),e.add(()=>{var o;let l=(o=window.scrollY)!=null?o:window.pageYOffset;a!==l&&window.scrollTo(0,a),s&&s.isConnected&&(s.scrollIntoView({block:"nearest"}),s=null)})})}}:{}}function fH(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function hH(t){let e={};for(let r of t)Object.assign(e,r(e));return e}let Gl=uH(()=>new Map,{PUSH(t,e){var r;let n=(r=this.get(t))!=null?r:{doc:t,count:0,d:Va(),meta:new Set};return n.count++,n.meta.add(e),this.set(t,n),this},POP(t,e){let r=this.get(t);return r&&(r.count--,r.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:r}){let n={doc:t,d:e,meta:hH(r)},i=[dH(),cH(),fH()];i.forEach(({before:a})=>a==null?void 0:a(n)),i.forEach(({after:a})=>a==null?void 0:a(n))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});Gl.subscribe(()=>{let t=Gl.getSnapshot(),e=new Map;for(let[r]of t)e.set(r,r.documentElement.style.overflow);for(let r of t.values()){let n=e.get(r.doc)==="hidden",i=r.count!==0;(i&&!n||!i&&n)&&Gl.dispatch(r.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",r),r.count===0&&Gl.dispatch("TEARDOWN",r)}});function pH(t,e,r){let n=lH(Gl),i=t?n.get(t):void 0,a=i?i.count>0:!1;return Br(()=>{if(!(!t||!e))return Gl.dispatch("PUSH",t,r),()=>Gl.dispatch("POP",t,r)},[e,t]),a}let cw=new Map,ah=new Map;function vC(t,e=!0){Br(()=>{var r;if(!e)return;let n=typeof t=="function"?t():t.current;if(!n)return;function i(){var s;if(!n)return;let o=(s=ah.get(n))!=null?s:1;if(o===1?ah.delete(n):ah.set(n,o-1),o!==1)return;let l=cw.get(n);l&&(l["aria-hidden"]===null?n.removeAttribute("aria-hidden"):n.setAttribute("aria-hidden",l["aria-hidden"]),n.inert=l.inert,cw.delete(n))}let a=(r=ah.get(n))!=null?r:0;return ah.set(n,a+1),a!==0||(cw.set(n,{"aria-hidden":n.getAttribute("aria-hidden"),inert:n.inert}),n.setAttribute("aria-hidden","true"),n.inert=!0),i},[t,e])}function mH({defaultContainers:t=[],portals:e,mainTreeNodeRef:r}={}){var n;let i=T.useRef((n=r==null?void 0:r.current)!=null?n:null),a=Cm(i),s=Ke(()=>{var o,l,u;let c=[];for(let d of t)d!==null&&(d instanceof HTMLElement?c.push(d):"current"in d&&d.current instanceof HTMLElement&&c.push(d.current));if(e!=null&&e.current)for(let d of e.current)c.push(d);for(let d of(o=a==null?void 0:a.querySelectorAll("html > *, body > *"))!=null?o:[])d!==document.body&&d!==document.head&&d instanceof HTMLElement&&d.id!=="headlessui-portal-root"&&(d.contains(i.current)||d.contains((u=(l=i.current)==null?void 0:l.getRootNode())==null?void 0:u.host)||c.some(h=>d.contains(h))||c.push(d));return c});return{resolveContainers:s,contains:Ke(o=>s().some(l=>l.contains(o))),mainTreeNodeRef:i,MainTreeNode:T.useMemo(()=>function(){return r!=null?null:M.createElement(lv,{features:Ep.Hidden,ref:i})},[i,r])}}let MA=T.createContext(()=>{});MA.displayName="StackContext";var b1=(t=>(t[t.Add=0]="Add",t[t.Remove=1]="Remove",t))(b1||{});function yH(){return T.useContext(MA)}function gH({children:t,onUpdate:e,type:r,element:n,enabled:i}){let a=yH(),s=Ke((...o)=>{e==null||e(...o),a(...o)});return Br(()=>{let o=i===void 0||i===!0;return o&&s(0,r,n),()=>{o&&s(1,r,n)}},[s,r,n,i]),M.createElement(MA.Provider,{value:s},t)}let DL=T.createContext(null);function ML(){let t=T.useContext(DL);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,ML),e}return t}function vH(){let[t,e]=T.useState([]);return[t.length>0?t.join(" "):void 0,T.useMemo(()=>function(r){let n=Ke(a=>(e(s=>[...s,a]),()=>e(s=>{let o=s.slice(),l=o.indexOf(a);return l!==-1&&o.splice(l,1),o}))),i=T.useMemo(()=>({register:n,slot:r.slot,name:r.name,props:r.props}),[n,r.slot,r.name,r.props]);return M.createElement(DL.Provider,{value:i},r.children)},[e])]}let xH="p";function bH(t,e){let r=Wa(),{id:n=`headlessui-description-${r}`,...i}=t,a=ML(),s=Pn(e);Br(()=>a.register(n),[n,a.register]);let o={ref:s,...a.props,id:n};return dn({ourProps:o,theirProps:i,slot:a.slot||{},defaultTag:xH,name:a.name||"Description"})}let wH=Xr(bH),_H=Object.assign(wH,{});var EH=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(EH||{}),SH=(t=>(t[t.SetTitleId=0]="SetTitleId",t))(SH||{});let AH={0(t,e){return t.titleId===e.id?t:{...t,titleId:e.id}}},uv=T.createContext(null);uv.displayName="DialogContext";function Nm(t){let e=T.useContext(uv);if(e===null){let r=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Nm),r}return e}function TH(t,e,r=()=>[document.body]){pH(t,e,n=>{var i;return{containers:[...(i=n.containers)!=null?i:[],r]}})}function PH(t,e){return pr(e.type,AH,t,e)}let OH="div",IH=vd.RenderStrategy|vd.Static;function CH(t,e){let r=Wa(),{id:n=`headlessui-dialog-${r}`,open:i,onClose:a,initialFocus:s,role:o="dialog",__demoMode:l=!1,...u}=t,[c,d]=T.useState(0),h=T.useRef(!1);o=function(){return o==="dialog"||o==="alertdialog"?o:(h.current||(h.current=!0,console.warn(`Invalid role [${o}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let p=sx();i===void 0&&p!==null&&(i=(p&an.Open)===an.Open);let g=T.useRef(null),y=Pn(g,e),v=Cm(g),b=t.hasOwnProperty("open")||p!==null,x=t.hasOwnProperty("onClose");if(!b&&!x)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!b)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!x)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof i!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${i}`);if(typeof a!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${a}`);let _=i?0:1,[O,E]=T.useReducer(PH,{titleId:null,descriptionId:null,panelRef:T.createRef()}),P=Ke(()=>a(!1)),w=Ke(ye=>E({type:0,id:ye})),S=ff()?l?!1:_===0:!1,I=c>1,k=T.useContext(uv)!==null,[N,R]=KW(),j={get current(){var ye;return(ye=O.panelRef.current)!=null?ye:g.current}},{resolveContainers:B,mainTreeNodeRef:L,MainTreeNode:U}=mH({portals:N,defaultContainers:[j]}),W=I?"parent":"leaf",$=p!==null?(p&an.Closing)===an.Closing:!1,H=k||$?!1:S,Y=T.useCallback(()=>{var ye,J;return(J=Array.from((ye=v==null?void 0:v.querySelectorAll("body > *"))!=null?ye:[]).find(Fe=>Fe.id==="headlessui-portal-root"?!1:Fe.contains(L.current)&&Fe instanceof HTMLElement))!=null?J:null},[L]);vC(Y,H);let re=I?!0:S,X=T.useCallback(()=>{var ye,J;return(J=Array.from((ye=v==null?void 0:v.querySelectorAll("[data-headlessui-portal]"))!=null?ye:[]).find(Fe=>Fe.contains(L.current)&&Fe instanceof HTMLElement))!=null?J:null},[L]);vC(X,re),bL(B,ye=>{ye.preventDefault(),P()},!(!S||I));let se=!(I||_!==0);OL(v==null?void 0:v.defaultView,"keydown",ye=>{se&&(ye.defaultPrevented||ye.key===Dr.Escape&&(ye.preventDefault(),ye.stopPropagation(),P()))}),TH(v,!($||_!==0||k),B),T.useEffect(()=>{if(_!==0||!g.current)return;let ye=new ResizeObserver(J=>{for(let Fe of J){let qe=Fe.target.getBoundingClientRect();qe.x===0&&qe.y===0&&qe.width===0&&qe.height===0&&P()}});return ye.observe(g.current),()=>ye.disconnect()},[_,g,P]);let[De,nt]=vH(),ft=T.useMemo(()=>[{dialogState:_,close:P,setTitleId:w},O],[_,O,P,w]),fe=T.useMemo(()=>({open:_===0}),[_]),_e={ref:y,id:n,role:o,"aria-modal":_===0?!0:void 0,"aria-labelledby":O.titleId,"aria-describedby":De};return M.createElement(gH,{type:"Dialog",enabled:_===0,element:g,onUpdate:Ke((ye,J)=>{J==="Dialog"&&pr(ye,{[b1.Add]:()=>d(Fe=>Fe+1),[b1.Remove]:()=>d(Fe=>Fe-1)})})},M.createElement(g1,{force:!0},M.createElement(x1,null,M.createElement(uv.Provider,{value:ft},M.createElement(x1.Group,{target:g},M.createElement(g1,{force:!1},M.createElement(nt,{slot:fe,name:"Dialog.Description"},M.createElement(ih,{initialFocus:s,containers:B,features:S?pr(W,{parent:ih.features.RestoreFocus,leaf:ih.features.All&~ih.features.FocusLock}):ih.features.None},M.createElement(R,null,dn({ourProps:_e,theirProps:u,slot:fe,defaultTag:OH,features:IH,visible:_===0,name:"Dialog"}))))))))),M.createElement(U,null))}let kH="div";function NH(t,e){let r=Wa(),{id:n=`headlessui-dialog-overlay-${r}`,...i}=t,[{dialogState:a,close:s}]=Nm("Dialog.Overlay"),o=Pn(e),l=Ke(c=>{if(c.target===c.currentTarget){if(SL(c.currentTarget))return c.preventDefault();c.preventDefault(),c.stopPropagation(),s()}}),u=T.useMemo(()=>({open:a===0}),[a]);return dn({ourProps:{ref:o,id:n,"aria-hidden":!0,onClick:l},theirProps:i,slot:u,defaultTag:kH,name:"Dialog.Overlay"})}let jH="div";function RH(t,e){let r=Wa(),{id:n=`headlessui-dialog-backdrop-${r}`,...i}=t,[{dialogState:a},s]=Nm("Dialog.Backdrop"),o=Pn(e);T.useEffect(()=>{if(s.panelRef.current===null)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[s.panelRef]);let l=T.useMemo(()=>({open:a===0}),[a]);return M.createElement(g1,{force:!0},M.createElement(x1,null,dn({ourProps:{ref:o,id:n,"aria-hidden":!0},theirProps:i,slot:l,defaultTag:jH,name:"Dialog.Backdrop"})))}let DH="div";function MH(t,e){let r=Wa(),{id:n=`headlessui-dialog-panel-${r}`,...i}=t,[{dialogState:a},s]=Nm("Dialog.Panel"),o=Pn(e,s.panelRef),l=T.useMemo(()=>({open:a===0}),[a]),u=Ke(c=>{c.stopPropagation()});return dn({ourProps:{ref:o,id:n,onClick:u},theirProps:i,slot:l,defaultTag:DH,name:"Dialog.Panel"})}let $H="h2";function LH(t,e){let r=Wa(),{id:n=`headlessui-dialog-title-${r}`,...i}=t,[{dialogState:a,setTitleId:s}]=Nm("Dialog.Title"),o=Pn(e);T.useEffect(()=>(s(n),()=>s(null)),[n,s]);let l=T.useMemo(()=>({open:a===0}),[a]);return dn({ourProps:{ref:o,id:n},theirProps:i,slot:l,defaultTag:$H,name:"Dialog.Title"})}let FH=Xr(CH),VH=Xr(RH),BH=Xr(MH),UH=Xr(NH),zH=Xr(LH),or=Object.assign(FH,{Backdrop:VH,Panel:BH,Overlay:UH,Title:zH,Description:_H}),xC=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function bC(t){var e,r;let n=(e=t.innerText)!=null?e:"",i=t.cloneNode(!0);if(!(i instanceof HTMLElement))return n;let a=!1;for(let o of i.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))o.remove(),a=!0;let s=a?(r=i.innerText)!=null?r:"":n;return xC.test(s)&&(s=s.replace(xC,"")),s}function WH(t){let e=t.getAttribute("aria-label");if(typeof e=="string")return e.trim();let r=t.getAttribute("aria-labelledby");if(r){let n=r.split(" ").map(i=>{let a=document.getElementById(i);if(a){let s=a.getAttribute("aria-label");return typeof s=="string"?s.trim():bC(a).trim()}return null}).filter(Boolean);if(n.length>0)return n.join(", ")}return bC(t).trim()}function HH(t){let e=T.useRef(""),r=T.useRef("");return Ke(()=>{let n=t.current;if(!n)return"";let i=n.innerText;if(e.current===i)return r.current;let a=WH(n).trim().toLowerCase();return e.current=i,r.current=a,a})}var qH=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(qH||{}),KH=(t=>(t[t.Single=0]="Single",t[t.Multi=1]="Multi",t))(KH||{}),GH=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(GH||{}),YH=(t=>(t[t.OpenListbox=0]="OpenListbox",t[t.CloseListbox=1]="CloseListbox",t[t.GoToOption=2]="GoToOption",t[t.Search=3]="Search",t[t.ClearSearch=4]="ClearSearch",t[t.RegisterOption=5]="RegisterOption",t[t.UnregisterOption=6]="UnregisterOption",t[t.RegisterLabel=7]="RegisterLabel",t))(YH||{});function dw(t,e=r=>r){let r=t.activeOptionIndex!==null?t.options[t.activeOptionIndex]:null,n=gL(e(t.options.slice()),a=>a.dataRef.current.domRef.current),i=r?n.indexOf(r):null;return i===-1&&(i=null),{options:n,activeOptionIndex:i}}let QH={1(t){return t.dataRef.current.disabled||t.listboxState===1?t:{...t,activeOptionIndex:null,listboxState:1}},0(t){if(t.dataRef.current.disabled||t.listboxState===0)return t;let e=t.activeOptionIndex,{isSelected:r}=t.dataRef.current,n=t.options.findIndex(i=>r(i.dataRef.current.value));return n!==-1&&(e=n),{...t,listboxState:0,activeOptionIndex:e}},2(t,e){var r;if(t.dataRef.current.disabled||t.listboxState===1)return t;let n=dw(t),i=NW(e,{resolveItems:()=>n.options,resolveActiveIndex:()=>n.activeOptionIndex,resolveId:a=>a.id,resolveDisabled:a=>a.dataRef.current.disabled});return{...t,...n,searchQuery:"",activeOptionIndex:i,activationTrigger:(r=e.trigger)!=null?r:1}},3:(t,e)=>{if(t.dataRef.current.disabled||t.listboxState===1)return t;let r=t.searchQuery!==""?0:1,n=t.searchQuery+e.value.toLowerCase(),i=(t.activeOptionIndex!==null?t.options.slice(t.activeOptionIndex+r).concat(t.options.slice(0,t.activeOptionIndex+r)):t.options).find(s=>{var o;return!s.dataRef.current.disabled&&((o=s.dataRef.current.textValue)==null?void 0:o.startsWith(n))}),a=i?t.options.indexOf(i):-1;return a===-1||a===t.activeOptionIndex?{...t,searchQuery:n}:{...t,searchQuery:n,activeOptionIndex:a,activationTrigger:1}},4(t){return t.dataRef.current.disabled||t.listboxState===1||t.searchQuery===""?t:{...t,searchQuery:""}},5:(t,e)=>{let r={id:e.id,dataRef:e.dataRef},n=dw(t,i=>[...i,r]);return t.activeOptionIndex===null&&t.dataRef.current.isSelected(e.dataRef.current.value)&&(n.activeOptionIndex=n.options.indexOf(r)),{...t,...n}},6:(t,e)=>{let r=dw(t,n=>{let i=n.findIndex(a=>a.id===e.id);return i!==-1&&n.splice(i,1),n});return{...t,...r,activationTrigger:1}},7:(t,e)=>({...t,labelId:e.id})},$A=T.createContext(null);$A.displayName="ListboxActionsContext";function jm(t){let e=T.useContext($A);if(e===null){let r=new Error(`<${t} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,jm),r}return e}let LA=T.createContext(null);LA.displayName="ListboxDataContext";function Rm(t){let e=T.useContext(LA);if(e===null){let r=new Error(`<${t} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Rm),r}return e}function XH(t,e){return pr(e.type,QH,t,e)}let ZH=T.Fragment;function JH(t,e){let{value:r,defaultValue:n,form:i,name:a,onChange:s,by:o=(se,me)=>se===me,disabled:l=!1,horizontal:u=!1,multiple:c=!1,...d}=t;const h=u?"horizontal":"vertical";let p=Pn(e),[g=c?[]:void 0,y]=pW(r,s,n),[v,b]=T.useReducer(XH,{dataRef:T.createRef(),listboxState:1,options:[],searchQuery:"",labelId:null,activeOptionIndex:null,activationTrigger:1}),x=T.useRef({static:!1,hold:!1}),_=T.useRef(null),O=T.useRef(null),E=T.useRef(null),P=Ke(typeof o=="string"?(se,me)=>{let De=o;return(se==null?void 0:se[De])===(me==null?void 0:me[De])}:o),w=T.useCallback(se=>pr(S.mode,{1:()=>g.some(me=>P(me,se)),0:()=>P(g,se)}),[g]),S=T.useMemo(()=>({...v,value:g,disabled:l,mode:c?1:0,orientation:h,compare:P,isSelected:w,optionsPropsRef:x,labelRef:_,buttonRef:O,optionsRef:E}),[g,l,c,v]);Br(()=>{v.dataRef.current=S},[S]),bL([S.buttonRef,S.optionsRef],(se,me)=>{var De;b({type:1}),yL(me,jA.Loose)||(se.preventDefault(),(De=S.buttonRef.current)==null||De.focus())},S.listboxState===0);let I=T.useMemo(()=>({open:S.listboxState===0,disabled:l,value:g}),[S,l,g]),k=Ke(se=>{let me=S.options.find(De=>De.id===se);me&&W(me.dataRef.current.value)}),N=Ke(()=>{if(S.activeOptionIndex!==null){let{dataRef:se,id:me}=S.options[S.activeOptionIndex];W(se.current.value),b({type:2,focus:Qn.Specific,id:me})}}),R=Ke(()=>b({type:0})),j=Ke(()=>b({type:1})),B=Ke((se,me,De)=>se===Qn.Specific?b({type:2,focus:Qn.Specific,id:me,trigger:De}):b({type:2,focus:se,trigger:De})),L=Ke((se,me)=>(b({type:5,id:se,dataRef:me}),()=>b({type:6,id:se}))),U=Ke(se=>(b({type:7,id:se}),()=>b({type:7,id:null}))),W=Ke(se=>pr(S.mode,{0(){return y==null?void 0:y(se)},1(){let me=S.value.slice(),De=me.findIndex(nt=>P(nt,se));return De===-1?me.push(se):me.splice(De,1),y==null?void 0:y(me)}})),$=Ke(se=>b({type:3,value:se})),H=Ke(()=>b({type:4})),Y=T.useMemo(()=>({onChange:W,registerOption:L,registerLabel:U,goToOption:B,closeListbox:j,openListbox:R,selectActiveOption:N,selectOption:k,search:$,clearSearch:H}),[]),re={ref:p},X=T.useRef(null),ae=Pu();return T.useEffect(()=>{X.current&&n!==void 0&&ae.addEventListener(X.current,"reset",()=>{y==null||y(n)})},[X,y]),M.createElement($A.Provider,{value:Y},M.createElement(LA.Provider,{value:S},M.createElement(EL,{value:pr(S.listboxState,{0:an.Open,1:an.Closed})},a!=null&&g!=null&&AL({[a]:g}).map(([se,me],De)=>M.createElement(lv,{features:Ep.Hidden,ref:De===0?nt=>{var ft;X.current=(ft=nt==null?void 0:nt.closest("form"))!=null?ft:null}:void 0,...y1({key:se,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:i,disabled:l,name:se,value:me})})),dn({ourProps:re,theirProps:d,slot:I,defaultTag:ZH,name:"Listbox"}))))}let eq="button";function tq(t,e){var r;let n=Wa(),{id:i=`headlessui-listbox-button-${n}`,...a}=t,s=Rm("Listbox.Button"),o=jm("Listbox.Button"),l=Pn(s.buttonRef,e),u=Pu(),c=Ke(v=>{switch(v.key){case Dr.Space:case Dr.Enter:case Dr.ArrowDown:v.preventDefault(),o.openListbox(),u.nextFrame(()=>{s.value||o.goToOption(Qn.First)});break;case Dr.ArrowUp:v.preventDefault(),o.openListbox(),u.nextFrame(()=>{s.value||o.goToOption(Qn.Last)});break}}),d=Ke(v=>{switch(v.key){case Dr.Space:v.preventDefault();break}}),h=Ke(v=>{if(SL(v.currentTarget))return v.preventDefault();s.listboxState===0?(o.closeListbox(),u.nextFrame(()=>{var b;return(b=s.buttonRef.current)==null?void 0:b.focus({preventScroll:!0})})):(v.preventDefault(),o.openListbox())}),p=pL(()=>{if(s.labelId)return[s.labelId,i].join(" ")},[s.labelId,i]),g=T.useMemo(()=>({open:s.listboxState===0,disabled:s.disabled,value:s.value}),[s]),y={ref:l,id:i,type:EW(t,s.buttonRef),"aria-haspopup":"listbox","aria-controls":(r=s.optionsRef.current)==null?void 0:r.id,"aria-expanded":s.listboxState===0,"aria-labelledby":p,disabled:s.disabled,onKeyDown:c,onKeyUp:d,onClick:h};return dn({ourProps:y,theirProps:a,slot:g,defaultTag:eq,name:"Listbox.Button"})}let rq="label";function nq(t,e){let r=Wa(),{id:n=`headlessui-listbox-label-${r}`,...i}=t,a=Rm("Listbox.Label"),s=jm("Listbox.Label"),o=Pn(a.labelRef,e);Br(()=>s.registerLabel(n),[n]);let l=Ke(()=>{var c;return(c=a.buttonRef.current)==null?void 0:c.focus({preventScroll:!0})}),u=T.useMemo(()=>({open:a.listboxState===0,disabled:a.disabled}),[a]);return dn({ourProps:{ref:o,id:n,onClick:l},theirProps:i,slot:u,defaultTag:rq,name:"Listbox.Label"})}let iq="ul",aq=vd.RenderStrategy|vd.Static;function sq(t,e){var r;let n=Wa(),{id:i=`headlessui-listbox-options-${n}`,...a}=t,s=Rm("Listbox.Options"),o=jm("Listbox.Options"),l=Pn(s.optionsRef,e),u=Pu(),c=Pu(),d=sx(),h=d!==null?(d&an.Open)===an.Open:s.listboxState===0;T.useEffect(()=>{var b;let x=s.optionsRef.current;x&&s.listboxState===0&&x!==((b=NA(x))==null?void 0:b.activeElement)&&x.focus({preventScroll:!0})},[s.listboxState,s.optionsRef]);let p=Ke(b=>{switch(c.dispose(),b.key){case Dr.Space:if(s.searchQuery!=="")return b.preventDefault(),b.stopPropagation(),o.search(b.key);case Dr.Enter:if(b.preventDefault(),b.stopPropagation(),s.activeOptionIndex!==null){let{dataRef:x}=s.options[s.activeOptionIndex];o.onChange(x.current.value)}s.mode===0&&(o.closeListbox(),Va().nextFrame(()=>{var x;return(x=s.buttonRef.current)==null?void 0:x.focus({preventScroll:!0})}));break;case pr(s.orientation,{vertical:Dr.ArrowDown,horizontal:Dr.ArrowRight}):return b.preventDefault(),b.stopPropagation(),o.goToOption(Qn.Next);case pr(s.orientation,{vertical:Dr.ArrowUp,horizontal:Dr.ArrowLeft}):return b.preventDefault(),b.stopPropagation(),o.goToOption(Qn.Previous);case Dr.Home:case Dr.PageUp:return b.preventDefault(),b.stopPropagation(),o.goToOption(Qn.First);case Dr.End:case Dr.PageDown:return b.preventDefault(),b.stopPropagation(),o.goToOption(Qn.Last);case Dr.Escape:return b.preventDefault(),b.stopPropagation(),o.closeListbox(),u.nextFrame(()=>{var x;return(x=s.buttonRef.current)==null?void 0:x.focus({preventScroll:!0})});case Dr.Tab:b.preventDefault(),b.stopPropagation();break;default:b.key.length===1&&(o.search(b.key),c.setTimeout(()=>o.clearSearch(),350));break}}),g=pL(()=>{var b;return(b=s.buttonRef.current)==null?void 0:b.id},[s.buttonRef.current]),y=T.useMemo(()=>({open:s.listboxState===0}),[s]),v={"aria-activedescendant":s.activeOptionIndex===null||(r=s.options[s.activeOptionIndex])==null?void 0:r.id,"aria-multiselectable":s.mode===1?!0:void 0,"aria-labelledby":g,"aria-orientation":s.orientation,id:i,onKeyDown:p,role:"listbox",tabIndex:0,ref:l};return dn({ourProps:v,theirProps:a,slot:y,defaultTag:iq,features:aq,visible:h,name:"Listbox.Options"})}let oq="li";function lq(t,e){let r=Wa(),{id:n=`headlessui-listbox-option-${r}`,disabled:i=!1,value:a,...s}=t,o=Rm("Listbox.Option"),l=jm("Listbox.Option"),u=o.activeOptionIndex!==null?o.options[o.activeOptionIndex].id===n:!1,c=o.isSelected(a),d=T.useRef(null),h=HH(d),p=oa({disabled:i,value:a,domRef:d,get textValue(){return h()}}),g=Pn(e,d);Br(()=>{if(o.listboxState!==0||!u||o.activationTrigger===0)return;let P=Va();return P.requestAnimationFrame(()=>{var w,S;(S=(w=d.current)==null?void 0:w.scrollIntoView)==null||S.call(w,{block:"nearest"})}),P.dispose},[d,u,o.listboxState,o.activationTrigger,o.activeOptionIndex]),Br(()=>l.registerOption(n,p),[p,n]);let y=Ke(P=>{if(i)return P.preventDefault();l.onChange(a),o.mode===0&&(l.closeListbox(),Va().nextFrame(()=>{var w;return(w=o.buttonRef.current)==null?void 0:w.focus({preventScroll:!0})}))}),v=Ke(()=>{if(i)return l.goToOption(Qn.Nothing);l.goToOption(Qn.Specific,n)}),b=AW(),x=Ke(P=>b.update(P)),_=Ke(P=>{b.wasMoved(P)&&(i||u||l.goToOption(Qn.Specific,n,0))}),O=Ke(P=>{b.wasMoved(P)&&(i||u&&l.goToOption(Qn.Nothing))}),E=T.useMemo(()=>({active:u,selected:c,disabled:i}),[u,c,i]);return dn({ourProps:{id:n,ref:g,role:"option",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,"aria-selected":c,disabled:void 0,onClick:y,onFocus:v,onPointerEnter:x,onMouseEnter:x,onPointerMove:_,onMouseMove:_,onPointerLeave:O,onMouseLeave:O},theirProps:s,slot:E,defaultTag:oq,name:"Listbox.Option"})}let uq=Xr(JH),cq=Xr(tq),dq=Xr(nq),fq=Xr(sq),hq=Xr(lq),Cr=Object.assign(uq,{Button:cq,Label:dq,Options:fq,Option:hq});function pq(t=0){let[e,r]=T.useState(t),n=km(),i=T.useCallback(l=>{n.current&&r(u=>u|l)},[e,n]),a=T.useCallback(l=>!!(e&l),[e]),s=T.useCallback(l=>{n.current&&r(u=>u&~l)},[r,n]),o=T.useCallback(l=>{n.current&&r(u=>u^l)},[r]);return{flags:e,addFlag:i,hasFlag:a,removeFlag:s,toggleFlag:o}}function mq(t){let e={called:!1};return(...r)=>{if(!e.called)return e.called=!0,t(...r)}}function fw(t,...e){t&&e.length>0&&t.classList.add(...e)}function hw(t,...e){t&&e.length>0&&t.classList.remove(...e)}function yq(t,e){let r=Va();if(!t)return r.dispose;let{transitionDuration:n,transitionDelay:i}=getComputedStyle(t),[a,s]=[n,i].map(l=>{let[u=0]=l.split(",").filter(Boolean).map(c=>c.includes("ms")?parseFloat(c):parseFloat(c)*1e3).sort((c,d)=>d-c);return u}),o=a+s;if(o!==0){r.group(u=>{u.setTimeout(()=>{e(),u.dispose()},o),u.addEventListener(t,"transitionrun",c=>{c.target===c.currentTarget&&u.dispose()})});let l=r.addEventListener(t,"transitionend",u=>{u.target===u.currentTarget&&(e(),l())})}else e();return r.add(()=>e()),r.dispose}function gq(t,e,r,n){let i=r?"enter":"leave",a=Va(),s=n!==void 0?mq(n):()=>{};i==="enter"&&(t.removeAttribute("hidden"),t.style.display="");let o=pr(i,{enter:()=>e.enter,leave:()=>e.leave}),l=pr(i,{enter:()=>e.enterTo,leave:()=>e.leaveTo}),u=pr(i,{enter:()=>e.enterFrom,leave:()=>e.leaveFrom});return hw(t,...e.base,...e.enter,...e.enterTo,...e.enterFrom,...e.leave,...e.leaveFrom,...e.leaveTo,...e.entered),fw(t,...e.base,...o,...u),a.nextFrame(()=>{hw(t,...e.base,...o,...u),fw(t,...e.base,...o,...l),yq(t,()=>(hw(t,...e.base,...o),fw(t,...e.base,...e.entered),s()))}),a.dispose}function vq({immediate:t,container:e,direction:r,classes:n,onStart:i,onStop:a}){let s=km(),o=Pu(),l=oa(r);Br(()=>{t&&(l.current="enter")},[t]),Br(()=>{let u=Va();o.add(u.dispose);let c=e.current;if(c&&l.current!=="idle"&&s.current)return u.dispose(),i.current(l.current),u.add(gq(c,n.current,l.current==="enter",()=>{u.dispose(),a.current(l.current)})),u.dispose},[r])}function so(t=""){return t.split(/\s+/).filter(e=>e.length>1)}let ox=T.createContext(null);ox.displayName="TransitionContext";var xq=(t=>(t.Visible="visible",t.Hidden="hidden",t))(xq||{});function bq(){let t=T.useContext(ox);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function wq(){let t=T.useContext(lx);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}let lx=T.createContext(null);lx.displayName="NestingContext";function ux(t){return"children"in t?ux(t.children):t.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function $L(t,e){let r=oa(t),n=T.useRef([]),i=km(),a=Pu(),s=Ke((p,g=$o.Hidden)=>{let y=n.current.findIndex(({el:v})=>v===p);y!==-1&&(pr(g,{[$o.Unmount](){n.current.splice(y,1)},[$o.Hidden](){n.current[y].state="hidden"}}),a.microTask(()=>{var v;!ux(n)&&i.current&&((v=r.current)==null||v.call(r))}))}),o=Ke(p=>{let g=n.current.find(({el:y})=>y===p);return g?g.state!=="visible"&&(g.state="visible"):n.current.push({el:p,state:"visible"}),()=>s(p,$o.Unmount)}),l=T.useRef([]),u=T.useRef(Promise.resolve()),c=T.useRef({enter:[],leave:[],idle:[]}),d=Ke((p,g,y)=>{l.current.splice(0),e&&(e.chains.current[g]=e.chains.current[g].filter(([v])=>v!==p)),e==null||e.chains.current[g].push([p,new Promise(v=>{l.current.push(v)})]),e==null||e.chains.current[g].push([p,new Promise(v=>{Promise.all(c.current[g].map(([b,x])=>x)).then(()=>v())})]),g==="enter"?u.current=u.current.then(()=>e==null?void 0:e.wait.current).then(()=>y(g)):y(g)}),h=Ke((p,g,y)=>{Promise.all(c.current[g].splice(0).map(([v,b])=>b)).then(()=>{var v;(v=l.current.shift())==null||v()}).then(()=>y(g))});return T.useMemo(()=>({children:n,register:o,unregister:s,onStart:d,onStop:h,wait:u,chains:c}),[o,s,n,d,h,c,u])}function _q(){}let Eq=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function wC(t){var e;let r={};for(let n of Eq)r[n]=(e=t[n])!=null?e:_q;return r}function Sq(t){let e=T.useRef(wC(t));return T.useEffect(()=>{e.current=wC(t)},[t]),e}let Aq="div",LL=vd.RenderStrategy;function Tq(t,e){var r,n;let{beforeEnter:i,afterEnter:a,beforeLeave:s,afterLeave:o,enter:l,enterFrom:u,enterTo:c,entered:d,leave:h,leaveFrom:p,leaveTo:g,...y}=t,v=T.useRef(null),b=Pn(v,e),x=(r=y.unmount)==null||r?$o.Unmount:$o.Hidden,{show:_,appear:O,initial:E}=bq(),[P,w]=T.useState(_?"visible":"hidden"),S=wq(),{register:I,unregister:k}=S;T.useEffect(()=>I(v),[I,v]),T.useEffect(()=>{if(x===$o.Hidden&&v.current){if(_&&P!=="visible"){w("visible");return}return pr(P,{hidden:()=>k(v),visible:()=>I(v)})}},[P,v,I,k,_,x]);let N=oa({base:so(y.className),enter:so(l),enterFrom:so(u),enterTo:so(c),entered:so(d),leave:so(h),leaveFrom:so(p),leaveTo:so(g)}),R=Sq({beforeEnter:i,afterEnter:a,beforeLeave:s,afterLeave:o}),j=ff();T.useEffect(()=>{if(j&&P==="visible"&&v.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[v,P,j]);let B=E&&!O,L=O&&_&&E,U=!j||B?"idle":_?"enter":"leave",W=pq(0),$=Ke(se=>pr(se,{enter:()=>{W.addFlag(an.Opening),R.current.beforeEnter()},leave:()=>{W.addFlag(an.Closing),R.current.beforeLeave()},idle:()=>{}})),H=Ke(se=>pr(se,{enter:()=>{W.removeFlag(an.Opening),R.current.afterEnter()},leave:()=>{W.removeFlag(an.Closing),R.current.afterLeave()},idle:()=>{}})),Y=$L(()=>{w("hidden"),k(v)},S),re=T.useRef(!1);vq({immediate:L,container:v,classes:N,direction:U,onStart:oa(se=>{re.current=!0,Y.onStart(v,se,$)}),onStop:oa(se=>{re.current=!1,Y.onStop(v,se,H),se==="leave"&&!ux(Y)&&(w("hidden"),k(v))})});let X=y,ae={ref:b};return L?X={...X,className:ov(y.className,...N.current.enter,...N.current.enterFrom)}:re.current&&(X.className=ov(y.className,(n=v.current)==null?void 0:n.className),X.className===""&&delete X.className),M.createElement(lx.Provider,{value:Y},M.createElement(EL,{value:pr(P,{visible:an.Open,hidden:an.Closed})|W.flags},dn({ourProps:ae,theirProps:X,defaultTag:Aq,features:LL,visible:P==="visible",name:"Transition.Child"})))}function Pq(t,e){let{show:r,appear:n=!1,unmount:i=!0,...a}=t,s=T.useRef(null),o=Pn(s,e);ff();let l=sx();if(r===void 0&&l!==null&&(r=(l&an.Open)===an.Open),![!0,!1].includes(r))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[u,c]=T.useState(r?"visible":"hidden"),d=$L(()=>{c("hidden")}),[h,p]=T.useState(!0),g=T.useRef([r]);Br(()=>{h!==!1&&g.current[g.current.length-1]!==r&&(g.current.push(r),p(!1))},[g,r]);let y=T.useMemo(()=>({show:r,appear:n,initial:h}),[r,n,h]);T.useEffect(()=>{if(r)c("visible");else if(!ux(d))c("hidden");else{let _=s.current;if(!_)return;let O=_.getBoundingClientRect();O.x===0&&O.y===0&&O.width===0&&O.height===0&&c("hidden")}},[r,d]);let v={unmount:i},b=Ke(()=>{var _;h&&p(!1),(_=t.beforeEnter)==null||_.call(t)}),x=Ke(()=>{var _;h&&p(!1),(_=t.beforeLeave)==null||_.call(t)});return M.createElement(lx.Provider,{value:d},M.createElement(ox.Provider,{value:y},dn({ourProps:{...v,as:T.Fragment,children:M.createElement(FL,{ref:o,...v,...a,beforeEnter:b,beforeLeave:x})},theirProps:{},defaultTag:T.Fragment,features:LL,visible:u==="visible",name:"Transition"})))}function Oq(t,e){let r=T.useContext(ox)!==null,n=sx()!==null;return M.createElement(M.Fragment,null,!r&&n?M.createElement(w1,{ref:e,...t}):M.createElement(FL,{ref:e,...t}))}let w1=Xr(Pq),FL=Xr(Tq),Iq=Xr(Oq),jt=Object.assign(w1,{Child:Iq,Root:w1});function VL(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=VL(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Be(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=VL(t))&&(n&&(n+=" "),n+=e);return n}var _C={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BL=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},Cq=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[r++];e[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[r++],s=t[r++],o=t[r++],l=((i&7)<<18|(a&63)<<12|(s&63)<<6|o&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const a=t[r++],s=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return e.join("")},UL={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const a=t[i],s=i+1<t.length,o=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=a>>2,d=(a&3)<<4|o>>4;let h=(o&15)<<2|u>>6,p=u&63;l||(p=64,s||(h=64)),n.push(r[c],r[d],r[h],r[p])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(BL(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Cq(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const a=r[t.charAt(i++)],o=i<t.length?r[t.charAt(i)]:0;++i;const u=i<t.length?r[t.charAt(i)]:64;++i;const d=i<t.length?r[t.charAt(i)]:64;if(++i,a==null||o==null||u==null||d==null)throw new kq;const h=a<<2|o>>4;if(n.push(h),u!==64){const p=o<<4&240|u>>2;if(n.push(p),d!==64){const g=u<<6&192|d;n.push(g)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class kq extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Nq=function(t){const e=BL(t);return UL.encodeByteArray(e,!0)},cv=function(t){return Nq(t).replace(/\./g,"")},zL=function(t){try{return UL.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jq(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rq=()=>jq().__FIREBASE_DEFAULTS__,Dq=()=>{if(typeof process>"u"||typeof _C>"u")return;const t=_C.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Mq=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&zL(t[1]);return e&&JSON.parse(e)},cx=()=>{try{return Rq()||Dq()||Mq()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},WL=t=>{var e,r;return(r=(e=cx())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},$q=t=>{const e=WL(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},HL=()=>{var t;return(t=cx())===null||t===void 0?void 0:t.config},qL=t=>{var e;return(e=cx())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lq{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fq(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[cv(JSON.stringify(r)),cv(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Vq(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tn())}function Bq(){var t;const e=(t=cx())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Uq(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function zq(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Wq(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Hq(){const t=Tn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function qq(){return!Bq()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Kq(){try{return typeof indexedDB=="object"}catch{return!1}}function Gq(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yq="FirebaseError";class Ha extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=Yq,Object.setPrototypeOf(this,Ha.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dm.prototype.create)}}class Dm{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,a=this.errors[e],s=a?Qq(a,n):"Error",o=`${this.serviceName}: ${s} (${i}).`;return new Ha(i,o,n)}}function Qq(t,e){return t.replace(Xq,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const Xq=/\{\$([^}]+)}/g;function Zq(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function dv(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const a=t[i],s=e[i];if(EC(a)&&EC(s)){if(!dv(a,s))return!1}else if(a!==s)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function EC(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mm(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Ah(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,a]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function Th(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function Jq(t,e){const r=new eK(t,e);return r.subscribe.bind(r)}class eK{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");tK(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=pw),i.error===void 0&&(i.error=pw),i.complete===void 0&&(i.complete=pw);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function tK(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function pw(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(t){return t&&t._delegate?t._delegate:t}class Ou{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rK{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new Lq;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(iK(e))try{this.getOrInitializeService({instanceIdentifier:Rl})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(e=Rl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Rl){return this.instances.has(e)}getOptions(e=Rl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);n===o&&s.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),a=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;a.add(e),this.onInitCallbacks.set(i,a);const s=this.instances.get(i);return s&&e(s,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:nK(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Rl){return this.component?this.component.multipleInstances?e:Rl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function nK(t){return t===Rl?void 0:t}function iK(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aK{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new rK(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(yt||(yt={}));const sK={debug:yt.DEBUG,verbose:yt.VERBOSE,info:yt.INFO,warn:yt.WARN,error:yt.ERROR,silent:yt.SILENT},oK=yt.INFO,lK={[yt.DEBUG]:"log",[yt.VERBOSE]:"log",[yt.INFO]:"info",[yt.WARN]:"warn",[yt.ERROR]:"error"},uK=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=lK[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class FA{constructor(e){this.name=e,this._logLevel=oK,this._logHandler=uK,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in yt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sK[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,yt.DEBUG,...e),this._logHandler(this,yt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,yt.VERBOSE,...e),this._logHandler(this,yt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,yt.INFO,...e),this._logHandler(this,yt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,yt.WARN,...e),this._logHandler(this,yt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,yt.ERROR,...e),this._logHandler(this,yt.ERROR,...e)}}const cK=(t,e)=>e.some(r=>t instanceof r);let SC,AC;function dK(){return SC||(SC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fK(){return AC||(AC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const KL=new WeakMap,_1=new WeakMap,GL=new WeakMap,mw=new WeakMap,VA=new WeakMap;function hK(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",s)},a=()=>{r(Qo(t.result)),i()},s=()=>{n(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",s)});return e.then(r=>{r instanceof IDBCursor&&KL.set(r,t)}).catch(()=>{}),VA.set(e,t),e}function pK(t){if(_1.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",s),t.removeEventListener("abort",s)},a=()=>{r(),i()},s=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",s),t.addEventListener("abort",s)});_1.set(t,e)}let E1={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return _1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||GL.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Qo(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function mK(t){E1=t(E1)}function yK(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(yw(this),e,...r);return GL.set(n,e.sort?e.sort():[e]),Qo(n)}:fK().includes(t)?function(...e){return t.apply(yw(this),e),Qo(KL.get(this))}:function(...e){return Qo(t.apply(yw(this),e))}}function gK(t){return typeof t=="function"?yK(t):(t instanceof IDBTransaction&&pK(t),cK(t,dK())?new Proxy(t,E1):t)}function Qo(t){if(t instanceof IDBRequest)return hK(t);if(mw.has(t))return mw.get(t);const e=gK(t);return e!==t&&(mw.set(t,e),VA.set(e,t)),e}const yw=t=>VA.get(t);function vK(t,e,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const s=indexedDB.open(t,e),o=Qo(s);return n&&s.addEventListener("upgradeneeded",l=>{n(Qo(s.result),l.oldVersion,l.newVersion,Qo(s.transaction),l)}),r&&s.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),o.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const xK=["get","getKey","getAll","getAllKeys","count"],bK=["put","add","delete","clear"],gw=new Map;function TC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(gw.get(e))return gw.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=bK.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||xK.includes(r)))return;const a=async function(s,...o){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return n&&(u=u.index(o.shift())),(await Promise.all([u[r](...o),i&&l.done]))[0]};return gw.set(e,a),a}mK(t=>({...t,get:(e,r,n)=>TC(e,r)||t.get(e,r,n),has:(e,r)=>!!TC(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wK{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(_K(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function _K(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const S1="@firebase/app",PC="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs=new FA("@firebase/app"),EK="@firebase/app-compat",SK="@firebase/analytics-compat",AK="@firebase/analytics",TK="@firebase/app-check-compat",PK="@firebase/app-check",OK="@firebase/auth",IK="@firebase/auth-compat",CK="@firebase/database",kK="@firebase/data-connect",NK="@firebase/database-compat",jK="@firebase/functions",RK="@firebase/functions-compat",DK="@firebase/installations",MK="@firebase/installations-compat",$K="@firebase/messaging",LK="@firebase/messaging-compat",FK="@firebase/performance",VK="@firebase/performance-compat",BK="@firebase/remote-config",UK="@firebase/remote-config-compat",zK="@firebase/storage",WK="@firebase/storage-compat",HK="@firebase/firestore",qK="@firebase/vertexai-preview",KK="@firebase/firestore-compat",GK="firebase",YK="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1="[DEFAULT]",QK={[S1]:"fire-core",[EK]:"fire-core-compat",[AK]:"fire-analytics",[SK]:"fire-analytics-compat",[PK]:"fire-app-check",[TK]:"fire-app-check-compat",[OK]:"fire-auth",[IK]:"fire-auth-compat",[CK]:"fire-rtdb",[kK]:"fire-data-connect",[NK]:"fire-rtdb-compat",[jK]:"fire-fn",[RK]:"fire-fn-compat",[DK]:"fire-iid",[MK]:"fire-iid-compat",[$K]:"fire-fcm",[LK]:"fire-fcm-compat",[FK]:"fire-perf",[VK]:"fire-perf-compat",[BK]:"fire-rc",[UK]:"fire-rc-compat",[zK]:"fire-gcs",[WK]:"fire-gcs-compat",[HK]:"fire-fst",[KK]:"fire-fst-compat",[qK]:"fire-vertex","fire-js":"fire-js",[GK]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sp=new Map,XK=new Map,T1=new Map;function OC(t,e){try{t.container.addComponent(e)}catch(r){Rs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function xd(t){const e=t.name;if(T1.has(e))return Rs.debug(`There were multiple attempts to register component ${e}.`),!1;T1.set(e,t);for(const r of Sp.values())OC(r,t);for(const r of XK.values())OC(r,t);return!0}function BA(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function hs(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZK={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xo=new Dm("app","Firebase",ZK);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JK{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Ou("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hf=YK;function YL(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:A1,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw Xo.create("bad-app-name",{appName:String(i)});if(r||(r=HL()),!r)throw Xo.create("no-options");const a=Sp.get(i);if(a){if(dv(r,a.options)&&dv(n,a.config))return a;throw Xo.create("duplicate-app",{appName:i})}const s=new aK(i);for(const l of T1.values())s.addComponent(l);const o=new JK(r,n,s);return Sp.set(i,o),o}function QL(t=A1){const e=Sp.get(t);if(!e&&t===A1&&HL())return YL();if(!e)throw Xo.create("no-app",{appName:t});return e}function IC(){return Array.from(Sp.values())}function Zo(t,e,r){var n;let i=(n=QK[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const a=i.match(/\s|\//),s=e.match(/\s|\//);if(a||s){const o=[`Unable to register library "${i}" with version "${e}":`];a&&o.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Rs.warn(o.join(" "));return}xd(new Ou(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eG="firebase-heartbeat-database",tG=1,Ap="firebase-heartbeat-store";let vw=null;function XL(){return vw||(vw=vK(eG,tG,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ap)}catch(r){console.warn(r)}}}}).catch(t=>{throw Xo.create("idb-open",{originalErrorMessage:t.message})})),vw}async function rG(t){try{const r=(await XL()).transaction(Ap),n=await r.objectStore(Ap).get(ZL(t));return await r.done,n}catch(e){if(e instanceof Ha)Rs.warn(e.message);else{const r=Xo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Rs.warn(r.message)}}}async function CC(t,e){try{const n=(await XL()).transaction(Ap,"readwrite");await n.objectStore(Ap).put(e,ZL(t)),await n.done}catch(r){if(r instanceof Ha)Rs.warn(r.message);else{const n=Xo.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Rs.warn(n.message)}}}function ZL(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nG=1024,iG=30*24*60*60*1e3;class aG{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new oG(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=kC();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=iG}),this._storage.overwrite(this._heartbeatsCache))}catch(n){Rs.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=kC(),{heartbeatsToSend:n,unsentEntries:i}=sG(this._heartbeatsCache.heartbeats),a=cv(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return Rs.warn(r),""}}}function kC(){return new Date().toISOString().substring(0,10)}function sG(t,e=nG){const r=[];let n=t.slice();for(const i of t){const a=r.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),NC(r)>e){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),NC(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class oG{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Kq()?Gq().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await rG(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return CC(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return CC(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function NC(t){return cv(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lG(t){xd(new Ou("platform-logger",e=>new wK(e),"PRIVATE")),xd(new Ou("heartbeat",e=>new aG(e),"PRIVATE")),Zo(S1,PC,t),Zo(S1,PC,"esm2017"),Zo("fire-js","")}lG("");var uG="firebase",cG="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zo(uG,cG,"app");function UA(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function JL(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const dG=JL,eF=new Dm("auth","Firebase",JL());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv=new FA("@firebase/auth");function fG(t,...e){fv.logLevel<=yt.WARN&&fv.warn(`Auth (${hf}): ${t}`,...e)}function wg(t,...e){fv.logLevel<=yt.ERROR&&fv.error(`Auth (${hf}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function da(t,...e){throw zA(t,...e)}function Na(t,...e){return zA(t,...e)}function tF(t,e,r){const n=Object.assign(Object.assign({},dG()),{[e]:r});return new Dm("auth","Firebase",n).create(e,{appName:t.name})}function Jo(t){return tF(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function zA(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return eF.create(t,...e)}function He(t,e,...r){if(!t)throw zA(e,...r)}function ps(t){const e="INTERNAL ASSERTION FAILED: "+t;throw wg(e),new Error(e)}function Ds(t,e){t||ps(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function hG(){return jC()==="http:"||jC()==="https:"}function jC(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pG(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(hG()||zq()||"connection"in navigator)?navigator.onLine:!0}function mG(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(e,r){this.shortDelay=e,this.longDelay=r,Ds(r>e,"Short delay should be less than long delay!"),this.isMobile=Vq()||Wq()}get(){return pG()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WA(t,e){Ds(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rF{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ps("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ps("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ps("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yG={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gG=new $m(3e4,6e4);function Ku(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function gl(t,e,r,n,i={}){return nF(t,i,async()=>{let a={},s={};n&&(e==="GET"?s=n:a={body:JSON.stringify(n)});const o=Mm(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},a);return Uq()||(u.referrerPolicy="no-referrer"),rF.fetch()(iF(t,t.config.apiHost,r,o),u)})}async function nF(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},yG),e);try{const i=new xG(t),a=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw Fy(t,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const o=a.ok?s.errorMessage:s.error.message,[l,u]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fy(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Fy(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw Fy(t,"user-disabled",s);const c=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw tF(t,c,u);da(t,c)}}catch(i){if(i instanceof Ha)throw i;da(t,"network-request-failed",{message:String(i)})}}async function dx(t,e,r,n,i={}){const a=await gl(t,e,r,n,i);return"mfaPendingCredential"in a&&da(t,"multi-factor-auth-required",{_serverResponse:a}),a}function iF(t,e,r,n){const i=`${e}${r}?${n}`;return t.config.emulator?WA(t.config,i):`${t.config.apiScheme}://${i}`}function vG(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class xG{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(Na(this.auth,"network-request-failed")),gG.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Fy(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=Na(t,e,n);return i.customData._tokenResponse=r,i}function RC(t){return t!==void 0&&t.enterprise!==void 0}class bG{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return vG(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function wG(t,e){return gl(t,"GET","/v2/recaptchaConfig",Ku(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _G(t,e){return gl(t,"POST","/v1/accounts:delete",e)}async function aF(t,e){return gl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function EG(t,e=!1){const r=Fn(t),n=await r.getIdToken(e),i=HA(n);He(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a==null?void 0:a.sign_in_provider;return{claims:i,token:n,authTime:Uh(xw(i.auth_time)),issuedAtTime:Uh(xw(i.iat)),expirationTime:Uh(xw(i.exp)),signInProvider:s||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function xw(t){return Number(t)*1e3}function HA(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return wg("JWT malformed, contained fewer than 3 sections"),null;try{const i=zL(r);return i?JSON.parse(i):(wg("Failed to decode base64 JWT payload"),null)}catch(i){return wg("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function DC(t){const e=HA(t);return He(e,"internal-error"),He(typeof e.exp<"u","internal-error"),He(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tp(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof Ha&&SG(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function SG({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AG{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Uh(this.lastLoginAt),this.creationTime=Uh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hv(t){var e;const r=t.auth,n=await t.getIdToken(),i=await Tp(t,aF(r,{idToken:n}));He(i==null?void 0:i.users.length,r,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const s=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?sF(a.providerUserInfo):[],o=PG(t.providerData,s),l=t.isAnonymous,u=!(t.email&&a.passwordHash)&&!(o!=null&&o.length),c=l?u:!1,d={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new O1(a.createdAt,a.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function TG(t){const e=Fn(t);await hv(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function PG(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function sF(t){return t.map(e=>{var{providerId:r}=e,n=UA(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OG(t,e){const r=await nF(t,{},async()=>{const n=Mm({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,s=iF(t,i,"/v1/token",`key=${a}`),o=await t._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",rF.fetch()(s,{method:"POST",headers:o,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function IG(t,e){return gl(t,"POST","/v2/accounts:revokeToken",Ku(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){He(e.idToken,"internal-error"),He(typeof e.idToken<"u","internal-error"),He(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):DC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){He(e.length!==0,"internal-error");const r=DC(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(He(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:a}=await OG(e,r);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:a}=r,s=new Wc;return n&&(He(typeof n=="string","internal-error",{appName:e}),s.refreshToken=n),i&&(He(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),a&&(He(typeof a=="number","internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Wc,this.toJSON())}_performRefresh(){return ps("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oo(t,e){He(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ms{constructor(e){var{uid:r,auth:n,stsTokenManager:i}=e,a=UA(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new AG(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new O1(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const r=await Tp(this,this.stsTokenManager.getToken(this.auth,e));return He(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return EG(this,e)}reload(){return TG(this)}_assign(e){this!==e&&(He(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new ms(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){He(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await hv(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(hs(this.auth.app))return Promise.reject(Jo(this.auth));const e=await this.getIdToken();return await Tp(this,_G(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,i,a,s,o,l,u,c;const d=(n=r.displayName)!==null&&n!==void 0?n:void 0,h=(i=r.email)!==null&&i!==void 0?i:void 0,p=(a=r.phoneNumber)!==null&&a!==void 0?a:void 0,g=(s=r.photoURL)!==null&&s!==void 0?s:void 0,y=(o=r.tenantId)!==null&&o!==void 0?o:void 0,v=(l=r._redirectEventId)!==null&&l!==void 0?l:void 0,b=(u=r.createdAt)!==null&&u!==void 0?u:void 0,x=(c=r.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:_,emailVerified:O,isAnonymous:E,providerData:P,stsTokenManager:w}=r;He(_&&w,e,"internal-error");const S=Wc.fromJSON(this.name,w);He(typeof _=="string",e,"internal-error"),oo(d,e.name),oo(h,e.name),He(typeof O=="boolean",e,"internal-error"),He(typeof E=="boolean",e,"internal-error"),oo(p,e.name),oo(g,e.name),oo(y,e.name),oo(v,e.name),oo(b,e.name),oo(x,e.name);const I=new ms({uid:_,auth:e,email:h,emailVerified:O,displayName:d,isAnonymous:E,photoURL:g,phoneNumber:p,tenantId:y,stsTokenManager:S,createdAt:b,lastLoginAt:x});return P&&Array.isArray(P)&&(I.providerData=P.map(k=>Object.assign({},k))),v&&(I._redirectEventId=v),I}static async _fromIdTokenResponse(e,r,n=!1){const i=new Wc;i.updateFromServerResponse(r);const a=new ms({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await hv(a),a}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];He(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?sF(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),o=new Wc;o.updateFromIdToken(n);const l=new ms({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new O1(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC=new Map;function ys(t){Ds(t instanceof Function,"Expected a class definition");let e=MC.get(t);return e?(Ds(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,MC.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oF{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}oF.type="NONE";const $C=oF;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _g(t,e,r){return`firebase:${t}:${e}:${r}`}class Hc{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=_g(this.userKey,i.apiKey,a),this.fullPersistenceKey=_g("persistence",i.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ms._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new Hc(ys($C),e,n);const i=(await Promise.all(r.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let a=i[0]||ys($C);const s=_g(n,e.config.apiKey,e.name);let o=null;for(const u of r)try{const c=await u._get(s);if(c){const d=ms._fromJSON(e,c);u!==a&&(o=d),a=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!a._shouldAllowMigration||!l.length?new Hc(a,e,n):(a=l[0],o&&await a._set(s,o.toJSON()),await Promise.all(r.map(async u=>{if(u!==a)try{await u._remove(s)}catch{}})),new Hc(a,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LC(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(dF(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(lF(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(hF(e))return"Blackberry";if(pF(e))return"Webos";if(uF(e))return"Safari";if((e.includes("chrome/")||cF(e))&&!e.includes("edge/"))return"Chrome";if(fF(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function lF(t=Tn()){return/firefox\//i.test(t)}function uF(t=Tn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function cF(t=Tn()){return/crios\//i.test(t)}function dF(t=Tn()){return/iemobile/i.test(t)}function fF(t=Tn()){return/android/i.test(t)}function hF(t=Tn()){return/blackberry/i.test(t)}function pF(t=Tn()){return/webos/i.test(t)}function qA(t=Tn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function CG(t=Tn()){var e;return qA(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function kG(){return Hq()&&document.documentMode===10}function mF(t=Tn()){return qA(t)||fF(t)||pF(t)||hF(t)||/windows phone/i.test(t)||dF(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yF(t,e=[]){let r;switch(t){case"Browser":r=LC(Tn());break;case"Worker":r=`${LC(Tn())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${hf}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NG{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=a=>new Promise((s,o)=>{try{const l=e(a);s(l)}catch(l){o(l)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jG(t,e={}){return gl(t,"GET","/v2/passwordPolicy",Ku(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RG=6;class DG{constructor(e){var r,n,i,a;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=s.minPasswordLength)!==null&&r!==void 0?r:RG,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,i,a,s,o;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(r=l.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(n=l.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(a=l.containsUppercaseLetter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),l}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MG{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new FC(this),this.idTokenSubscription=new FC(this),this.beforeStateQueue=new NG(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=eF,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=ys(r)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await Hc.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await aF(this,{idToken:e}),n=await ms._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(hs(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,o=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===o)&&(l!=null&&l.user)&&(i=l.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return He(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await hv(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=mG()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(hs(this.app))return Promise.reject(Jo(this));const r=e?Fn(e):null;return r&&He(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&He(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return hs(this.app)?Promise.reject(Jo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return hs(this.app)?Promise.reject(Jo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ys(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await jG(this),r=new DG(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Dm("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await IG(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&ys(e)||this._popupRedirectResolver;He(r,this,"argument-error"),this.redirectPersistenceManager=await Hc.create(this,[ys(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(He(o,this,"internal-error"),o.then(()=>{s||a(this.currentUser)}),typeof r=="function"){const l=e.addObserver(r,n,i);return()=>{s=!0,l()}}else{const l=e.addObserver(r);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return He(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=yF(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var e;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r!=null&&r.error&&fG(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function pf(t){return Fn(t)}class FC{constructor(e){this.auth=e,this.observer=null,this.addObserver=Jq(r=>this.observer=r)}get next(){return He(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fx={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $G(t){fx=t}function gF(t){return fx.loadJS(t)}function LG(){return fx.recaptchaEnterpriseScript}function FG(){return fx.gapiScript}function VG(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const BG="recaptcha-enterprise",UG="NO_RECAPTCHA";class zG{constructor(e){this.type=BG,this.auth=pf(e)}async verify(e="verify",r=!1){async function n(a){if(!r){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(s,o)=>{wG(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const u=new bG(l);return a.tenantId==null?a._agentRecaptchaConfig=u:a._tenantRecaptchaConfigs[a.tenantId]=u,s(u.siteKey)}}).catch(l=>{o(l)})})}function i(a,s,o){const l=window.grecaptcha;RC(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(u=>{s(u)}).catch(()=>{s(UG)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,s)=>{n(this.auth).then(o=>{if(!r&&RC(window.grecaptcha))i(o,a,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=LG();l.length!==0&&(l+=o),gF(l).then(()=>{i(o,a,s)}).catch(u=>{s(u)})}}).catch(o=>{s(o)})})}}async function VC(t,e,r,n=!1){const i=new zG(t);let a;try{a=await i.verify(r)}catch{a=await i.verify(r,!0)}const s=Object.assign({},e);return n?Object.assign(s,{captchaResp:a}):Object.assign(s,{captchaResponse:a}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function BC(t,e,r,n){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await VC(t,e,r,r==="getOobCode");return n(t,a)}else return n(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await VC(t,e,r,r==="getOobCode");return n(t,s)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WG(t,e){const r=BA(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),a=r.getOptions();if(dv(a,e??{}))return i;da(i,"already-initialized")}return r.initialize({options:e})}function HG(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(ys);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function qG(t,e,r){const n=pf(t);He(n._canInitEmulator,n,"emulator-config-failed"),He(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,a=vF(e),{host:s,port:o}=KG(e),l=o===null?"":`:${o}`;n.config.emulator={url:`${a}//${s}${l}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:s,port:o,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),GG()}function vF(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function KG(t){const e=vF(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:UC(n.substr(a.length+1))}}else{const[a,s]=n.split(":");return{host:a,port:UC(s)}}}function UC(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function GG(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return ps("not implemented")}_getIdTokenResponse(e){return ps("not implemented")}_linkToIdToken(e,r){return ps("not implemented")}_getReauthenticationResolver(e){return ps("not implemented")}}async function YG(t,e){return gl(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QG(t,e){return dx(t,"POST","/v1/accounts:signInWithPassword",Ku(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XG(t,e){return dx(t,"POST","/v1/accounts:signInWithEmailLink",Ku(t,e))}async function ZG(t,e){return dx(t,"POST","/v1/accounts:signInWithEmailLink",Ku(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp extends KA{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new Pp(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new Pp(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return BC(e,r,"signInWithPassword",QG);case"emailLink":return XG(e,{email:this._email,oobCode:this._password});default:da(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return BC(e,n,"signUpPassword",YG);case"emailLink":return ZG(e,{idToken:r,email:this._email,oobCode:this._password});default:da(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qc(t,e){return dx(t,"POST","/v1/accounts:signInWithIdp",Ku(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JG="http://localhost";class Iu extends KA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new Iu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):da("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=r,a=UA(r,["providerId","signInMethod"]);if(!n||!i)return null;const s=new Iu(n,i);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(e){const r=this.buildRequest();return qc(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,qc(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,qc(e,r)}buildRequest(){const e={requestUri:JG,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=Mm(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eY(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function tY(t){const e=Ah(Th(t)).link,r=e?Ah(Th(e)).deep_link_id:null,n=Ah(Th(t)).deep_link_id;return(n?Ah(Th(n)).link:null)||n||r||e||t}class GA{constructor(e){var r,n,i,a,s,o;const l=Ah(Th(e)),u=(r=l.apiKey)!==null&&r!==void 0?r:null,c=(n=l.oobCode)!==null&&n!==void 0?n:null,d=eY((i=l.mode)!==null&&i!==void 0?i:null);He(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(a=l.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(o=l.tenantId)!==null&&o!==void 0?o:null}static parseLink(e){const r=tY(e);try{return new GA(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(){this.providerId=mf.PROVIDER_ID}static credential(e,r){return Pp._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=GA.parseLink(r);return He(n,"argument-error"),Pp._fromEmailAndCode(e,n.code,n.tenantId)}}mf.PROVIDER_ID="password";mf.EMAIL_PASSWORD_SIGN_IN_METHOD="password";mf.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xF{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm extends xF{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo extends Lm{constructor(){super("facebook.com")}static credential(e){return Iu._fromParams({providerId:xo.PROVIDER_ID,signInMethod:xo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xo.credentialFromTaggedObject(e)}static credentialFromError(e){return xo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xo.credential(e.oauthAccessToken)}catch{return null}}}xo.FACEBOOK_SIGN_IN_METHOD="facebook.com";xo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo extends Lm{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Iu._fromParams({providerId:bo.PROVIDER_ID,signInMethod:bo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return bo.credentialFromTaggedObject(e)}static credentialFromError(e){return bo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return bo.credential(r,n)}catch{return null}}}bo.GOOGLE_SIGN_IN_METHOD="google.com";bo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo extends Lm{constructor(){super("github.com")}static credential(e){return Iu._fromParams({providerId:wo.PROVIDER_ID,signInMethod:wo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wo.credentialFromTaggedObject(e)}static credentialFromError(e){return wo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wo.credential(e.oauthAccessToken)}catch{return null}}}wo.GITHUB_SIGN_IN_METHOD="github.com";wo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o extends Lm{constructor(){super("twitter.com")}static credential(e,r){return Iu._fromParams({providerId:_o.PROVIDER_ID,signInMethod:_o.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return _o.credentialFromTaggedObject(e)}static credentialFromError(e){return _o.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return _o.credential(r,n)}catch{return null}}}_o.TWITTER_SIGN_IN_METHOD="twitter.com";_o.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const a=await ms._fromIdTokenResponse(e,n,i),s=zC(n);return new bd({user:a,providerId:s,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=zC(n);return new bd({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function zC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv extends Ha{constructor(e,r,n,i){var a;super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,pv.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new pv(e,r,n,i)}}function bF(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?pv._fromErrorAndOperation(t,a,e,n):a})}async function rY(t,e,r=!1){const n=await Tp(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return bd._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nY(t,e,r=!1){const{auth:n}=t;if(hs(n.app))return Promise.reject(Jo(n));const i="reauthenticate";try{const a=await Tp(t,bF(n,i,e,t),r);He(a.idToken,n,"internal-error");const s=HA(a.idToken);He(s,n,"internal-error");const{sub:o}=s;return He(t.uid===o,n,"user-mismatch"),bd._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&da(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wF(t,e,r=!1){if(hs(t.app))return Promise.reject(Jo(t));const n="signIn",i=await bF(t,n,e),a=await bd._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(a.user),a}async function iY(t,e){return wF(pf(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aY(t){const e=pf(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function sY(t,e,r){return hs(t.app)?Promise.reject(Jo(t)):iY(Fn(t),mf.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&aY(t),n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oY(t,e){return Fn(t).setPersistence(e)}function lY(t,e,r,n){return Fn(t).onIdTokenChanged(e,r,n)}function uY(t,e,r){return Fn(t).beforeAuthStateChanged(e,r)}function _F(t,e,r,n){return Fn(t).onAuthStateChanged(e,r,n)}const mv="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EF{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(mv,"1"),this.storage.removeItem(mv),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cY=1e3,dY=10;class SF extends EF{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=mF(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((s,o,l)=>{this.notifyListeners(s,l)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(n);!r&&this.localCache[n]===s||this.notifyListeners(n,s)},a=this.storage.getItem(n);kG()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,dY):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},cY)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}SF.type="LOCAL";const AF=SF;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TF extends EF{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}TF.type="SESSION";const PF=TF;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fY(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new hx(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:a}=r.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const o=Array.from(s).map(async u=>u(r.origin,a)),l=await fY(o);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:l})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hx.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YA(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hY{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,s;return new Promise((o,l)=>{const u=YA("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},n);s={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),a=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),o(h.data.response);break;default:clearTimeout(c),clearTimeout(a),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:r},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ja(){return window}function pY(t){ja().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OF(){return typeof ja().WorkerGlobalScope<"u"&&typeof ja().importScripts=="function"}async function mY(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function yY(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function gY(){return OF()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IF="firebaseLocalStorageDb",vY=1,yv="firebaseLocalStorage",CF="fbase_key";class Fm{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function px(t,e){return t.transaction([yv],e?"readwrite":"readonly").objectStore(yv)}function xY(){const t=indexedDB.deleteDatabase(IF);return new Fm(t).toPromise()}function I1(){const t=indexedDB.open(IF,vY);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(yv,{keyPath:CF})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(yv)?e(n):(n.close(),await xY(),e(await I1()))})})}async function WC(t,e,r){const n=px(t,!0).put({[CF]:e,value:r});return new Fm(n).toPromise()}async function bY(t,e){const r=px(t,!1).get(e),n=await new Fm(r).toPromise();return n===void 0?null:n.value}function HC(t,e){const r=px(t,!0).delete(e);return new Fm(r).toPromise()}const wY=800,_Y=3;class kF{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await I1(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>_Y)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return OF()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hx._getInstance(gY()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await mY(),!this.activeServiceWorker)return;this.sender=new hY(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||yY()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await I1();return await WC(e,mv,"1"),await HC(e,mv),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>WC(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>bY(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>HC(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=px(i,!1).getAll();return new Fm(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),wY)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}kF.type="LOCAL";const EY=kF;new $m(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SY(t,e){return e?ys(e):(He(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA extends KA{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return qc(e,this._buildIdpRequest())}_linkToIdToken(e,r){return qc(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return qc(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function AY(t){return wF(t.auth,new QA(t),t.bypassAuthState)}function TY(t){const{auth:e,user:r}=t;return He(r,e,"internal-error"),nY(r,new QA(t),t.bypassAuthState)}async function PY(t){const{auth:e,user:r}=t;return He(r,e,"internal-error"),rY(r,new QA(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NF{constructor(e,r,n,i,a=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:a,error:s,type:o}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:r,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return AY;case"linkViaPopup":case"linkViaRedirect":return PY;case"reauthViaPopup":case"reauthViaRedirect":return TY;default:da(this.auth,"internal-error")}}resolve(e){Ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OY=new $m(2e3,1e4);class Nc extends NF{constructor(e,r,n,i,a){super(e,r,i,a),this.provider=n,this.authWindow=null,this.pollId=null,Nc.currentPopupAction&&Nc.currentPopupAction.cancel(),Nc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return He(e,this.auth,"internal-error"),e}async onExecution(){Ds(this.filter.length===1,"Popup operations only handle one event");const e=YA();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Na(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Na(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Nc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Na(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,OY.get())};e()}}Nc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IY="pendingRedirect",Eg=new Map;class CY extends NF{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=Eg.get(this.auth._key());if(!e){try{const n=await kY(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}Eg.set(this.auth._key(),e)}return this.bypassAuthState||Eg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function kY(t,e){const r=RY(e),n=jY(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function NY(t,e){Eg.set(t._key(),e)}function jY(t){return ys(t._redirectPersistence)}function RY(t){return _g(IY,t.config.apiKey,t.name)}async function DY(t,e,r=!1){if(hs(t.app))return Promise.reject(Jo(t));const n=pf(t),i=SY(n,e),s=await new CY(n,i,r).execute();return s&&!r&&(delete s.user._redirectEventId,await n._persistUserIfCurrent(s.user),await n._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MY=10*60*1e3;class $Y{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!LY(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!jF(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(Na(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=MY&&this.cachedEventUids.clear(),this.cachedEventUids.has(qC(e))}saveEventToCache(e){this.cachedEventUids.add(qC(e)),this.lastProcessedEventTime=Date.now()}}function qC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function jF({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function LY(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jF(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FY(t,e={}){return gl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VY=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,BY=/^https?/;async function UY(t){if(t.config.emulator)return;const{authorizedDomains:e}=await FY(t);for(const r of e)try{if(zY(r))return}catch{}da(t,"unauthorized-domain")}function zY(t){const e=P1(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&s.hostname===n}if(!BY.test(r))return!1;if(VY.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WY=new $m(3e4,6e4);function KC(){const t=ja().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function HY(t){return new Promise((e,r)=>{var n,i,a;function s(){KC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{KC(),r(Na(t,"network-request-failed"))},timeout:WY.get()})}if(!((i=(n=ja().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=ja().gapi)===null||a===void 0)&&a.load)s();else{const o=VG("iframefcb");return ja()[o]=()=>{gapi.load?s():r(Na(t,"network-request-failed"))},gF(`${FG()}?onload=${o}`).catch(l=>r(l))}}).catch(e=>{throw Sg=null,e})}let Sg=null;function qY(t){return Sg=Sg||HY(t),Sg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KY=new $m(5e3,15e3),GY="__/auth/iframe",YY="emulator/auth/iframe",QY={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},XY=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ZY(t){const e=t.config;He(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?WA(e,YY):`https://${t.config.authDomain}/${GY}`,n={apiKey:e.apiKey,appName:t.name,v:hf},i=XY.get(t.config.apiHost);i&&(n.eid=i);const a=t._getFrameworks();return a.length&&(n.fw=a.join(",")),`${r}?${Mm(n).slice(1)}`}async function JY(t){const e=await qY(t),r=ja().gapi;return He(r,t,"internal-error"),e.open({where:document.body,url:ZY(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:QY,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const s=Na(t,"network-request-failed"),o=ja().setTimeout(()=>{a(s)},KY.get());function l(){ja().clearTimeout(o),i(n)}n.ping(l).then(l,()=>{a(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eQ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},tQ=500,rQ=600,nQ="_blank",iQ="http://localhost";class GC{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function aQ(t,e,r,n=tQ,i=rQ){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-n)/2,0).toString();let o="";const l=Object.assign(Object.assign({},eQ),{width:n.toString(),height:i.toString(),top:a,left:s}),u=Tn().toLowerCase();r&&(o=cF(u)?nQ:r),lF(u)&&(e=e||iQ,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[p,g])=>`${h}${p}=${g},`,"");if(CG(u)&&o!=="_self")return sQ(e||"",o),new GC(null);const d=window.open(e||"",o,c);He(d,t,"popup-blocked");try{d.focus()}catch{}return new GC(d)}function sQ(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oQ="__/auth/handler",lQ="emulator/auth/handler",uQ=encodeURIComponent("fac");async function YC(t,e,r,n,i,a){He(t.config.authDomain,t,"auth-domain-config-required"),He(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:hf,eventId:i};if(e instanceof xF){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",Zq(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries({}))s[c]=d}if(e instanceof Lm){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(s.scopes=c.join(","))}t.tenantId&&(s.tid=t.tenantId);const o=s;for(const c of Object.keys(o))o[c]===void 0&&delete o[c];const l=await t._getAppCheckToken(),u=l?`#${uQ}=${encodeURIComponent(l)}`:"";return`${cQ(t)}?${Mm(o).slice(1)}${u}`}function cQ({config:t}){return t.emulator?WA(t,lQ):`https://${t.authDomain}/${oQ}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw="webStorageSupport";class dQ{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=PF,this._completeRedirectFn=DY,this._overrideRedirectResult=NY}async _openPopup(e,r,n,i){var a;Ds((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await YC(e,r,n,P1(),i);return aQ(e,s,YA())}async _openRedirect(e,r,n,i){await this._originValidation(e);const a=await YC(e,r,n,P1(),i);return pY(a),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:a}=this.eventManagers[r];return i?Promise.resolve(i):(Ds(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await JY(e),n=new $Y(e);return r.register("authEvent",i=>(He(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(bw,{type:bw},i=>{var a;const s=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[bw];s!==void 0&&r(!!s),da(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=UY(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return mF()||uF()||qA()}}const fQ=dQ;var QC="@firebase/auth",XC="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hQ{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){He(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pQ(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function mQ(t){xd(new Ou("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=n.options;He(s&&!s.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yF(t)},u=new MG(n,i,a,l);return HG(u,r),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),xd(new Ou("auth-internal",e=>{const r=pf(e.getProvider("auth").getImmediate());return(n=>new hQ(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zo(QC,XC,pQ(t)),Zo(QC,XC,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yQ=5*60,gQ=qL("authIdTokenMaxAge")||yQ;let ZC=null;const vQ=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>gQ)return;const i=r==null?void 0:r.token;ZC!==i&&(ZC=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function xQ(t=QL()){const e=BA(t,"auth");if(e.isInitialized())return e.getImmediate();const r=WG(t,{popupRedirectResolver:fQ,persistence:[EY,AF,PF]}),n=qL("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const s=vQ(a.toString());uY(r,s,()=>s(r.currentUser)),lY(r,o=>s(o))}}const i=WL("auth");return i&&qG(r,`http://${i}`),r}function bQ(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}$G({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const a=Na("internal-error");a.customData=i,r(a)},n.type="text/javascript",n.charset="UTF-8",bQ().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});mQ("Browser");var JC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pu,RF;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(w,S){function I(){}I.prototype=S.prototype,w.D=S.prototype,w.prototype=new I,w.prototype.constructor=w,w.C=function(k,N,R){for(var j=Array(arguments.length-2),B=2;B<arguments.length;B++)j[B-2]=arguments[B];return S.prototype[N].apply(k,j)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(w,S,I){I||(I=0);var k=Array(16);if(typeof S=="string")for(var N=0;16>N;++N)k[N]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(N=0;16>N;++N)k[N]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=w.g[0],I=w.g[1],N=w.g[2];var R=w.g[3],j=S+(R^I&(N^R))+k[0]+3614090360&4294967295;S=I+(j<<7&4294967295|j>>>25),j=R+(N^S&(I^N))+k[1]+3905402710&4294967295,R=S+(j<<12&4294967295|j>>>20),j=N+(I^R&(S^I))+k[2]+606105819&4294967295,N=R+(j<<17&4294967295|j>>>15),j=I+(S^N&(R^S))+k[3]+3250441966&4294967295,I=N+(j<<22&4294967295|j>>>10),j=S+(R^I&(N^R))+k[4]+4118548399&4294967295,S=I+(j<<7&4294967295|j>>>25),j=R+(N^S&(I^N))+k[5]+1200080426&4294967295,R=S+(j<<12&4294967295|j>>>20),j=N+(I^R&(S^I))+k[6]+2821735955&4294967295,N=R+(j<<17&4294967295|j>>>15),j=I+(S^N&(R^S))+k[7]+4249261313&4294967295,I=N+(j<<22&4294967295|j>>>10),j=S+(R^I&(N^R))+k[8]+1770035416&4294967295,S=I+(j<<7&4294967295|j>>>25),j=R+(N^S&(I^N))+k[9]+2336552879&4294967295,R=S+(j<<12&4294967295|j>>>20),j=N+(I^R&(S^I))+k[10]+4294925233&4294967295,N=R+(j<<17&4294967295|j>>>15),j=I+(S^N&(R^S))+k[11]+2304563134&4294967295,I=N+(j<<22&4294967295|j>>>10),j=S+(R^I&(N^R))+k[12]+1804603682&4294967295,S=I+(j<<7&4294967295|j>>>25),j=R+(N^S&(I^N))+k[13]+4254626195&4294967295,R=S+(j<<12&4294967295|j>>>20),j=N+(I^R&(S^I))+k[14]+2792965006&4294967295,N=R+(j<<17&4294967295|j>>>15),j=I+(S^N&(R^S))+k[15]+1236535329&4294967295,I=N+(j<<22&4294967295|j>>>10),j=S+(N^R&(I^N))+k[1]+4129170786&4294967295,S=I+(j<<5&4294967295|j>>>27),j=R+(I^N&(S^I))+k[6]+3225465664&4294967295,R=S+(j<<9&4294967295|j>>>23),j=N+(S^I&(R^S))+k[11]+643717713&4294967295,N=R+(j<<14&4294967295|j>>>18),j=I+(R^S&(N^R))+k[0]+3921069994&4294967295,I=N+(j<<20&4294967295|j>>>12),j=S+(N^R&(I^N))+k[5]+3593408605&4294967295,S=I+(j<<5&4294967295|j>>>27),j=R+(I^N&(S^I))+k[10]+38016083&4294967295,R=S+(j<<9&4294967295|j>>>23),j=N+(S^I&(R^S))+k[15]+3634488961&4294967295,N=R+(j<<14&4294967295|j>>>18),j=I+(R^S&(N^R))+k[4]+3889429448&4294967295,I=N+(j<<20&4294967295|j>>>12),j=S+(N^R&(I^N))+k[9]+568446438&4294967295,S=I+(j<<5&4294967295|j>>>27),j=R+(I^N&(S^I))+k[14]+3275163606&4294967295,R=S+(j<<9&4294967295|j>>>23),j=N+(S^I&(R^S))+k[3]+4107603335&4294967295,N=R+(j<<14&4294967295|j>>>18),j=I+(R^S&(N^R))+k[8]+1163531501&4294967295,I=N+(j<<20&4294967295|j>>>12),j=S+(N^R&(I^N))+k[13]+2850285829&4294967295,S=I+(j<<5&4294967295|j>>>27),j=R+(I^N&(S^I))+k[2]+4243563512&4294967295,R=S+(j<<9&4294967295|j>>>23),j=N+(S^I&(R^S))+k[7]+1735328473&4294967295,N=R+(j<<14&4294967295|j>>>18),j=I+(R^S&(N^R))+k[12]+2368359562&4294967295,I=N+(j<<20&4294967295|j>>>12),j=S+(I^N^R)+k[5]+4294588738&4294967295,S=I+(j<<4&4294967295|j>>>28),j=R+(S^I^N)+k[8]+2272392833&4294967295,R=S+(j<<11&4294967295|j>>>21),j=N+(R^S^I)+k[11]+1839030562&4294967295,N=R+(j<<16&4294967295|j>>>16),j=I+(N^R^S)+k[14]+4259657740&4294967295,I=N+(j<<23&4294967295|j>>>9),j=S+(I^N^R)+k[1]+2763975236&4294967295,S=I+(j<<4&4294967295|j>>>28),j=R+(S^I^N)+k[4]+1272893353&4294967295,R=S+(j<<11&4294967295|j>>>21),j=N+(R^S^I)+k[7]+4139469664&4294967295,N=R+(j<<16&4294967295|j>>>16),j=I+(N^R^S)+k[10]+3200236656&4294967295,I=N+(j<<23&4294967295|j>>>9),j=S+(I^N^R)+k[13]+681279174&4294967295,S=I+(j<<4&4294967295|j>>>28),j=R+(S^I^N)+k[0]+3936430074&4294967295,R=S+(j<<11&4294967295|j>>>21),j=N+(R^S^I)+k[3]+3572445317&4294967295,N=R+(j<<16&4294967295|j>>>16),j=I+(N^R^S)+k[6]+76029189&4294967295,I=N+(j<<23&4294967295|j>>>9),j=S+(I^N^R)+k[9]+3654602809&4294967295,S=I+(j<<4&4294967295|j>>>28),j=R+(S^I^N)+k[12]+3873151461&4294967295,R=S+(j<<11&4294967295|j>>>21),j=N+(R^S^I)+k[15]+530742520&4294967295,N=R+(j<<16&4294967295|j>>>16),j=I+(N^R^S)+k[2]+3299628645&4294967295,I=N+(j<<23&4294967295|j>>>9),j=S+(N^(I|~R))+k[0]+4096336452&4294967295,S=I+(j<<6&4294967295|j>>>26),j=R+(I^(S|~N))+k[7]+1126891415&4294967295,R=S+(j<<10&4294967295|j>>>22),j=N+(S^(R|~I))+k[14]+2878612391&4294967295,N=R+(j<<15&4294967295|j>>>17),j=I+(R^(N|~S))+k[5]+4237533241&4294967295,I=N+(j<<21&4294967295|j>>>11),j=S+(N^(I|~R))+k[12]+1700485571&4294967295,S=I+(j<<6&4294967295|j>>>26),j=R+(I^(S|~N))+k[3]+2399980690&4294967295,R=S+(j<<10&4294967295|j>>>22),j=N+(S^(R|~I))+k[10]+4293915773&4294967295,N=R+(j<<15&4294967295|j>>>17),j=I+(R^(N|~S))+k[1]+2240044497&4294967295,I=N+(j<<21&4294967295|j>>>11),j=S+(N^(I|~R))+k[8]+1873313359&4294967295,S=I+(j<<6&4294967295|j>>>26),j=R+(I^(S|~N))+k[15]+4264355552&4294967295,R=S+(j<<10&4294967295|j>>>22),j=N+(S^(R|~I))+k[6]+2734768916&4294967295,N=R+(j<<15&4294967295|j>>>17),j=I+(R^(N|~S))+k[13]+1309151649&4294967295,I=N+(j<<21&4294967295|j>>>11),j=S+(N^(I|~R))+k[4]+4149444226&4294967295,S=I+(j<<6&4294967295|j>>>26),j=R+(I^(S|~N))+k[11]+3174756917&4294967295,R=S+(j<<10&4294967295|j>>>22),j=N+(S^(R|~I))+k[2]+718787259&4294967295,N=R+(j<<15&4294967295|j>>>17),j=I+(R^(N|~S))+k[9]+3951481745&4294967295,w.g[0]=w.g[0]+S&4294967295,w.g[1]=w.g[1]+(N+(j<<21&4294967295|j>>>11))&4294967295,w.g[2]=w.g[2]+N&4294967295,w.g[3]=w.g[3]+R&4294967295}n.prototype.u=function(w,S){S===void 0&&(S=w.length);for(var I=S-this.blockSize,k=this.B,N=this.h,R=0;R<S;){if(N==0)for(;R<=I;)i(this,w,R),R+=this.blockSize;if(typeof w=="string"){for(;R<S;)if(k[N++]=w.charCodeAt(R++),N==this.blockSize){i(this,k),N=0;break}}else for(;R<S;)if(k[N++]=w[R++],N==this.blockSize){i(this,k),N=0;break}}this.h=N,this.o+=S},n.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var S=1;S<w.length-8;++S)w[S]=0;var I=8*this.o;for(S=w.length-8;S<w.length;++S)w[S]=I&255,I/=256;for(this.u(w),w=Array(16),S=I=0;4>S;++S)for(var k=0;32>k;k+=8)w[I++]=this.g[S]>>>k&255;return w};function a(w,S){var I=o;return Object.prototype.hasOwnProperty.call(I,w)?I[w]:I[w]=S(w)}function s(w,S){this.h=S;for(var I=[],k=!0,N=w.length-1;0<=N;N--){var R=w[N]|0;k&&R==S||(I[N]=R,k=!1)}this.g=I}var o={};function l(w){return-128<=w&&128>w?a(w,function(S){return new s([S|0],0>S?-1:0)}):new s([w|0],0>w?-1:0)}function u(w){if(isNaN(w)||!isFinite(w))return d;if(0>w)return v(u(-w));for(var S=[],I=1,k=0;w>=I;k++)S[k]=w/I|0,I*=4294967296;return new s(S,0)}function c(w,S){if(w.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(w.charAt(0)=="-")return v(c(w.substring(1),S));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=u(Math.pow(S,8)),k=d,N=0;N<w.length;N+=8){var R=Math.min(8,w.length-N),j=parseInt(w.substring(N,N+R),S);8>R?(R=u(Math.pow(S,R)),k=k.j(R).add(u(j))):(k=k.j(I),k=k.add(u(j)))}return k}var d=l(0),h=l(1),p=l(16777216);t=s.prototype,t.m=function(){if(y(this))return-v(this).m();for(var w=0,S=1,I=0;I<this.g.length;I++){var k=this.i(I);w+=(0<=k?k:4294967296+k)*S,S*=4294967296}return w},t.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(g(this))return"0";if(y(this))return"-"+v(this).toString(w);for(var S=u(Math.pow(w,6)),I=this,k="";;){var N=O(I,S).g;I=b(I,N.j(S));var R=((0<I.g.length?I.g[0]:I.h)>>>0).toString(w);if(I=N,g(I))return R+k;for(;6>R.length;)R="0"+R;k=R+k}},t.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function g(w){if(w.h!=0)return!1;for(var S=0;S<w.g.length;S++)if(w.g[S]!=0)return!1;return!0}function y(w){return w.h==-1}t.l=function(w){return w=b(this,w),y(w)?-1:g(w)?0:1};function v(w){for(var S=w.g.length,I=[],k=0;k<S;k++)I[k]=~w.g[k];return new s(I,~w.h).add(h)}t.abs=function(){return y(this)?v(this):this},t.add=function(w){for(var S=Math.max(this.g.length,w.g.length),I=[],k=0,N=0;N<=S;N++){var R=k+(this.i(N)&65535)+(w.i(N)&65535),j=(R>>>16)+(this.i(N)>>>16)+(w.i(N)>>>16);k=j>>>16,R&=65535,j&=65535,I[N]=j<<16|R}return new s(I,I[I.length-1]&-2147483648?-1:0)};function b(w,S){return w.add(v(S))}t.j=function(w){if(g(this)||g(w))return d;if(y(this))return y(w)?v(this).j(v(w)):v(v(this).j(w));if(y(w))return v(this.j(v(w)));if(0>this.l(p)&&0>w.l(p))return u(this.m()*w.m());for(var S=this.g.length+w.g.length,I=[],k=0;k<2*S;k++)I[k]=0;for(k=0;k<this.g.length;k++)for(var N=0;N<w.g.length;N++){var R=this.i(k)>>>16,j=this.i(k)&65535,B=w.i(N)>>>16,L=w.i(N)&65535;I[2*k+2*N]+=j*L,x(I,2*k+2*N),I[2*k+2*N+1]+=R*L,x(I,2*k+2*N+1),I[2*k+2*N+1]+=j*B,x(I,2*k+2*N+1),I[2*k+2*N+2]+=R*B,x(I,2*k+2*N+2)}for(k=0;k<S;k++)I[k]=I[2*k+1]<<16|I[2*k];for(k=S;k<2*S;k++)I[k]=0;return new s(I,0)};function x(w,S){for(;(w[S]&65535)!=w[S];)w[S+1]+=w[S]>>>16,w[S]&=65535,S++}function _(w,S){this.g=w,this.h=S}function O(w,S){if(g(S))throw Error("division by zero");if(g(w))return new _(d,d);if(y(w))return S=O(v(w),S),new _(v(S.g),v(S.h));if(y(S))return S=O(w,v(S)),new _(v(S.g),S.h);if(30<w.g.length){if(y(w)||y(S))throw Error("slowDivide_ only works with positive integers.");for(var I=h,k=S;0>=k.l(w);)I=E(I),k=E(k);var N=P(I,1),R=P(k,1);for(k=P(k,2),I=P(I,2);!g(k);){var j=R.add(k);0>=j.l(w)&&(N=N.add(I),R=j),k=P(k,1),I=P(I,1)}return S=b(w,N.j(S)),new _(N,S)}for(N=d;0<=w.l(S);){for(I=Math.max(1,Math.floor(w.m()/S.m())),k=Math.ceil(Math.log(I)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),R=u(I),j=R.j(S);y(j)||0<j.l(w);)I-=k,R=u(I),j=R.j(S);g(R)&&(R=h),N=N.add(R),w=b(w,j)}return new _(N,w)}t.A=function(w){return O(this,w).h},t.and=function(w){for(var S=Math.max(this.g.length,w.g.length),I=[],k=0;k<S;k++)I[k]=this.i(k)&w.i(k);return new s(I,this.h&w.h)},t.or=function(w){for(var S=Math.max(this.g.length,w.g.length),I=[],k=0;k<S;k++)I[k]=this.i(k)|w.i(k);return new s(I,this.h|w.h)},t.xor=function(w){for(var S=Math.max(this.g.length,w.g.length),I=[],k=0;k<S;k++)I[k]=this.i(k)^w.i(k);return new s(I,this.h^w.h)};function E(w){for(var S=w.g.length+1,I=[],k=0;k<S;k++)I[k]=w.i(k)<<1|w.i(k-1)>>>31;return new s(I,w.h)}function P(w,S){var I=S>>5;S%=32;for(var k=w.g.length-I,N=[],R=0;R<k;R++)N[R]=0<S?w.i(R+I)>>>S|w.i(R+I+1)<<32-S:w.i(R+I);return new s(N,w.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,RF=n,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=c,pu=s}).apply(typeof JC<"u"?JC:typeof self<"u"?self:typeof window<"u"?window:{});var Vy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var DF,Ph,MF,Ag,C1,$F,LF,FF;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,A,C){return f==Array.prototype||f==Object.prototype||(f[A]=C.value),f};function r(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vy=="object"&&Vy];for(var A=0;A<f.length;++A){var C=f[A];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var n=r(this);function i(f,A){if(A)e:{var C=n;f=f.split(".");for(var D=0;D<f.length-1;D++){var G=f[D];if(!(G in C))break e;C=C[G]}f=f[f.length-1],D=C[f],A=A(D),A!=D&&A!=null&&e(C,f,{configurable:!0,writable:!0,value:A})}}function a(f,A){f instanceof String&&(f+="");var C=0,D=!1,G={next:function(){if(!D&&C<f.length){var Z=C++;return{value:A(Z,f[Z]),done:!1}}return D=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}i("Array.prototype.values",function(f){return f||function(){return a(this,function(A,C){return C})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function l(f){var A=typeof f;return A=A!="object"?A:f?Array.isArray(f)?"array":A:"null",A=="array"||A=="object"&&typeof f.length=="number"}function u(f){var A=typeof f;return A=="object"&&f!=null||A=="function"}function c(f,A,C){return f.call.apply(f.bind,arguments)}function d(f,A,C){if(!f)throw Error();if(2<arguments.length){var D=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,D),f.apply(A,G)}}return function(){return f.apply(A,arguments)}}function h(f,A,C){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:d,h.apply(null,arguments)}function p(f,A){var C=Array.prototype.slice.call(arguments,1);return function(){var D=C.slice();return D.push.apply(D,arguments),f.apply(this,D)}}function g(f,A){function C(){}C.prototype=A.prototype,f.aa=A.prototype,f.prototype=new C,f.prototype.constructor=f,f.Qb=function(D,G,Z){for(var ge=Array(arguments.length-2),Lt=2;Lt<arguments.length;Lt++)ge[Lt-2]=arguments[Lt];return A.prototype[G].apply(D,ge)}}function y(f){const A=f.length;if(0<A){const C=Array(A);for(let D=0;D<A;D++)C[D]=f[D];return C}return[]}function v(f,A){for(let C=1;C<arguments.length;C++){const D=arguments[C];if(l(D)){const G=f.length||0,Z=D.length||0;f.length=G+Z;for(let ge=0;ge<Z;ge++)f[G+ge]=D[ge]}else f.push(D)}}class b{constructor(A,C){this.i=A,this.j=C,this.h=0,this.g=null}get(){let A;return 0<this.h?(this.h--,A=this.g,this.g=A.next,A.next=null):A=this.i(),A}}function x(f){return/^[\s\xa0]*$/.test(f)}function _(){var f=o.navigator;return f&&(f=f.userAgent)?f:""}function O(f){return O[" "](f),f}O[" "]=function(){};var E=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function P(f,A,C){for(const D in f)A.call(C,f[D],D,f)}function w(f,A){for(const C in f)A.call(void 0,f[C],C,f)}function S(f){const A={};for(const C in f)A[C]=f[C];return A}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(f,A){let C,D;for(let G=1;G<arguments.length;G++){D=arguments[G];for(C in D)f[C]=D[C];for(let Z=0;Z<I.length;Z++)C=I[Z],Object.prototype.hasOwnProperty.call(D,C)&&(f[C]=D[C])}}function N(f){var A=1;f=f.split(":");const C=[];for(;0<A&&f.length;)C.push(f.shift()),A--;return f.length&&C.push(f.join(":")),C}function R(f){o.setTimeout(()=>{throw f},0)}function j(){var f=H;let A=null;return f.g&&(A=f.g,f.g=f.g.next,f.g||(f.h=null),A.next=null),A}class B{constructor(){this.h=this.g=null}add(A,C){const D=L.get();D.set(A,C),this.h?this.h.next=D:this.g=D,this.h=D}}var L=new b(()=>new U,f=>f.reset());class U{constructor(){this.next=this.g=this.h=null}set(A,C){this.h=A,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let W,$=!1,H=new B,Y=()=>{const f=o.Promise.resolve(void 0);W=()=>{f.then(re)}};var re=()=>{for(var f;f=j();){try{f.h.call(f.g)}catch(C){R(C)}var A=L;A.j(f),100>A.h&&(A.h++,f.next=A.g,A.g=f)}$=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ae(f,A){this.type=f,this.g=this.target=A,this.defaultPrevented=!1}ae.prototype.h=function(){this.defaultPrevented=!0};var se=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var f=!1,A=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const C=()=>{};o.addEventListener("test",C,A),o.removeEventListener("test",C,A)}catch{}return f}();function me(f,A){if(ae.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var C=this.type=f.type,D=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=A,A=f.relatedTarget){if(E){e:{try{O(A.nodeName);var G=!0;break e}catch{}G=!1}G||(A=null)}}else C=="mouseover"?A=f.fromElement:C=="mouseout"&&(A=f.toElement);this.relatedTarget=A,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:De[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&me.aa.h.call(this)}}g(me,ae);var De={2:"touch",3:"pen",4:"mouse"};me.prototype.h=function(){me.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var nt="closure_listenable_"+(1e6*Math.random()|0),ft=0;function fe(f,A,C,D,G){this.listener=f,this.proxy=null,this.src=A,this.type=C,this.capture=!!D,this.ha=G,this.key=++ft,this.da=this.fa=!1}function _e(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function ye(f){this.src=f,this.g={},this.h=0}ye.prototype.add=function(f,A,C,D,G){var Z=f.toString();f=this.g[Z],f||(f=this.g[Z]=[],this.h++);var ge=Fe(f,A,D,G);return-1<ge?(A=f[ge],C||(A.fa=!1)):(A=new fe(A,this.src,Z,!!D,G),A.fa=C,f.push(A)),A};function J(f,A){var C=A.type;if(C in f.g){var D=f.g[C],G=Array.prototype.indexOf.call(D,A,void 0),Z;(Z=0<=G)&&Array.prototype.splice.call(D,G,1),Z&&(_e(A),f.g[C].length==0&&(delete f.g[C],f.h--))}}function Fe(f,A,C,D){for(var G=0;G<f.length;++G){var Z=f[G];if(!Z.da&&Z.listener==A&&Z.capture==!!C&&Z.ha==D)return G}return-1}var qe="closure_lm_"+(1e6*Math.random()|0),Mt={};function xt(f,A,C,D,G){if(Array.isArray(A)){for(var Z=0;Z<A.length;Z++)xt(f,A[Z],C,D,G);return null}return C=de(C),f&&f[nt]?f.K(A,C,u(D)?!!D.capture:!1,G):wr(f,A,C,!1,D,G)}function wr(f,A,C,D,G,Z){if(!A)throw Error("Invalid event type");var ge=u(G)?!!G.capture:!!G,Lt=ee(f);if(Lt||(f[qe]=Lt=new ye(f)),C=Lt.add(A,C,D,ge,Z),C.proxy)return C;if(D=Un(),C.proxy=D,D.src=f,D.listener=C,f.addEventListener)se||(G=ge),G===void 0&&(G=!1),f.addEventListener(A.toString(),D,G);else if(f.attachEvent)f.attachEvent(F(A.toString()),D);else if(f.addListener&&f.removeListener)f.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return C}function Un(){function f(C){return A.call(f.src,f.listener,C)}const A=K;return f}function ni(f,A,C,D,G){if(Array.isArray(A))for(var Z=0;Z<A.length;Z++)ni(f,A[Z],C,D,G);else D=u(D)?!!D.capture:!!D,C=de(C),f&&f[nt]?(f=f.i,A=String(A).toString(),A in f.g&&(Z=f.g[A],C=Fe(Z,C,D,G),-1<C&&(_e(Z[C]),Array.prototype.splice.call(Z,C,1),Z.length==0&&(delete f.g[A],f.h--)))):f&&(f=ee(f))&&(A=f.g[A.toString()],f=-1,A&&(f=Fe(A,C,D,G)),(C=-1<f?A[f]:null)&&ii(C))}function ii(f){if(typeof f!="number"&&f&&!f.da){var A=f.src;if(A&&A[nt])J(A.i,f);else{var C=f.type,D=f.proxy;A.removeEventListener?A.removeEventListener(C,D,f.capture):A.detachEvent?A.detachEvent(F(C),D):A.addListener&&A.removeListener&&A.removeListener(D),(C=ee(A))?(J(C,f),C.h==0&&(C.src=null,A[qe]=null)):_e(f)}}}function F(f){return f in Mt?Mt[f]:Mt[f]="on"+f}function K(f,A){if(f.da)f=!0;else{A=new me(A,this);var C=f.listener,D=f.ha||f.src;f.fa&&ii(f),f=C.call(D,A)}return f}function ee(f){return f=f[qe],f instanceof ye?f:null}var pe="__closure_events_fn_"+(1e9*Math.random()>>>0);function de(f){return typeof f=="function"?f:(f[pe]||(f[pe]=function(A){return f.handleEvent(A)}),f[pe])}function ie(){X.call(this),this.i=new ye(this),this.M=this,this.F=null}g(ie,X),ie.prototype[nt]=!0,ie.prototype.removeEventListener=function(f,A,C,D){ni(this,f,A,C,D)};function xe(f,A){var C,D=f.F;if(D)for(C=[];D;D=D.F)C.push(D);if(f=f.M,D=A.type||A,typeof A=="string")A=new ae(A,f);else if(A instanceof ae)A.target=A.target||f;else{var G=A;A=new ae(D,f),k(A,G)}if(G=!0,C)for(var Z=C.length-1;0<=Z;Z--){var ge=A.g=C[Z];G=tt(ge,D,!0,A)&&G}if(ge=A.g=f,G=tt(ge,D,!0,A)&&G,G=tt(ge,D,!1,A)&&G,C)for(Z=0;Z<C.length;Z++)ge=A.g=C[Z],G=tt(ge,D,!1,A)&&G}ie.prototype.N=function(){if(ie.aa.N.call(this),this.i){var f=this.i,A;for(A in f.g){for(var C=f.g[A],D=0;D<C.length;D++)_e(C[D]);delete f.g[A],f.h--}}this.F=null},ie.prototype.K=function(f,A,C,D){return this.i.add(String(f),A,!1,C,D)},ie.prototype.L=function(f,A,C,D){return this.i.add(String(f),A,!0,C,D)};function tt(f,A,C,D){if(A=f.i.g[String(A)],!A)return!0;A=A.concat();for(var G=!0,Z=0;Z<A.length;++Z){var ge=A[Z];if(ge&&!ge.da&&ge.capture==C){var Lt=ge.listener,en=ge.ha||ge.src;ge.fa&&J(f.i,ge),G=Lt.call(en,D)!==!1&&G}}return G&&!D.defaultPrevented}function ot(f,A,C){if(typeof f=="function")C&&(f=h(f,C));else if(f&&typeof f.handleEvent=="function")f=h(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(A)?-1:o.setTimeout(f,A||0)}function zr(f){f.g=ot(()=>{f.g=null,f.i&&(f.i=!1,zr(f))},f.l);const A=f.h;f.h=null,f.m.apply(null,A)}class Ui extends X{constructor(A,C){super(),this.m=A,this.l=C,this.h=null,this.i=!1,this.g=null}j(A){this.h=arguments,this.g?this.i=!0:zr(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hn(f){X.call(this),this.h=f,this.g={}}g(hn,X);var ai=[];function Ga(f){P(f.g,function(A,C){this.g.hasOwnProperty(C)&&ii(A)},f),f.g={}}hn.prototype.N=function(){hn.aa.N.call(this),Ga(this)},hn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ya=o.JSON.stringify,rc=o.JSON.parse,nc=class{stringify(f){return o.JSON.stringify(f,void 0)}parse(f){return o.JSON.parse(f,void 0)}};function Js(){}Js.prototype.h=null;function ga(f){return f.h||(f.h=f.i())}function $f(){}var Ya={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Sl(){ae.call(this,"d")}g(Sl,ae);function Lf(){ae.call(this,"c")}g(Lf,ae);var va={},ny=null;function Al(){return ny=ny||new ie}va.La="serverreachability";function Tl(f){ae.call(this,va.La,f)}g(Tl,ae);function xa(f){const A=Al();xe(A,new Tl(A))}va.STAT_EVENT="statevent";function iy(f,A){ae.call(this,va.STAT_EVENT,f),this.stat=A}g(iy,ae);function Jr(f){const A=Al();xe(A,new iy(A,f))}va.Ma="timingevent";function z(f,A){ae.call(this,va.Ma,f),this.size=A}g(z,ae);function q(f,A){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){f()},A)}function Q(){this.g=!0}Q.prototype.xa=function(){this.g=!1};function oe(f,A,C,D,G,Z){f.info(function(){if(f.g)if(Z)for(var ge="",Lt=Z.split("&"),en=0;en<Lt.length;en++){var Et=Lt[en].split("=");if(1<Et.length){var pn=Et[0];Et=Et[1];var mn=pn.split("_");ge=2<=mn.length&&mn[1]=="type"?ge+(pn+"="+Et+"&"):ge+(pn+"=redacted&")}}else ge=null;else ge=Z;return"XMLHTTP REQ ("+D+") [attempt "+G+"]: "+A+`
`+C+`
`+ge})}function ve(f,A,C,D,G,Z,ge){f.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+G+"]: "+A+`
`+C+`
`+Z+" "+ge})}function Ne(f,A,C,D){f.info(function(){return"XMLHTTP TEXT ("+A+"): "+Oe(f,C)+(D?" "+D:"")})}function We(f,A){f.info(function(){return"TIMEOUT: "+A})}Q.prototype.info=function(){};function Oe(f,A){if(!f.g)return A;if(!A)return null;try{var C=JSON.parse(A);if(C){for(f=0;f<C.length;f++)if(Array.isArray(C[f])){var D=C[f];if(!(2>D.length)){var G=D[1];if(Array.isArray(G)&&!(1>G.length)){var Z=G[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(var ge=1;ge<G.length;ge++)G[ge]=""}}}}return ya(C)}catch{return A}}var Pe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ee={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},je;function Ge(){}g(Ge,Js),Ge.prototype.g=function(){return new XMLHttpRequest},Ge.prototype.i=function(){return{}},je=new Ge;function rt(f,A,C,D){this.j=f,this.i=A,this.l=C,this.R=D||1,this.U=new hn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new _r}function _r(){this.i=null,this.g="",this.h=!1}var It={},pt={};function Bt(f,A,C){f.L=1,f.v=ly(Ja(A)),f.m=C,f.P=!0,Qa(f,null)}function Qa(f,A){f.F=Date.now(),In(f),f.A=Ja(f.v);var C=f.A,D=f.R;Array.isArray(D)||(D=[String(D)]),QP(C.i,"t",D),f.C=0,C=f.j.J,f.h=new _r,f.g=pO(f.j,C?A:null,!f.m),0<f.O&&(f.M=new Ui(h(f.Y,f,f.g),f.O)),A=f.U,C=f.g,D=f.ca;var G="readystatechange";Array.isArray(G)||(G&&(ai[0]=G.toString()),G=ai);for(var Z=0;Z<G.length;Z++){var ge=xt(C,G[Z],D||A.handleEvent,!1,A.h||A);if(!ge)break;A.g[ge.key]=ge}A=f.H?S(f.H):{},f.m?(f.u||(f.u="POST"),A["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,A)):(f.u="GET",f.g.ea(f.A,f.u,null,A)),xa(),oe(f.i,f.u,f.A,f.l,f.R,f.m)}rt.prototype.ca=function(f){f=f.target;const A=this.M;A&&es(f)==3?A.j():this.Y(f)},rt.prototype.Y=function(f){try{if(f==this.g)e:{const mn=es(this.g);var A=this.g.Ba();const oc=this.g.Z();if(!(3>mn)&&(mn!=3||this.g&&(this.h.h||this.g.oa()||nO(this.g)))){this.J||mn!=4||A==7||(A==8||0>=oc?xa(3):xa(2)),Xa(this);var C=this.g.Z();this.X=C;t:if(eo(this)){var D=nO(this.g);f="";var G=D.length,Z=es(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ei(this),si(this);var ge="";break t}this.h.i=new o.TextDecoder}for(A=0;A<G;A++)this.h.h=!0,f+=this.h.i.decode(D[A],{stream:!(Z&&A==G-1)});D.length=0,this.h.g+=f,this.C=0,ge=this.h.g}else ge=this.g.oa();if(this.o=C==200,ve(this.i,this.u,this.A,this.l,this.R,mn,C),this.o){if(this.T&&!this.K){t:{if(this.g){var Lt,en=this.g;if((Lt=en.g?en.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(Lt)){var Et=Lt;break t}}Et=null}if(C=Et)Ne(this.i,this.l,C,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,to(this,C);else{this.o=!1,this.s=3,Jr(12),Ei(this),si(this);break e}}if(this.P){C=!0;let Wi;for(;!this.J&&this.C<ge.length;)if(Wi=zi(this,ge),Wi==pt){mn==4&&(this.s=4,Jr(14),C=!1),Ne(this.i,this.l,null,"[Incomplete Response]");break}else if(Wi==It){this.s=4,Jr(15),Ne(this.i,this.l,ge,"[Invalid Chunk]"),C=!1;break}else Ne(this.i,this.l,Wi,null),to(this,Wi);if(eo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),mn!=4||ge.length!=0||this.h.h||(this.s=1,Jr(16),C=!1),this.o=this.o&&C,!C)Ne(this.i,this.l,ge,"[Invalid Chunked Response]"),Ei(this),si(this);else if(0<ge.length&&!this.W){this.W=!0;var pn=this.j;pn.g==this&&pn.ba&&!pn.M&&(pn.j.info("Great, no buffering proxy detected. Bytes received: "+ge.length),Ib(pn),pn.M=!0,Jr(11))}}else Ne(this.i,this.l,ge,null),to(this,ge);mn==4&&Ei(this),this.o&&!this.J&&(mn==4?cO(this.j,this):(this.o=!1,In(this)))}else CU(this.g),C==400&&0<ge.indexOf("Unknown SID")?(this.s=3,Jr(12)):(this.s=0,Jr(13)),Ei(this),si(this)}}}catch{}finally{}};function eo(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function zi(f,A){var C=f.C,D=A.indexOf(`
`,C);return D==-1?pt:(C=Number(A.substring(C,D)),isNaN(C)?It:(D+=1,D+C>A.length?pt:(A=A.slice(D,D+C),f.C=D+C,A)))}rt.prototype.cancel=function(){this.J=!0,Ei(this)};function In(f){f.S=Date.now()+f.I,ic(f,f.I)}function ic(f,A){if(f.B!=null)throw Error("WatchDog timer not null");f.B=q(h(f.ba,f),A)}function Xa(f){f.B&&(o.clearTimeout(f.B),f.B=null)}rt.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(We(this.i,this.A),this.L!=2&&(xa(),Jr(17)),Ei(this),this.s=2,si(this)):ic(this,this.S-f)};function si(f){f.j.G==0||f.J||cO(f.j,f)}function Ei(f){Xa(f);var A=f.M;A&&typeof A.ma=="function"&&A.ma(),f.M=null,Ga(f.U),f.g&&(A=f.g,f.g=null,A.abort(),A.ma())}function to(f,A){try{var C=f.j;if(C.G!=0&&(C.g==f||tr(C.h,f))){if(!f.K&&tr(C.h,f)&&C.G==3){try{var D=C.Da.g.parse(A)}catch{D=null}if(Array.isArray(D)&&D.length==3){var G=D;if(G[0]==0){e:if(!C.u){if(C.g)if(C.g.F+3e3<f.F)py(C),fy(C);else break e;Ob(C),Jr(18)}}else C.za=G[1],0<C.za-C.T&&37500>G[2]&&C.F&&C.v==0&&!C.C&&(C.C=q(h(C.Za,C),6e3));if(1>=ro(C.h)&&C.ca){try{C.ca()}catch{}C.ca=void 0}}else Ol(C,11)}else if((f.K||C.g==f)&&py(C),!x(A))for(G=C.Da.g.parse(A),A=0;A<G.length;A++){let Et=G[A];if(C.T=Et[0],Et=Et[1],C.G==2)if(Et[0]=="c"){C.K=Et[1],C.ia=Et[2];const pn=Et[3];pn!=null&&(C.la=pn,C.j.info("VER="+C.la));const mn=Et[4];mn!=null&&(C.Aa=mn,C.j.info("SVER="+C.Aa));const oc=Et[5];oc!=null&&typeof oc=="number"&&0<oc&&(D=1.5*oc,C.L=D,C.j.info("backChannelRequestTimeoutMs_="+D)),D=C;const Wi=f.g;if(Wi){const yy=Wi.g?Wi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(yy){var Z=D.h;Z.g||yy.indexOf("spdy")==-1&&yy.indexOf("quic")==-1&&yy.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(ba(Z,Z.h),Z.h=null))}if(D.D){const Cb=Wi.g?Wi.g.getResponseHeader("X-HTTP-Session-Id"):null;Cb&&(D.ya=Cb,Gt(D.I,D.D,Cb))}}C.G=3,C.l&&C.l.ua(),C.ba&&(C.R=Date.now()-f.F,C.j.info("Handshake RTT: "+C.R+"ms")),D=C;var ge=f;if(D.qa=hO(D,D.J?D.ia:null,D.W),ge.K){Ff(D.h,ge);var Lt=ge,en=D.L;en&&(Lt.I=en),Lt.B&&(Xa(Lt),In(Lt)),D.g=ge}else lO(D);0<C.i.length&&hy(C)}else Et[0]!="stop"&&Et[0]!="close"||Ol(C,7);else C.G==3&&(Et[0]=="stop"||Et[0]=="close"?Et[0]=="stop"?Ol(C,7):Pb(C):Et[0]!="noop"&&C.l&&C.l.ta(Et),C.v=0)}}xa(4)}catch{}}var gt=class{constructor(f,A){this.g=f,this.map=A}};function Kt(f){this.l=f||10,o.PerformanceNavigationTiming?(f=o.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Za(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function ro(f){return f.h?1:f.g?f.g.size:0}function tr(f,A){return f.h?f.h==A:f.g?f.g.has(A):!1}function ba(f,A){f.g?f.g.add(A):f.h=A}function Ff(f,A){f.h&&f.h==A?f.h=null:f.g&&f.g.has(A)&&f.g.delete(A)}Kt.prototype.cancel=function(){if(this.i=ay(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function ay(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let A=f.i;for(const C of f.g.values())A=A.concat(C.D);return A}return y(f.i)}function mU(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(l(f)){for(var A=[],C=f.length,D=0;D<C;D++)A.push(f[D]);return A}A=[],C=0;for(D in f)A[C++]=f[D];return A}function yU(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(l(f)||typeof f=="string"){var A=[];f=f.length;for(var C=0;C<f;C++)A.push(C);return A}A=[],C=0;for(const D in f)A[C++]=D;return A}}}function WP(f,A){if(f.forEach&&typeof f.forEach=="function")f.forEach(A,void 0);else if(l(f)||typeof f=="string")Array.prototype.forEach.call(f,A,void 0);else for(var C=yU(f),D=mU(f),G=D.length,Z=0;Z<G;Z++)A.call(void 0,D[Z],C&&C[Z],f)}var HP=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gU(f,A){if(f){f=f.split("&");for(var C=0;C<f.length;C++){var D=f[C].indexOf("="),G=null;if(0<=D){var Z=f[C].substring(0,D);G=f[C].substring(D+1)}else Z=f[C];A(Z,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Pl(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Pl){this.h=f.h,sy(this,f.j),this.o=f.o,this.g=f.g,oy(this,f.s),this.l=f.l;var A=f.i,C=new Uf;C.i=A.i,A.g&&(C.g=new Map(A.g),C.h=A.h),qP(this,C),this.m=f.m}else f&&(A=String(f).match(HP))?(this.h=!1,sy(this,A[1]||"",!0),this.o=Vf(A[2]||""),this.g=Vf(A[3]||"",!0),oy(this,A[4]),this.l=Vf(A[5]||"",!0),qP(this,A[6]||"",!0),this.m=Vf(A[7]||"")):(this.h=!1,this.i=new Uf(null,this.h))}Pl.prototype.toString=function(){var f=[],A=this.j;A&&f.push(Bf(A,KP,!0),":");var C=this.g;return(C||A=="file")&&(f.push("//"),(A=this.o)&&f.push(Bf(A,KP,!0),"@"),f.push(encodeURIComponent(String(C)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.s,C!=null&&f.push(":",String(C))),(C=this.l)&&(this.g&&C.charAt(0)!="/"&&f.push("/"),f.push(Bf(C,C.charAt(0)=="/"?bU:xU,!0))),(C=this.i.toString())&&f.push("?",C),(C=this.m)&&f.push("#",Bf(C,_U)),f.join("")};function Ja(f){return new Pl(f)}function sy(f,A,C){f.j=C?Vf(A,!0):A,f.j&&(f.j=f.j.replace(/:$/,""))}function oy(f,A){if(A){if(A=Number(A),isNaN(A)||0>A)throw Error("Bad port number "+A);f.s=A}else f.s=null}function qP(f,A,C){A instanceof Uf?(f.i=A,EU(f.i,f.h)):(C||(A=Bf(A,wU)),f.i=new Uf(A,f.h))}function Gt(f,A,C){f.i.set(A,C)}function ly(f){return Gt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Vf(f,A){return f?A?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Bf(f,A,C){return typeof f=="string"?(f=encodeURI(f).replace(A,vU),C&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function vU(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var KP=/[#\/\?@]/g,xU=/[#\?:]/g,bU=/[#\?]/g,wU=/[#\?@]/g,_U=/#/g;function Uf(f,A){this.h=this.g=null,this.i=f||null,this.j=!!A}function no(f){f.g||(f.g=new Map,f.h=0,f.i&&gU(f.i,function(A,C){f.add(decodeURIComponent(A.replace(/\+/g," ")),C)}))}t=Uf.prototype,t.add=function(f,A){no(this),this.i=null,f=ac(this,f);var C=this.g.get(f);return C||this.g.set(f,C=[]),C.push(A),this.h+=1,this};function GP(f,A){no(f),A=ac(f,A),f.g.has(A)&&(f.i=null,f.h-=f.g.get(A).length,f.g.delete(A))}function YP(f,A){return no(f),A=ac(f,A),f.g.has(A)}t.forEach=function(f,A){no(this),this.g.forEach(function(C,D){C.forEach(function(G){f.call(A,G,D,this)},this)},this)},t.na=function(){no(this);const f=Array.from(this.g.values()),A=Array.from(this.g.keys()),C=[];for(let D=0;D<A.length;D++){const G=f[D];for(let Z=0;Z<G.length;Z++)C.push(A[D])}return C},t.V=function(f){no(this);let A=[];if(typeof f=="string")YP(this,f)&&(A=A.concat(this.g.get(ac(this,f))));else{f=Array.from(this.g.values());for(let C=0;C<f.length;C++)A=A.concat(f[C])}return A},t.set=function(f,A){return no(this),this.i=null,f=ac(this,f),YP(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[A]),this.h+=1,this},t.get=function(f,A){return f?(f=this.V(f),0<f.length?String(f[0]):A):A};function QP(f,A,C){GP(f,A),0<C.length&&(f.i=null,f.g.set(ac(f,A),y(C)),f.h+=C.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],A=Array.from(this.g.keys());for(var C=0;C<A.length;C++){var D=A[C];const Z=encodeURIComponent(String(D)),ge=this.V(D);for(D=0;D<ge.length;D++){var G=Z;ge[D]!==""&&(G+="="+encodeURIComponent(String(ge[D]))),f.push(G)}}return this.i=f.join("&")};function ac(f,A){return A=String(A),f.j&&(A=A.toLowerCase()),A}function EU(f,A){A&&!f.j&&(no(f),f.i=null,f.g.forEach(function(C,D){var G=D.toLowerCase();D!=G&&(GP(this,D),QP(this,G,C))},f)),f.j=A}function SU(f,A){const C=new Q;if(o.Image){const D=new Image;D.onload=p(io,C,"TestLoadImage: loaded",!0,A,D),D.onerror=p(io,C,"TestLoadImage: error",!1,A,D),D.onabort=p(io,C,"TestLoadImage: abort",!1,A,D),D.ontimeout=p(io,C,"TestLoadImage: timeout",!1,A,D),o.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=f}else A(!1)}function AU(f,A){const C=new Q,D=new AbortController,G=setTimeout(()=>{D.abort(),io(C,"TestPingServer: timeout",!1,A)},1e4);fetch(f,{signal:D.signal}).then(Z=>{clearTimeout(G),Z.ok?io(C,"TestPingServer: ok",!0,A):io(C,"TestPingServer: server error",!1,A)}).catch(()=>{clearTimeout(G),io(C,"TestPingServer: error",!1,A)})}function io(f,A,C,D,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),D(C)}catch{}}function TU(){this.g=new nc}function PU(f,A,C){const D=C||"";try{WP(f,function(G,Z){let ge=G;u(G)&&(ge=ya(G)),A.push(D+Z+"="+encodeURIComponent(ge))})}catch(G){throw A.push(D+"type="+encodeURIComponent("_badmap")),G}}function uy(f){this.l=f.Ub||null,this.j=f.eb||!1}g(uy,Js),uy.prototype.g=function(){return new cy(this.l,this.j)},uy.prototype.i=function(f){return function(){return f}}({});function cy(f,A){ie.call(this),this.D=f,this.o=A,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(cy,ie),t=cy.prototype,t.open=function(f,A){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=A,this.readyState=1,Wf(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const A={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(A.body=f),(this.D||o).fetch(new Request(this.A,A)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,zf(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Wf(this)),this.g&&(this.readyState=3,Wf(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;XP(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function XP(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var A=f.value?f.value:new Uint8Array(0);(A=this.v.decode(A,{stream:!f.done}))&&(this.response=this.responseText+=A)}f.done?zf(this):Wf(this),this.readyState==3&&XP(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,zf(this))},t.Qa=function(f){this.g&&(this.response=f,zf(this))},t.ga=function(){this.g&&zf(this)};function zf(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Wf(f)}t.setRequestHeader=function(f,A){this.u.append(f,A)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],A=this.h.entries();for(var C=A.next();!C.done;)C=C.value,f.push(C[0]+": "+C[1]),C=A.next();return f.join(`\r
`)};function Wf(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(cy.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function ZP(f){let A="";return P(f,function(C,D){A+=D,A+=":",A+=C,A+=`\r
`}),A}function Tb(f,A,C){e:{for(D in C){var D=!1;break e}D=!0}D||(C=ZP(C),typeof f=="string"?C!=null&&encodeURIComponent(String(C)):Gt(f,A,C))}function cr(f){ie.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(cr,ie);var OU=/^https?$/i,IU=["POST","PUT"];t=cr.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,A,C,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);A=A?A.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():je.g(),this.v=this.o?ga(this.o):ga(je),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(A,String(f),!0),this.B=!1}catch(Z){JP(this,Z);return}if(f=C||"",C=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var G in D)C.set(G,D[G]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const Z of D.keys())C.set(Z,D.get(Z));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(C.keys()).find(Z=>Z.toLowerCase()=="content-type"),G=o.FormData&&f instanceof o.FormData,!(0<=Array.prototype.indexOf.call(IU,A,void 0))||D||G||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,ge]of C)this.g.setRequestHeader(Z,ge);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{rO(this),this.u=!0,this.g.send(f),this.u=!1}catch(Z){JP(this,Z)}};function JP(f,A){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=A,f.m=5,eO(f),dy(f)}function eO(f){f.A||(f.A=!0,xe(f,"complete"),xe(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,xe(this,"complete"),xe(this,"abort"),dy(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),dy(this,!0)),cr.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?tO(this):this.bb())},t.bb=function(){tO(this)};function tO(f){if(f.h&&typeof s<"u"&&(!f.v[1]||es(f)!=4||f.Z()!=2)){if(f.u&&es(f)==4)ot(f.Ea,0,f);else if(xe(f,"readystatechange"),es(f)==4){f.h=!1;try{const ge=f.Z();e:switch(ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var A=!0;break e;default:A=!1}var C;if(!(C=A)){var D;if(D=ge===0){var G=String(f.D).match(HP)[1]||null;!G&&o.self&&o.self.location&&(G=o.self.location.protocol.slice(0,-1)),D=!OU.test(G?G.toLowerCase():"")}C=D}if(C)xe(f,"complete"),xe(f,"success");else{f.m=6;try{var Z=2<es(f)?f.g.statusText:""}catch{Z=""}f.l=Z+" ["+f.Z()+"]",eO(f)}}finally{dy(f)}}}}function dy(f,A){if(f.g){rO(f);const C=f.g,D=f.v[0]?()=>{}:null;f.g=null,f.v=null,A||xe(f,"ready");try{C.onreadystatechange=D}catch{}}}function rO(f){f.I&&(o.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function es(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<es(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var A=this.g.responseText;return f&&A.indexOf(f)==0&&(A=A.substring(f.length)),rc(A)}};function nO(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function CU(f){const A={};f=(f.g&&2<=es(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<f.length;D++){if(x(f[D]))continue;var C=N(f[D]);const G=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const Z=A[G]||[];A[G]=Z,Z.push(C)}w(A,function(D){return D.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hf(f,A,C){return C&&C.internalChannelParams&&C.internalChannelParams[f]||A}function iO(f){this.Aa=0,this.i=[],this.j=new Q,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Hf("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Hf("baseRetryDelayMs",5e3,f),this.cb=Hf("retryDelaySeedMs",1e4,f),this.Wa=Hf("forwardChannelMaxRetries",2,f),this.wa=Hf("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Kt(f&&f.concurrentRequestLimit),this.Da=new TU,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=iO.prototype,t.la=8,t.G=1,t.connect=function(f,A,C,D){Jr(0),this.W=f,this.H=A||{},C&&D!==void 0&&(this.H.OSID=C,this.H.OAID=D),this.F=this.X,this.I=hO(this,null,this.W),hy(this)};function Pb(f){if(aO(f),f.G==3){var A=f.U++,C=Ja(f.I);if(Gt(C,"SID",f.K),Gt(C,"RID",A),Gt(C,"TYPE","terminate"),qf(f,C),A=new rt(f,f.j,A),A.L=2,A.v=ly(Ja(C)),C=!1,o.navigator&&o.navigator.sendBeacon)try{C=o.navigator.sendBeacon(A.v.toString(),"")}catch{}!C&&o.Image&&(new Image().src=A.v,C=!0),C||(A.g=pO(A.j,null),A.g.ea(A.v)),A.F=Date.now(),In(A)}fO(f)}function fy(f){f.g&&(Ib(f),f.g.cancel(),f.g=null)}function aO(f){fy(f),f.u&&(o.clearTimeout(f.u),f.u=null),py(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&o.clearTimeout(f.s),f.s=null)}function hy(f){if(!Za(f.h)&&!f.s){f.s=!0;var A=f.Ga;W||Y(),$||(W(),$=!0),H.add(A,f),f.B=0}}function kU(f,A){return ro(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=A.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=q(h(f.Ga,f,A),dO(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const G=new rt(this,this.j,f);let Z=this.o;if(this.S&&(Z?(Z=S(Z),k(Z,this.S)):Z=this.S),this.m!==null||this.O||(G.H=Z,Z=null),this.P)e:{for(var A=0,C=0;C<this.i.length;C++){t:{var D=this.i[C];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(A+=D,4096<A){A=C;break e}if(A===4096||C===this.i.length-1){A=C+1;break e}}A=1e3}else A=1e3;A=oO(this,G,A),C=Ja(this.I),Gt(C,"RID",f),Gt(C,"CVER",22),this.D&&Gt(C,"X-HTTP-Session-Id",this.D),qf(this,C),Z&&(this.O?A="headers="+encodeURIComponent(String(ZP(Z)))+"&"+A:this.m&&Tb(C,this.m,Z)),ba(this.h,G),this.Ua&&Gt(C,"TYPE","init"),this.P?(Gt(C,"$req",A),Gt(C,"SID","null"),G.T=!0,Bt(G,C,null)):Bt(G,C,A),this.G=2}}else this.G==3&&(f?sO(this,f):this.i.length==0||Za(this.h)||sO(this))};function sO(f,A){var C;A?C=A.l:C=f.U++;const D=Ja(f.I);Gt(D,"SID",f.K),Gt(D,"RID",C),Gt(D,"AID",f.T),qf(f,D),f.m&&f.o&&Tb(D,f.m,f.o),C=new rt(f,f.j,C,f.B+1),f.m===null&&(C.H=f.o),A&&(f.i=A.D.concat(f.i)),A=oO(f,C,1e3),C.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),ba(f.h,C),Bt(C,D,A)}function qf(f,A){f.H&&P(f.H,function(C,D){Gt(A,D,C)}),f.l&&WP({},function(C,D){Gt(A,D,C)})}function oO(f,A,C){C=Math.min(f.i.length,C);var D=f.l?h(f.l.Na,f.l,f):null;e:{var G=f.i;let Z=-1;for(;;){const ge=["count="+C];Z==-1?0<C?(Z=G[0].g,ge.push("ofs="+Z)):Z=0:ge.push("ofs="+Z);let Lt=!0;for(let en=0;en<C;en++){let Et=G[en].g;const pn=G[en].map;if(Et-=Z,0>Et)Z=Math.max(0,G[en].g-100),Lt=!1;else try{PU(pn,ge,"req"+Et+"_")}catch{D&&D(pn)}}if(Lt){D=ge.join("&");break e}}}return f=f.i.splice(0,C),A.D=f,D}function lO(f){if(!f.g&&!f.u){f.Y=1;var A=f.Fa;W||Y(),$||(W(),$=!0),H.add(A,f),f.v=0}}function Ob(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=q(h(f.Fa,f),dO(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,uO(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=q(h(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Jr(10),fy(this),uO(this))};function Ib(f){f.A!=null&&(o.clearTimeout(f.A),f.A=null)}function uO(f){f.g=new rt(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var A=Ja(f.qa);Gt(A,"RID","rpc"),Gt(A,"SID",f.K),Gt(A,"AID",f.T),Gt(A,"CI",f.F?"0":"1"),!f.F&&f.ja&&Gt(A,"TO",f.ja),Gt(A,"TYPE","xmlhttp"),qf(f,A),f.m&&f.o&&Tb(A,f.m,f.o),f.L&&(f.g.I=f.L);var C=f.g;f=f.ia,C.L=1,C.v=ly(Ja(A)),C.m=null,C.P=!0,Qa(C,f)}t.Za=function(){this.C!=null&&(this.C=null,fy(this),Ob(this),Jr(19))};function py(f){f.C!=null&&(o.clearTimeout(f.C),f.C=null)}function cO(f,A){var C=null;if(f.g==A){py(f),Ib(f),f.g=null;var D=2}else if(tr(f.h,A))C=A.D,Ff(f.h,A),D=1;else return;if(f.G!=0){if(A.o)if(D==1){C=A.m?A.m.length:0,A=Date.now()-A.F;var G=f.B;D=Al(),xe(D,new z(D,C)),hy(f)}else lO(f);else if(G=A.s,G==3||G==0&&0<A.X||!(D==1&&kU(f,A)||D==2&&Ob(f)))switch(C&&0<C.length&&(A=f.h,A.i=A.i.concat(C)),G){case 1:Ol(f,5);break;case 4:Ol(f,10);break;case 3:Ol(f,6);break;default:Ol(f,2)}}}function dO(f,A){let C=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(C*=2),C*A}function Ol(f,A){if(f.j.info("Error code "+A),A==2){var C=h(f.fb,f),D=f.Xa;const G=!D;D=new Pl(D||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||sy(D,"https"),ly(D),G?SU(D.toString(),C):AU(D.toString(),C)}else Jr(2);f.G=0,f.l&&f.l.sa(A),fO(f),aO(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Jr(2)):(this.j.info("Failed to ping google.com"),Jr(1))};function fO(f){if(f.G=0,f.ka=[],f.l){const A=ay(f.h);(A.length!=0||f.i.length!=0)&&(v(f.ka,A),v(f.ka,f.i),f.h.i.length=0,y(f.i),f.i.length=0),f.l.ra()}}function hO(f,A,C){var D=C instanceof Pl?Ja(C):new Pl(C);if(D.g!="")A&&(D.g=A+"."+D.g),oy(D,D.s);else{var G=o.location;D=G.protocol,A=A?A+"."+G.hostname:G.hostname,G=+G.port;var Z=new Pl(null);D&&sy(Z,D),A&&(Z.g=A),G&&oy(Z,G),C&&(Z.l=C),D=Z}return C=f.D,A=f.ya,C&&A&&Gt(D,C,A),Gt(D,"VER",f.la),qf(f,D),D}function pO(f,A,C){if(A&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return A=f.Ca&&!f.pa?new cr(new uy({eb:C})):new cr(f.pa),A.Ha(f.J),A}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function mO(){}t=mO.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function my(){}my.prototype.g=function(f,A){return new oi(f,A)};function oi(f,A){ie.call(this),this.g=new iO(A),this.l=f,this.h=A&&A.messageUrlParams||null,f=A&&A.messageHeaders||null,A&&A.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=A&&A.initMessageHeaders||null,A&&A.messageContentType&&(f?f["X-WebChannel-Content-Type"]=A.messageContentType:f={"X-WebChannel-Content-Type":A.messageContentType}),A&&A.va&&(f?f["X-WebChannel-Client-Profile"]=A.va:f={"X-WebChannel-Client-Profile":A.va}),this.g.S=f,(f=A&&A.Sb)&&!x(f)&&(this.g.m=f),this.v=A&&A.supportsCrossDomainXhr||!1,this.u=A&&A.sendRawJson||!1,(A=A&&A.httpSessionIdParam)&&!x(A)&&(this.g.D=A,f=this.h,f!==null&&A in f&&(f=this.h,A in f&&delete f[A])),this.j=new sc(this)}g(oi,ie),oi.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},oi.prototype.close=function(){Pb(this.g)},oi.prototype.o=function(f){var A=this.g;if(typeof f=="string"){var C={};C.__data__=f,f=C}else this.u&&(C={},C.__data__=ya(f),f=C);A.i.push(new gt(A.Ya++,f)),A.G==3&&hy(A)},oi.prototype.N=function(){this.g.l=null,delete this.j,Pb(this.g),delete this.g,oi.aa.N.call(this)};function yO(f){Sl.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var A=f.__sm__;if(A){e:{for(const C in A){f=C;break e}f=void 0}(this.i=f)&&(f=this.i,A=A!==null&&f in A?A[f]:void 0),this.data=A}else this.data=f}g(yO,Sl);function gO(){Lf.call(this),this.status=1}g(gO,Lf);function sc(f){this.g=f}g(sc,mO),sc.prototype.ua=function(){xe(this.g,"a")},sc.prototype.ta=function(f){xe(this.g,new yO(f))},sc.prototype.sa=function(f){xe(this.g,new gO)},sc.prototype.ra=function(){xe(this.g,"b")},my.prototype.createWebChannel=my.prototype.g,oi.prototype.send=oi.prototype.o,oi.prototype.open=oi.prototype.m,oi.prototype.close=oi.prototype.close,FF=function(){return new my},LF=function(){return Al()},$F=va,C1={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Pe.NO_ERROR=0,Pe.TIMEOUT=8,Pe.HTTP_ERROR=6,Ag=Pe,Ee.COMPLETE="complete",MF=Ee,$f.EventType=Ya,Ya.OPEN="a",Ya.CLOSE="b",Ya.ERROR="c",Ya.MESSAGE="d",ie.prototype.listen=ie.prototype.K,Ph=$f,cr.prototype.listenOnce=cr.prototype.L,cr.prototype.getLastError=cr.prototype.Ka,cr.prototype.getLastErrorCode=cr.prototype.Ba,cr.prototype.getStatus=cr.prototype.Z,cr.prototype.getResponseJson=cr.prototype.Oa,cr.prototype.getResponseText=cr.prototype.oa,cr.prototype.send=cr.prototype.ea,cr.prototype.setWithCredentials=cr.prototype.Ha,DF=cr}).apply(typeof Vy<"u"?Vy:typeof self<"u"?self:typeof window<"u"?window:{});const ek="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}wn.UNAUTHENTICATED=new wn(null),wn.GOOGLE_CREDENTIALS=new wn("google-credentials-uid"),wn.FIRST_PARTY=new wn("first-party-uid"),wn.MOCK_USER=new wn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yf="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cu=new FA("@firebase/firestore");function sh(){return Cu.logLevel}function Ce(t,...e){if(Cu.logLevel<=yt.DEBUG){const r=e.map(XA);Cu.debug(`Firestore (${yf}): ${t}`,...r)}}function Ms(t,...e){if(Cu.logLevel<=yt.ERROR){const r=e.map(XA);Cu.error(`Firestore (${yf}): ${t}`,...r)}}function wd(t,...e){if(Cu.logLevel<=yt.WARN){const r=e.map(XA);Cu.warn(`Firestore (${yf}): ${t}`,...r)}}function XA(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ye(t="Unexpected state"){const e=`FIRESTORE (${yf}) INTERNAL ASSERTION FAILED: `+t;throw Ms(e),new Error(e)}function Rt(t,e){t||Ye()}function et(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends Ha{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VF{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wQ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(wn.UNAUTHENTICATED))}shutdown(){}}class _Q{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class EQ{constructor(e){this.t=e,this.currentUser=wn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){Rt(this.o===void 0);let n=this.i;const i=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let a=new Ss;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ss,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=a;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},o=l=>{Ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(Ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ss)}},0),s()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(Ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Rt(typeof n.accessToken=="string"),new VF(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Rt(e===null||typeof e=="string"),new wn(e)}}class SQ{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=wn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class AQ{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new SQ(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(wn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class TQ{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class PQ{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){Rt(this.o===void 0);const n=a=>{a.error!=null&&Ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.R;return this.R=a.token,Ce("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?r(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>n(a))};const i=a=>{Ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):Ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Rt(typeof r.token=="string"),this.R=r.token,new TQ(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OQ(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BF{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const i=OQ(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<r&&(n+=e.charAt(i[a]%e.length))}return n}}function St(t,e){return t<e?-1:t>e?1:0}function _d(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Se(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Se(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new Se(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*r));return new at(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?St(this.nanoseconds,e.nanoseconds):St(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Xe(e)}static min(){return new Xe(new at(0,0))}static max(){return new Xe(new at(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(e,r,n){r===void 0?r=0:r>e.length&&Ye(),n===void 0?n=e.length-r:n>e.length-r&&Ye(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Op.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Op?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const a=e.get(i),s=r.get(i);if(a<s)return-1;if(a>s)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class Zt extends Op{construct(e,r,n){return new Zt(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new Se(ne.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new Zt(r)}static emptyPath(){return new Zt([])}}const IQ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sn extends Op{construct(e,r,n){return new sn(e,r,n)}static isValidIdentifier(e){return IQ.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new sn(["__name__"])}static fromServerFormat(e){const r=[];let n="",i=0;const a=()=>{if(n.length===0)throw new Se(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let s=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new Se(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Se(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=l,i+=2}else o==="`"?(s=!s,i++):o!=="."||s?(n+=o,i++):(a(),i++)}if(a(),s)throw new Se(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new sn(r)}static emptyPath(){return new sn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e){this.path=e}static fromPath(e){return new Ve(Zt.fromString(e))}static fromName(e){return new Ve(Zt.fromString(e).popFirst(5))}static empty(){return new Ve(Zt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Zt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Zt.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ve(new Zt(e.slice()))}}function CQ(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=Xe.fromTimestamp(n===1e9?new at(r+1,0):new at(r,n));return new sl(i,Ve.empty(),e)}function kQ(t){return new sl(t.readTime,t.key,-1)}class sl{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new sl(Xe.min(),Ve.empty(),-1)}static max(){return new sl(Xe.max(),Ve.empty(),-1)}}function NQ(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=Ve.comparator(t.documentKey,e.documentKey),r!==0?r:St(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jQ="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class RQ{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vm(t){if(t.code!==ne.FAILED_PRECONDITION||t.message!==jQ)throw t;Ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Ye(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new le((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof le?r:le.resolve(r)}catch(r){return le.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):le.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):le.reject(r)}static resolve(e){return new le((r,n)=>{r(e)})}static reject(e){return new le((r,n)=>{n(e)})}static waitFor(e){return new le((r,n)=>{let i=0,a=0,s=!1;e.forEach(o=>{++i,o.next(()=>{++a,s&&a===i&&r()},l=>n(l))}),s=!0,a===i&&r()})}static or(e){let r=le.resolve(!1);for(const n of e)r=r.next(i=>i?le.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,a)=>{n.push(r.call(this,i,a))}),this.waitFor(n)}static mapArray(e,r){return new le((n,i)=>{const a=e.length,s=new Array(a);let o=0;for(let l=0;l<a;l++){const u=l;r(e[u]).next(c=>{s[u]=c,++o,o===a&&n(s)},c=>i(c))}})}static doWhile(e,r){return new le((n,i)=>{const a=()=>{e()===!0?r().next(()=>{a()},i):n()};a()})}}function DQ(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Bm(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ie(n),this.se=n=>r.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}ZA.oe=-1;function mx(t){return t==null}function gv(t){return t===0&&1/t==-1/0}function MQ(t){return typeof t=="number"&&Number.isInteger(t)&&!gv(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tk(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function gf(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function UF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e,r){this.comparator=e,this.root=r||nn.EMPTY}insert(e,r){return new ur(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,nn.BLACK,null,null))}remove(e){return new ur(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nn.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new By(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new By(this.root,e,this.comparator,!1)}getReverseIterator(){return new By(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new By(this.root,e,this.comparator,!0)}}class By{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=r?n(e.key,r):1,r&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nn{constructor(e,r,n,i,a){this.key=e,this.value=r,this.color=n??nn.RED,this.left=i??nn.EMPTY,this.right=a??nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,a){return new nn(e??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const a=n(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,r,n),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return nn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return nn.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ye();const e=this.left.check();if(e!==this.right.check())throw Ye();return e+(this.isRed()?0:1)}}nn.EMPTY=null,nn.RED=!0,nn.BLACK=!1;nn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ye()}get value(){throw Ye()}get color(){throw Ye()}get left(){throw Ye()}get right(){throw Ye()}copy(e,r,n,i,a){return this}insert(e,r,n){return new nn(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.comparator=e,this.data=new ur(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new rk(this.data.getIterator())}getIteratorFrom(e){return new rk(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof ln)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new ln(this.comparator);return r.data=e,r}}class rk{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e){this.fields=e,e.sort(sn.comparator)}static empty(){return new ia([])}unionWith(e){let r=new ln(sn.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new ia(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return _d(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zF extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new zF("Invalid base64 string: "+a):a}}(e);return new cn(r)}static fromUint8Array(e){const r=function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a}(e);return new cn(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return St(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cn.EMPTY_BYTE_STRING=new cn("");const $Q=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ol(t){if(Rt(!!t),typeof t=="string"){let e=0;const r=$Q.exec(t);if(Rt(!!r),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:gr(t.seconds),nanos:gr(t.nanos)}}function gr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ku(t){return typeof t=="string"?cn.fromBase64String(t):cn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JA(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function eT(t){const e=t.mapValue.fields.__previous_value__;return JA(e)?eT(e):e}function Ip(t){const e=ol(t.mapValue.fields.__local_write_time__.timestampValue);return new at(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LQ{constructor(e,r,n,i,a,s,o,l,u){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=u}}class Cp{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new Cp("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Cp&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy={mapValue:{}};function Nu(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?JA(t)?4:VQ(t)?9007199254740991:FQ(t)?10:11:Ye()}function Ba(t,e){if(t===e)return!0;const r=Nu(t);if(r!==Nu(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ip(t).isEqual(Ip(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=ol(i.timestampValue),o=ol(a.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return ku(i.bytesValue).isEqual(ku(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return gr(i.geoPointValue.latitude)===gr(a.geoPointValue.latitude)&&gr(i.geoPointValue.longitude)===gr(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return gr(i.integerValue)===gr(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=gr(i.doubleValue),o=gr(a.doubleValue);return s===o?gv(s)===gv(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return _d(t.arrayValue.values||[],e.arrayValue.values||[],Ba);case 10:case 11:return function(i,a){const s=i.mapValue.fields||{},o=a.mapValue.fields||{};if(tk(s)!==tk(o))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(o[l]===void 0||!Ba(s[l],o[l])))return!1;return!0}(t,e);default:return Ye()}}function kp(t,e){return(t.values||[]).find(r=>Ba(r,e))!==void 0}function Ed(t,e){if(t===e)return 0;const r=Nu(t),n=Nu(e);if(r!==n)return St(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return St(t.booleanValue,e.booleanValue);case 2:return function(a,s){const o=gr(a.integerValue||a.doubleValue),l=gr(s.integerValue||s.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(t,e);case 3:return nk(t.timestampValue,e.timestampValue);case 4:return nk(Ip(t),Ip(e));case 5:return St(t.stringValue,e.stringValue);case 6:return function(a,s){const o=ku(a),l=ku(s);return o.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(a,s){const o=a.split("/"),l=s.split("/");for(let u=0;u<o.length&&u<l.length;u++){const c=St(o[u],l[u]);if(c!==0)return c}return St(o.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,s){const o=St(gr(a.latitude),gr(s.latitude));return o!==0?o:St(gr(a.longitude),gr(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return ik(t.arrayValue,e.arrayValue);case 10:return function(a,s){var o,l,u,c;const d=a.fields||{},h=s.fields||{},p=(o=d.value)===null||o===void 0?void 0:o.arrayValue,g=(l=h.value)===null||l===void 0?void 0:l.arrayValue,y=St(((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0,((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0);return y!==0?y:ik(p,g)}(t.mapValue,e.mapValue);case 11:return function(a,s){if(a===Uy.mapValue&&s===Uy.mapValue)return 0;if(a===Uy.mapValue)return 1;if(s===Uy.mapValue)return-1;const o=a.fields||{},l=Object.keys(o),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const h=St(l[d],c[d]);if(h!==0)return h;const p=Ed(o[l[d]],u[c[d]]);if(p!==0)return p}return St(l.length,c.length)}(t.mapValue,e.mapValue);default:throw Ye()}}function nk(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return St(t,e);const r=ol(t),n=ol(e),i=St(r.seconds,n.seconds);return i!==0?i:St(r.nanos,n.nanos)}function ik(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const a=Ed(r[i],n[i]);if(a)return a}return St(r.length,n.length)}function Sd(t){return k1(t)}function k1(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=ol(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return ku(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return Ve.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const a of r.values||[])i?i=!1:n+=",",n+=k1(a);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const s of n)a?a=!1:i+=",",i+=`${s}:${k1(r.fields[s])}`;return i+"}"}(t.mapValue):Ye()}function ak(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function N1(t){return!!t&&"integerValue"in t}function tT(t){return!!t&&"arrayValue"in t}function sk(t){return!!t&&"nullValue"in t}function ok(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Tg(t){return!!t&&"mapValue"in t}function FQ(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function zh(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return gf(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=zh(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=zh(t.arrayValue.values[r]);return e}return Object.assign({},t)}function VQ(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e){this.value=e}static empty(){return new ki({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!Tg(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=zh(r)}setAll(e){let r=sn.emptyPath(),n={},i=[];e.forEach((s,o)=>{if(!r.isImmediateParentOf(o)){const l=this.getFieldsMap(r);this.applyChanges(l,n,i),n={},i=[],r=o.popLast()}s?n[o.lastSegment()]=zh(s):i.push(o.lastSegment())});const a=this.getFieldsMap(r);this.applyChanges(a,n,i)}delete(e){const r=this.field(e.popLast());Tg(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Ba(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];Tg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){gf(r,(i,a)=>e[i]=a);for(const i of n)delete e[i]}clone(){return new ki(zh(this.value))}}function WF(t){const e=[];return gf(t.fields,(r,n)=>{const i=new sn([r]);if(Tg(n)){const a=WF(n.mapValue).fields;if(a.length===0)e.push(i);else for(const s of a)e.push(i.child(s))}else e.push(i)}),new ia(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e,r,n,i,a,s,o){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=s,this.documentState=o}static newInvalidDocument(e){return new En(e,0,Xe.min(),Xe.min(),Xe.min(),ki.empty(),0)}static newFoundDocument(e,r,n,i){return new En(e,1,r,Xe.min(),n,i,0)}static newNoDocument(e,r){return new En(e,2,r,Xe.min(),Xe.min(),ki.empty(),0)}static newUnknownDocument(e,r){return new En(e,3,r,Xe.min(),Xe.min(),ki.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ki.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ki.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof En&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new En(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(e,r){this.position=e,this.inclusive=r}}function lk(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const a=e[i],s=t.position[i];if(a.field.isKeyField()?n=Ve.comparator(Ve.fromName(s.referenceValue),r.key):n=Ed(s,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function uk(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!Ba(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(e,r="asc"){this.field=e,this.dir=r}}function BQ(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HF{}class Ir extends HF{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new zQ(e,r,n):r==="array-contains"?new qQ(e,n):r==="in"?new KQ(e,n):r==="not-in"?new GQ(e,n):r==="array-contains-any"?new YQ(e,n):new Ir(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new WQ(e,n):new HQ(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(Ed(r,this.value)):r!==null&&Nu(this.value)===Nu(r)&&this.matchesComparison(Ed(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ye()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fa extends HF{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new fa(e,r)}matches(e){return qF(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function qF(t){return t.op==="and"}function KF(t){return UQ(t)&&qF(t)}function UQ(t){for(const e of t.filters)if(e instanceof fa)return!1;return!0}function j1(t){if(t instanceof Ir)return t.field.canonicalString()+t.op.toString()+Sd(t.value);if(KF(t))return t.filters.map(e=>j1(e)).join(",");{const e=t.filters.map(r=>j1(r)).join(",");return`${t.op}(${e})`}}function GF(t,e){return t instanceof Ir?function(n,i){return i instanceof Ir&&n.op===i.op&&n.field.isEqual(i.field)&&Ba(n.value,i.value)}(t,e):t instanceof fa?function(n,i){return i instanceof fa&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((a,s,o)=>a&&GF(s,i.filters[o]),!0):!1}(t,e):void Ye()}function YF(t){return t instanceof Ir?function(r){return`${r.field.canonicalString()} ${r.op} ${Sd(r.value)}`}(t):t instanceof fa?function(r){return r.op.toString()+" {"+r.getFilters().map(YF).join(" ,")+"}"}(t):"Filter"}class zQ extends Ir{constructor(e,r,n){super(e,r,n),this.key=Ve.fromName(n.referenceValue)}matches(e){const r=Ve.comparator(e.key,this.key);return this.matchesComparison(r)}}class WQ extends Ir{constructor(e,r){super(e,"in",r),this.keys=QF("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class HQ extends Ir{constructor(e,r){super(e,"not-in",r),this.keys=QF("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function QF(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>Ve.fromName(n.referenceValue))}class qQ extends Ir{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return tT(r)&&kp(r.arrayValue,this.value)}}class KQ extends Ir{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&kp(this.value.arrayValue,r)}}class GQ extends Ir{constructor(e,r){super(e,"not-in",r)}matches(e){if(kp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!kp(this.value.arrayValue,r)}}class YQ extends Ir{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!tT(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>kp(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QQ{constructor(e,r=null,n=[],i=[],a=null,s=null,o=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=s,this.endAt=o,this.ue=null}}function ck(t,e=null,r=[],n=[],i=null,a=null,s=null){return new QQ(t,e,r,n,i,a,s)}function rT(t){const e=et(t);if(e.ue===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>j1(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(a){return a.field.canonicalString()+a.dir}(n)).join(","),mx(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>Sd(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>Sd(n)).join(",")),e.ue=r}return e.ue}function nT(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!BQ(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!GF(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!uk(t.startAt,e.startAt)&&uk(t.endAt,e.endAt)}function R1(t){return Ve.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e,r=null,n=[],i=[],a=null,s="F",o=null,l=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=s,this.startAt=o,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function XQ(t,e,r,n,i,a,s,o){return new vf(t,e,r,n,i,a,s,o)}function iT(t){return new vf(t)}function dk(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function XF(t){return t.collectionGroup!==null}function Wh(t){const e=et(t);if(e.ce===null){e.ce=[];const r=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),r.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new ln(sn.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(o=o.add(u.field))})}),o})(e).forEach(a=>{r.has(a.canonicalString())||a.isKeyField()||e.ce.push(new Np(a,n))}),r.has(sn.keyField().canonicalString())||e.ce.push(new Np(sn.keyField(),n))}return e.ce}function Ra(t){const e=et(t);return e.le||(e.le=ZQ(e,Wh(t))),e.le}function ZQ(t,e){if(t.limitType==="F")return ck(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Np(i.field,a)});const r=t.endAt?new vv(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new vv(t.startAt.position,t.startAt.inclusive):null;return ck(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function D1(t,e){const r=t.filters.concat([e]);return new vf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function xv(t,e,r){return new vf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function yx(t,e){return nT(Ra(t),Ra(e))&&t.limitType===e.limitType}function ZF(t){return`${rT(Ra(t))}|lt:${t.limitType}`}function mc(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>YF(i)).join(", ")}]`),mx(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>Sd(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>Sd(i)).join(",")),`Target(${n})`}(Ra(t))}; limitType=${t.limitType})`}function gx(t,e){return e.isFoundDocument()&&function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):Ve.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(t,e)&&function(n,i){for(const a of Wh(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(s,o,l){const u=lk(s,o,l);return s.inclusive?u<=0:u<0}(n.startAt,Wh(n),i)||n.endAt&&!function(s,o,l){const u=lk(s,o,l);return s.inclusive?u>=0:u>0}(n.endAt,Wh(n),i))}(t,e)}function JQ(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function JF(t){return(e,r)=>{let n=!1;for(const i of Wh(t)){const a=eX(i,e,r);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function eX(t,e,r){const n=t.field.isKeyField()?Ve.comparator(e.key,r.key):function(a,s,o){const l=s.data.field(a),u=o.data.field(a);return l!==null&&u!==null?Ed(l,u):Ye()}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return Ye()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){gf(this.inner,(r,n)=>{for(const[i,a]of n)e(i,a)})}isEmpty(){return UF(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tX=new ur(Ve.comparator);function $s(){return tX}const e3=new ur(Ve.comparator);function Oh(...t){let e=e3;for(const r of t)e=e.insert(r.key,r);return e}function t3(t){let e=e3;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function Yl(){return Hh()}function r3(){return Hh()}function Hh(){return new xf(t=>t.toString(),(t,e)=>t.isEqual(e))}const rX=new ur(Ve.comparator),nX=new ln(Ve.comparator);function ht(...t){let e=nX;for(const r of t)e=e.add(r);return e}const iX=new ln(St);function aX(){return iX}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gv(e)?"-0":e}}function n3(t){return{integerValue:""+t}}function sX(t,e){return MQ(e)?n3(e):aT(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(){this._=void 0}}function oX(t,e,r){return t instanceof bv?function(i,a){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&JA(a)&&(a=eT(a)),a&&(s.fields.__previous_value__=a),{mapValue:s}}(r,e):t instanceof jp?a3(t,e):t instanceof Rp?s3(t,e):function(i,a){const s=i3(i,a),o=fk(s)+fk(i.Pe);return N1(s)&&N1(i.Pe)?n3(o):aT(i.serializer,o)}(t,e)}function lX(t,e,r){return t instanceof jp?a3(t,e):t instanceof Rp?s3(t,e):r}function i3(t,e){return t instanceof wv?function(n){return N1(n)||function(a){return!!a&&"doubleValue"in a}(n)}(e)?e:{integerValue:0}:null}class bv extends vx{}class jp extends vx{constructor(e){super(),this.elements=e}}function a3(t,e){const r=o3(e);for(const n of t.elements)r.some(i=>Ba(i,n))||r.push(n);return{arrayValue:{values:r}}}class Rp extends vx{constructor(e){super(),this.elements=e}}function s3(t,e){let r=o3(e);for(const n of t.elements)r=r.filter(i=>!Ba(i,n));return{arrayValue:{values:r}}}class wv extends vx{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function fk(t){return gr(t.integerValue||t.doubleValue)}function o3(t){return tT(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function uX(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof jp&&i instanceof jp||n instanceof Rp&&i instanceof Rp?_d(n.elements,i.elements,Ba):n instanceof wv&&i instanceof wv?Ba(n.Pe,i.Pe):n instanceof bv&&i instanceof bv}(t.transform,e.transform)}class cX{constructor(e,r){this.version=e,this.transformResults=r}}class As{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new As}static exists(e){return new As(void 0,e)}static updateTime(e){return new As(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Pg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class xx{}function l3(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new c3(t.key,As.none()):new Um(t.key,t.data,As.none());{const r=t.data,n=ki.empty();let i=new ln(sn.comparator);for(let a of e.fields)if(!i.has(a)){let s=r.field(a);s===null&&a.length>1&&(a=a.popLast(),s=r.field(a)),s===null?n.delete(a):n.set(a,s),i=i.add(a)}return new Gu(t.key,n,new ia(i.toArray()),As.none())}}function dX(t,e,r){t instanceof Um?function(i,a,s){const o=i.value.clone(),l=pk(i.fieldTransforms,a,s.transformResults);o.setAll(l),a.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,r):t instanceof Gu?function(i,a,s){if(!Pg(i.precondition,a))return void a.convertToUnknownDocument(s.version);const o=pk(i.fieldTransforms,a,s.transformResults),l=a.data;l.setAll(u3(i)),l.setAll(o),a.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,r):function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,r)}function qh(t,e,r,n){return t instanceof Um?function(a,s,o,l){if(!Pg(a.precondition,s))return o;const u=a.value.clone(),c=mk(a.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,r,n):t instanceof Gu?function(a,s,o,l){if(!Pg(a.precondition,s))return o;const u=mk(a.fieldTransforms,l,s),c=s.data;return c.setAll(u3(a)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),o===null?null:o.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(d=>d.field))}(t,e,r,n):function(a,s,o){return Pg(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,r)}function fX(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),a=i3(n.transform,i||null);a!=null&&(r===null&&(r=ki.empty()),r.set(n.field,a))}return r||null}function hk(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&_d(n,i,(a,s)=>uX(a,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Um extends xx{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Gu extends xx{constructor(e,r,n,i,a=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function u3(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function pk(t,e,r){const n=new Map;Rt(t.length===r.length);for(let i=0;i<r.length;i++){const a=t[i],s=a.transform,o=e.data.field(a.field);n.set(a.field,lX(s,o,r[i]))}return n}function mk(t,e,r){const n=new Map;for(const i of t){const a=i.transform,s=r.data.field(i.field);n.set(i.field,oX(a,s,e))}return n}class c3 extends xx{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hX extends xx{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pX{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&dX(a,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=qh(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=qh(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=r3();return this.mutations.forEach(i=>{const a=e.get(i.key),s=a.overlayedDocument;let o=this.applyToLocalView(s,a.mutatedFields);o=r.has(i.key)?null:o;const l=l3(s,o);l!==null&&n.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(Xe.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),ht())}isEqual(e){return this.batchId===e.batchId&&_d(this.mutations,e.mutations,(r,n)=>hk(r,n))&&_d(this.baseMutations,e.baseMutations,(r,n)=>hk(r,n))}}class sT{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){Rt(e.mutations.length===n.length);let i=function(){return rX}();const a=e.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,n[s].version);return new sT(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mX{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yX{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sr,vt;function gX(t){switch(t){default:return Ye();case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0}}function d3(t){if(t===void 0)return Ms("GRPC error has no .code"),ne.UNKNOWN;switch(t){case Sr.OK:return ne.OK;case Sr.CANCELLED:return ne.CANCELLED;case Sr.UNKNOWN:return ne.UNKNOWN;case Sr.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Sr.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Sr.INTERNAL:return ne.INTERNAL;case Sr.UNAVAILABLE:return ne.UNAVAILABLE;case Sr.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Sr.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Sr.NOT_FOUND:return ne.NOT_FOUND;case Sr.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Sr.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Sr.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Sr.ABORTED:return ne.ABORTED;case Sr.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Sr.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Sr.DATA_LOSS:return ne.DATA_LOSS;default:return Ye()}}(vt=Sr||(Sr={}))[vt.OK=0]="OK",vt[vt.CANCELLED=1]="CANCELLED",vt[vt.UNKNOWN=2]="UNKNOWN",vt[vt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",vt[vt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",vt[vt.NOT_FOUND=5]="NOT_FOUND",vt[vt.ALREADY_EXISTS=6]="ALREADY_EXISTS",vt[vt.PERMISSION_DENIED=7]="PERMISSION_DENIED",vt[vt.UNAUTHENTICATED=16]="UNAUTHENTICATED",vt[vt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",vt[vt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",vt[vt.ABORTED=10]="ABORTED",vt[vt.OUT_OF_RANGE=11]="OUT_OF_RANGE",vt[vt.UNIMPLEMENTED=12]="UNIMPLEMENTED",vt[vt.INTERNAL=13]="INTERNAL",vt[vt.UNAVAILABLE=14]="UNAVAILABLE",vt[vt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vX(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xX=new pu([4294967295,4294967295],0);function yk(t){const e=vX().encode(t),r=new RF;return r.update(e),new Uint8Array(r.digest())}function gk(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new pu([r,n],0),new pu([i,a],0)]}class oT{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Ih(`Invalid padding: ${r}`);if(n<0)throw new Ih(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Ih(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new Ih(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=pu.fromNumber(this.Ie)}Ee(e,r,n){let i=e.add(r.multiply(pu.fromNumber(n)));return i.compare(xX)===1&&(i=new pu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const r=yk(e),[n,i]=gk(r);for(let a=0;a<this.hashCount;a++){const s=this.Ee(n,i,a);if(!this.de(s))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new oT(a,i,r);return n.forEach(o=>s.insert(o)),s}insert(e){if(this.Ie===0)return;const r=yk(e),[n,i]=gk(r);for(let a=0;a<this.hashCount;a++){const s=this.Ee(n,i,a);this.Ae(s)}}Ae(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class Ih extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(e,r,n,i,a){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,zm.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new bx(Xe.min(),i,new ur(St),$s(),ht())}}class zm{constructor(e,r,n,i,a){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new zm(n,r,ht(),ht(),ht())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(e,r,n,i){this.Re=e,this.removedTargetIds=r,this.key=n,this.Ve=i}}class f3{constructor(e,r){this.targetId=e,this.me=r}}class h3{constructor(e,r,n=cn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class vk{constructor(){this.fe=0,this.ge=bk(),this.pe=cn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ht(),r=ht(),n=ht();return this.ge.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:Ye()}}),new zm(this.pe,this.ye,e,r,n)}Ce(){this.we=!1,this.ge=bk()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Rt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class bX{constructor(e){this.Le=e,this.Be=new Map,this.ke=$s(),this.qe=xk(),this.Qe=new ur(St)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const n=this.Ge(r);switch(e.state){case 0:this.ze(r)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),n.De(e.resumeToken));break;default:Ye()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((n,i)=>{this.ze(i)&&r(i)})}He(e){const r=e.targetId,n=e.me.count,i=this.Je(r);if(i){const a=i.target;if(R1(a))if(n===0){const s=new Ve(a.path);this.Ue(r,s,En.newNoDocument(s,Xe.min()))}else Rt(n===1);else{const s=this.Ye(r);if(s!==n){const o=this.Ze(e),l=o?this.Xe(o,e,s):1;if(l!==0){this.je(r);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,u)}}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=r;let s,o;try{s=ku(n).toUint8Array()}catch(l){if(l instanceof zF)return wd("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new oT(s,i,a)}catch(l){return wd(l instanceof Ih?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.Ie===0?null:o}Xe(e,r,n){return r.me.count===n-this.nt(e,r.targetId)?0:2}nt(e,r){const n=this.Le.getRemoteKeysForTarget(r);let i=0;return n.forEach(a=>{const s=this.Le.tt(),o=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;e.mightContain(o)||(this.Ue(r,a,null),i++)}),i}rt(e){const r=new Map;this.Be.forEach((a,s)=>{const o=this.Je(s);if(o){if(a.current&&R1(o.target)){const l=new Ve(o.target.path);this.ke.get(l)!==null||this.it(s,l)||this.Ue(s,l,En.newNoDocument(l,e))}a.be&&(r.set(s,a.ve()),a.Ce())}});let n=ht();this.qe.forEach((a,s)=>{let o=!0;s.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(n=n.add(a))}),this.ke.forEach((a,s)=>s.setReadTime(e));const i=new bx(e,r,this.Qe,this.ke,n);return this.ke=$s(),this.qe=xk(),this.Qe=new ur(St),i}$e(e,r){if(!this.ze(e))return;const n=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,n),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,n){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,r)?i.Fe(r,1):i.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),n&&(this.ke=this.ke.insert(r,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new vk,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new ln(St),this.qe=this.qe.insert(e,r)),r}ze(e){const r=this.Je(e)!==null;return r||Ce("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new vk),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function xk(){return new ur(Ve.comparator)}function bk(){return new ur(Ve.comparator)}const wX={asc:"ASCENDING",desc:"DESCENDING"},_X={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},EX={and:"AND",or:"OR"};class SX{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function M1(t,e){return t.useProto3Json||mx(e)?e:{value:e}}function _v(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function p3(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function AX(t,e){return _v(t,e.toTimestamp())}function Da(t){return Rt(!!t),Xe.fromTimestamp(function(r){const n=ol(r);return new at(n.seconds,n.nanos)}(t))}function lT(t,e){return $1(t,e).canonicalString()}function $1(t,e){const r=function(i){return new Zt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function m3(t){const e=Zt.fromString(t);return Rt(b3(e)),e}function L1(t,e){return lT(t.databaseId,e.path)}function ww(t,e){const r=m3(e);if(r.get(1)!==t.databaseId.projectId)throw new Se(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new Se(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new Ve(g3(r))}function y3(t,e){return lT(t.databaseId,e)}function TX(t){const e=m3(t);return e.length===4?Zt.emptyPath():g3(e)}function F1(t){return new Zt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function g3(t){return Rt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function wk(t,e,r){return{name:L1(t,e),fields:r.value.mapValue.fields}}function PX(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Ye()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(u,c){return u.useProto3Json?(Rt(c===void 0||typeof c=="string"),cn.fromBase64String(c||"")):(Rt(c===void 0||c instanceof Buffer||c instanceof Uint8Array),cn.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,o=s&&function(u){const c=u.code===void 0?ne.UNKNOWN:d3(u.code);return new Se(c,u.message||"")}(s);r=new h3(n,i,a,o||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=ww(t,n.document.name),a=Da(n.document.updateTime),s=n.document.createTime?Da(n.document.createTime):Xe.min(),o=new ki({mapValue:{fields:n.document.fields}}),l=En.newFoundDocument(i,a,s,o),u=n.targetIds||[],c=n.removedTargetIds||[];r=new Og(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=ww(t,n.document),a=n.readTime?Da(n.readTime):Xe.min(),s=En.newNoDocument(i,a),o=n.removedTargetIds||[];r=new Og([],o,s.key,s)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=ww(t,n.document),a=n.removedTargetIds||[];r=new Og([],a,i,null)}else{if(!("filter"in e))return Ye();{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,s=new yX(i,a),o=n.targetId;r=new f3(o,s)}}return r}function OX(t,e){let r;if(e instanceof Um)r={update:wk(t,e.key,e.value)};else if(e instanceof c3)r={delete:L1(t,e.key)};else if(e instanceof Gu)r={update:wk(t,e.key,e.data),updateMask:$X(e.fieldMask)};else{if(!(e instanceof hX))return Ye();r={verify:L1(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(a,s){const o=s.transform;if(o instanceof bv)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof jp)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Rp)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof wv)return{fieldPath:s.field.canonicalString(),increment:o.Pe};throw Ye()}(0,n))),e.precondition.isNone||(r.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:AX(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ye()}(t,e.precondition)),r}function IX(t,e){return t&&t.length>0?(Rt(e!==void 0),t.map(r=>function(i,a){let s=i.updateTime?Da(i.updateTime):Da(a);return s.isEqual(Xe.min())&&(s=Da(a)),new cX(s,i.transformResults||[])}(r,e))):[]}function CX(t,e){return{documents:[y3(t,e.path)]}}function kX(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=y3(t,i);const a=function(u){if(u.length!==0)return x3(fa.create(u,"and"))}(e.filters);a&&(r.structuredQuery.where=a);const s=function(u){if(u.length!==0)return u.map(c=>function(h){return{field:yc(h.field),direction:RX(h.dir)}}(c))}(e.orderBy);s&&(r.structuredQuery.orderBy=s);const o=M1(t,e.limit);return o!==null&&(r.structuredQuery.limit=o),e.startAt&&(r.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:r,parent:i}}function NX(t){let e=TX(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){Rt(n===1);const c=r.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let a=[];r.where&&(a=function(d){const h=v3(d);return h instanceof fa&&KF(h)?h.getFilters():[h]}(r.where));let s=[];r.orderBy&&(s=function(d){return d.map(h=>function(g){return new Np(gc(g.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(r.orderBy));let o=null;r.limit&&(o=function(d){let h;return h=typeof d=="object"?d.value:d,mx(h)?null:h}(r.limit));let l=null;r.startAt&&(l=function(d){const h=!!d.before,p=d.values||[];return new vv(p,h)}(r.startAt));let u=null;return r.endAt&&(u=function(d){const h=!d.before,p=d.values||[];return new vv(p,h)}(r.endAt)),XQ(e,i,s,a,o,"F",l,u)}function jX(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ye()}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function v3(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=gc(r.unaryFilter.field);return Ir.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=gc(r.unaryFilter.field);return Ir.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=gc(r.unaryFilter.field);return Ir.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=gc(r.unaryFilter.field);return Ir.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Ye()}}(t):t.fieldFilter!==void 0?function(r){return Ir.create(gc(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ye()}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return fa.create(r.compositeFilter.filters.map(n=>v3(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ye()}}(r.compositeFilter.op))}(t):Ye()}function RX(t){return wX[t]}function DX(t){return _X[t]}function MX(t){return EX[t]}function yc(t){return{fieldPath:t.canonicalString()}}function gc(t){return sn.fromServerFormat(t.fieldPath)}function x3(t){return t instanceof Ir?function(r){if(r.op==="=="){if(ok(r.value))return{unaryFilter:{field:yc(r.field),op:"IS_NAN"}};if(sk(r.value))return{unaryFilter:{field:yc(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(ok(r.value))return{unaryFilter:{field:yc(r.field),op:"IS_NOT_NAN"}};if(sk(r.value))return{unaryFilter:{field:yc(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yc(r.field),op:DX(r.op),value:r.value}}}(t):t instanceof fa?function(r){const n=r.getFilters().map(i=>x3(i));return n.length===1?n[0]:{compositeFilter:{op:MX(r.op),filters:n}}}(t):Ye()}function $X(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function b3(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e,r,n,i,a=Xe.min(),s=Xe.min(),o=cn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new Lo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Lo(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Lo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Lo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LX{constructor(e){this.ct=e}}function FX(t){const e=NX({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?xv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VX{constructor(){this.un=new BX}addToCollectionParentIndex(e,r){return this.un.add(r),le.resolve()}getCollectionParents(e,r){return le.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return le.resolve()}deleteFieldIndex(e,r){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,r){return le.resolve()}getDocumentsMatchingTarget(e,r){return le.resolve(null)}getIndexType(e,r){return le.resolve(0)}getFieldIndexes(e,r){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,r){return le.resolve(sl.min())}getMinOffsetFromCollectionGroup(e,r){return le.resolve(sl.min())}updateCollectionGroup(e,r,n){return le.resolve()}updateIndexEntries(e,r){return le.resolve()}}class BX{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new ln(Zt.comparator),a=!i.has(n);return this.index[r]=i.add(n),a}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new ln(Zt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ad(0)}static kn(){return new Ad(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UX{constructor(){this.changes=new xf(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,En.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?le.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zX{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WX{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&qh(n.mutation,i,ia.empty(),at.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,ht()).next(()=>n))}getLocalViewOfDocuments(e,r,n=ht()){const i=Yl();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(a=>{let s=Oh();return a.forEach((o,l)=>{s=s.insert(o,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,r){const n=Yl();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,ht()))}populateOverlays(e,r,n){const i=[];return n.forEach(a=>{r.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((s,o)=>{r.set(s,o)})})}computeViews(e,r,n,i){let a=$s();const s=Hh(),o=function(){return Hh()}();return r.forEach((l,u)=>{const c=n.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Gu)?a=a.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),qh(c.mutation,u,c.mutation.getFieldMask(),at.now())):s.set(u.key,ia.empty())}),this.recalculateAndSaveOverlays(e,a).next(l=>(l.forEach((u,c)=>s.set(u,c)),r.forEach((u,c)=>{var d;return o.set(u,new zX(c,(d=s.get(u))!==null&&d!==void 0?d:null))}),o))}recalculateAndSaveOverlays(e,r){const n=Hh();let i=new ur((s,o)=>s-o),a=ht();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(s=>{for(const o of s)o.keys().forEach(l=>{const u=r.get(l);if(u===null)return;let c=n.get(l)||ia.empty();c=o.applyToLocalView(u,c),n.set(l,c);const d=(i.get(o.batchId)||ht()).add(l);i=i.insert(o.batchId,d)})}).next(()=>{const s=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),u=l.key,c=l.value,d=r3();c.forEach(h=>{if(!a.has(h)){const p=l3(r.get(h),n.get(h));p!==null&&d.set(h,p),a=a.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,d))}return le.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(s){return Ve.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):XF(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-a.size):le.resolve(Yl());let o=-1,l=a;return s.next(u=>le.forEach(u,(c,d)=>(o<d.largestBatchId&&(o=d.largestBatchId),a.get(c)?le.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,a)).next(()=>this.computeViews(e,l,u,ht())).next(c=>({batchId:o,changes:t3(c)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Ve(r)).next(n=>{let i=Oh();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const a=r.collectionGroup;let s=Oh();return this.indexManager.getCollectionParents(e,a).next(o=>le.forEach(o,l=>{const u=function(d,h){return new vf(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(r,l.child(a));return this.getDocumentsMatchingCollectionQuery(e,u,n,i).next(c=>{c.forEach((d,h)=>{s=s.insert(d,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,r,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,a,i))).next(s=>{a.forEach((l,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,En.newInvalidDocument(c)))});let o=Oh();return s.forEach((l,u)=>{const c=a.get(l);c!==void 0&&qh(c.mutation,u,ia.empty(),at.now()),gx(r,u)&&(o=o.insert(l,u))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HX{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return le.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:Da(i.createTime)}}(r)),le.resolve()}getNamedQuery(e,r){return le.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,function(i){return{name:i.name,query:FX(i.bundledQuery),readTime:Da(i.readTime)}}(r)),le.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qX{constructor(){this.overlays=new ur(Ve.comparator),this.Ir=new Map}getOverlay(e,r){return le.resolve(this.overlays.get(r))}getOverlays(e,r){const n=Yl();return le.forEach(r,i=>this.getOverlay(e,i).next(a=>{a!==null&&n.set(i,a)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,a)=>{this.ht(e,r,a)}),le.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.Ir.get(n);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Ir.delete(n)),le.resolve()}getOverlaysForCollection(e,r,n){const i=Yl(),a=r.length+1,s=new Ve(r.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const l=o.getNext().value,u=l.getKey();if(!r.isPrefixOf(u.path))break;u.path.length===a&&l.largestBatchId>n&&i.set(l.getKey(),l)}return le.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let a=new ur((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===r&&u.largestBatchId>n){let c=a.get(u.largestBatchId);c===null&&(c=Yl(),a=a.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const o=Yl(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>o.set(u,c)),!(o.size()>=i)););return le.resolve(o)}ht(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const s=this.Ir.get(i.largestBatchId).delete(n.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new mX(r,n));let a=this.Ir.get(r);a===void 0&&(a=ht(),this.Ir.set(r,a)),this.Ir.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KX{constructor(){this.sessionToken=cn.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,le.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(){this.Tr=new ln(qr.Er),this.dr=new ln(qr.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const n=new qr(e,r);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Vr(new qr(e,r))}mr(e,r){e.forEach(n=>this.removeReference(n,r))}gr(e){const r=new Ve(new Zt([])),n=new qr(r,e),i=new qr(r,e+1),a=[];return this.dr.forEachInRange([n,i],s=>{this.Vr(s),a.push(s.key)}),a}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new Ve(new Zt([])),n=new qr(r,e),i=new qr(r,e+1);let a=ht();return this.dr.forEachInRange([n,i],s=>{a=a.add(s.key)}),a}containsKey(e){const r=new qr(e,0),n=this.Tr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class qr{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return Ve.comparator(e.key,r.key)||St(e.wr,r.wr)}static Ar(e,r){return St(e.wr,r.wr)||Ve.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GX{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new ln(qr.Er)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new pX(a,r,n,i);this.mutationQueue.push(s);for(const o of i)this.br=this.br.add(new qr(o.key,a)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return le.resolve(s)}lookupMutationBatch(e,r){return le.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.vr(n),a=i<0?0:i;return le.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new qr(r,0),i=new qr(r,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([n,i],s=>{const o=this.Dr(s.wr);a.push(o)}),le.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new ln(St);return r.forEach(i=>{const a=new qr(i,0),s=new qr(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,s],o=>{n=n.add(o.wr)})}),le.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let a=n;Ve.isDocumentKey(a)||(a=a.child(""));const s=new qr(new Ve(a),0);let o=new ln(St);return this.br.forEachWhile(l=>{const u=l.key.path;return!!n.isPrefixOf(u)&&(u.length===i&&(o=o.add(l.wr)),!0)},s),le.resolve(this.Cr(o))}Cr(e){const r=[];return e.forEach(n=>{const i=this.Dr(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){Rt(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return le.forEach(r.mutations,i=>{const a=new qr(i.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,r){const n=new qr(r,0),i=this.br.firstAfterOrEqual(n);return le.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}Fr(e,r){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YX{constructor(e){this.Mr=e,this.docs=function(){return new ur(Ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),a=i?i.size:0,s=this.Mr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return le.resolve(n?n.document.mutableCopy():En.newInvalidDocument(r))}getEntries(e,r){let n=$s();return r.forEach(i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():En.newInvalidDocument(i))}),le.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let a=$s();const s=r.path,o=new Ve(s.child("")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||NQ(kQ(c),n)<=0||(i.has(c.key)||gx(r,c))&&(a=a.insert(c.key,c.mutableCopy()))}return le.resolve(a)}getAllFromCollectionGroup(e,r,n,i){Ye()}Or(e,r){return le.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new QX(this)}getSize(e){return le.resolve(this.size)}}class QX extends UX{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.cr.addEntry(e,i)):this.cr.removeEntry(n)}),le.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XX{constructor(e){this.persistence=e,this.Nr=new xf(r=>rT(r),nT),this.lastRemoteSnapshotVersion=Xe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new uT,this.targetCount=0,this.kr=Ad.Bn()}forEachTarget(e,r){return this.Nr.forEach((n,i)=>r(i)),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.Lr&&(this.Lr=r),le.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new Ad(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,le.resolve()}updateTargetData(e,r){return this.Kn(r),le.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,r,n){let i=0;const a=[];return this.Nr.forEach((s,o)=>{o.sequenceNumber<=r&&n.get(o.targetId)===null&&(this.Nr.delete(s),a.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),le.waitFor(a).next(()=>i)}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,r){const n=this.Nr.get(r)||null;return le.resolve(n)}addMatchingKeys(e,r,n){return this.Br.Rr(r,n),le.resolve()}removeMatchingKeys(e,r,n){this.Br.mr(r,n);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach(s=>{a.push(i.markPotentiallyOrphaned(e,s))}),le.waitFor(a)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),le.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Br.yr(r);return le.resolve(n)}containsKey(e,r){return le.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZX{constructor(e,r){this.qr={},this.overlays={},this.Qr=new ZA(0),this.Kr=!1,this.Kr=!0,this.$r=new KX,this.referenceDelegate=e(this),this.Ur=new XX(this),this.indexManager=new VX,this.remoteDocumentCache=function(i){return new YX(i)}(n=>this.referenceDelegate.Wr(n)),this.serializer=new LX(r),this.Gr=new HX(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new qX,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.qr[e.toKey()];return n||(n=new GX(r,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,n){Ce("MemoryPersistence","Starting transaction:",e);const i=new JX(this.Qr.next());return this.referenceDelegate.zr(),n(i).next(a=>this.referenceDelegate.jr(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Hr(e,r){return le.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,r)))}}class JX extends RQ{constructor(e){super(),this.currentSequenceNumber=e}}class cT{constructor(e){this.persistence=e,this.Jr=new uT,this.Yr=null}static Zr(e){return new cT(e)}get Xr(){if(this.Yr)return this.Yr;throw Ye()}addReference(e,r,n){return this.Jr.addReference(n,r),this.Xr.delete(n.toString()),le.resolve()}removeReference(e,r,n){return this.Jr.removeReference(n,r),this.Xr.add(n.toString()),le.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),le.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(i=>this.Xr.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(a=>this.Xr.add(a.toString()))}).next(()=>n.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.Xr,n=>{const i=Ve.fromPath(n);return this.ei(e,i).next(a=>{a||r.removeEntry(i,Xe.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(n=>{n?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return le.or([()=>le.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.$i=n,this.Ui=i}static Wi(e,r){let n=ht(),i=ht();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new dT(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eZ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tZ{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return qq()?8:DQ(Tn())>0?6:4}()}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,n,i){const a={result:null};return this.Yi(e,r).next(s=>{a.result=s}).next(()=>{if(!a.result)return this.Zi(e,r,i,n).next(s=>{a.result=s})}).next(()=>{if(a.result)return;const s=new eZ;return this.Xi(e,r,s).next(o=>{if(a.result=o,this.zi)return this.es(e,r,s,o.size)})}).next(()=>a.result)}es(e,r,n,i){return n.documentReadCount<this.ji?(sh()<=yt.DEBUG&&Ce("QueryEngine","SDK will not create cache indexes for query:",mc(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),le.resolve()):(sh()<=yt.DEBUG&&Ce("QueryEngine","Query:",mc(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Hi*i?(sh()<=yt.DEBUG&&Ce("QueryEngine","The SDK decides to create cache indexes for query:",mc(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ra(r))):le.resolve())}Yi(e,r){if(dk(r))return le.resolve(null);let n=Ra(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=xv(r,null,"F"),n=Ra(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(a=>{const s=ht(...a);return this.Ji.getDocuments(e,s).next(o=>this.indexManager.getMinOffset(e,n).next(l=>{const u=this.ts(r,o);return this.ns(r,u,s,l.readTime)?this.Yi(e,xv(r,null,"F")):this.rs(e,u,r,l)}))})))}Zi(e,r,n,i){return dk(r)||i.isEqual(Xe.min())?le.resolve(null):this.Ji.getDocuments(e,n).next(a=>{const s=this.ts(r,a);return this.ns(r,s,n,i)?le.resolve(null):(sh()<=yt.DEBUG&&Ce("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),mc(r)),this.rs(e,s,r,CQ(i,-1)).next(o=>o))})}ts(e,r){let n=new ln(JF(e));return r.forEach((i,a)=>{gx(e,a)&&(n=n.add(a))}),n}ns(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const a=e.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Xi(e,r,n){return sh()<=yt.DEBUG&&Ce("QueryEngine","Using full collection scan to execute query:",mc(r)),this.Ji.getDocumentsMatchingQuery(e,r,sl.min(),n)}rs(e,r,n,i){return this.Ji.getDocumentsMatchingQuery(e,n,i).next(a=>(r.forEach(s=>{a=a.insert(s.key,s)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rZ{constructor(e,r,n,i){this.persistence=e,this.ss=r,this.serializer=i,this.os=new ur(St),this._s=new xf(a=>rT(a),nT),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new WX(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function nZ(t,e,r,n){return new rZ(t,e,r,n)}async function w3(t,e){const r=et(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(a=>(i=a,r.ls(e),r.mutationQueue.getAllMutationBatches(n))).next(a=>{const s=[],o=[];let l=ht();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of a){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return r.localDocuments.getDocuments(n,l).next(u=>({hs:u,removedBatchIds:s,addedBatchIds:o}))})})}function iZ(t,e){const r=et(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),a=r.cs.newChangeBuffer({trackRemovals:!0});return function(o,l,u,c){const d=u.batch,h=d.keys();let p=le.resolve();return h.forEach(g=>{p=p.next(()=>c.getEntry(l,g)).next(y=>{const v=u.docVersions.get(g);Rt(v!==null),y.version.compareTo(v)<0&&(d.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),c.addEntry(y)))})}),p.next(()=>o.mutationQueue.removeMutationBatch(l,d))}(r,n,e,a).next(()=>a.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(o){let l=ht();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(l=l.add(o.batch.mutations[u].key));return l}(e))).next(()=>r.localDocuments.getDocuments(n,i))})}function _3(t){const e=et(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function aZ(t,e){const r=et(t),n=e.snapshotVersion;let i=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const s=r.cs.newChangeBuffer({trackRemovals:!0});i=r.os;const o=[];e.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;o.push(r.Ur.removeMatchingKeys(a,c.removedDocuments,d).next(()=>r.Ur.addMatchingKeys(a,c.addedDocuments,d)));let p=h.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(cn.EMPTY_BYTE_STRING,Xe.min()).withLastLimboFreeSnapshotVersion(Xe.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,n)),i=i.insert(d,p),function(y,v,b){return y.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(h,p,c)&&o.push(r.Ur.updateTargetData(a,p))});let l=$s(),u=ht();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&o.push(r.persistence.referenceDelegate.updateLimboDocument(a,c))}),o.push(sZ(a,s,e.documentUpdates).next(c=>{l=c.Ps,u=c.Is})),!n.isEqual(Xe.min())){const c=r.Ur.getLastRemoteSnapshotVersion(a).next(d=>r.Ur.setTargetsMetadata(a,a.currentSequenceNumber,n));o.push(c)}return le.waitFor(o).next(()=>s.apply(a)).next(()=>r.localDocuments.getLocalViewOfDocuments(a,l,u)).next(()=>l)}).then(a=>(r.os=i,a))}function sZ(t,e,r){let n=ht(),i=ht();return r.forEach(a=>n=n.add(a)),e.getEntries(t,n).next(a=>{let s=$s();return r.forEach((o,l)=>{const u=a.get(o);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(Xe.min())?(e.removeEntry(o,l.readTime),s=s.insert(o,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(o,l)):Ce("LocalStore","Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",l.version)}),{Ps:s,Is:i}})}function oZ(t,e){const r=et(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function lZ(t,e){const r=et(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Ur.getTargetData(n,e).next(a=>a?(i=a,le.resolve(i)):r.Ur.allocateTargetId(n).next(s=>(i=new Lo(e,s,"TargetPurposeListen",n.currentSequenceNumber),r.Ur.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.os.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.os=r.os.insert(n.targetId,n),r._s.set(e,n.targetId)),n})}async function V1(t,e,r){const n=et(t),i=n.os.get(e),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,s=>n.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Bm(s))throw s;Ce("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}n.os=n.os.remove(e),n._s.delete(i.target)}function _k(t,e,r){const n=et(t);let i=Xe.min(),a=ht();return n.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,c){const d=et(l),h=d._s.get(c);return h!==void 0?le.resolve(d.os.get(h)):d.Ur.getTargetData(u,c)}(n,s,Ra(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(s,o.targetId).next(l=>{a=l})}).next(()=>n.ss.getDocumentsMatchingQuery(s,e,r?i:Xe.min(),r?a:ht())).next(o=>(uZ(n,JQ(e),o),{documents:o,Ts:a})))}function uZ(t,e,r){let n=t.us.get(e)||Xe.min();r.forEach((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)}),t.us.set(e,n)}class Ek{constructor(){this.activeTargetIds=aX()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cZ{constructor(){this.so=new Ek,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,n){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Ek,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dZ{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Ce("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Ce("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zy=null;function _w(){return zy===null?zy=function(){return 268435456+Math.round(2147483648*Math.random())}():zy++,"0x"+zy.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fZ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hZ{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vn="WebChannelConnection";class pZ extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const n=r.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+r.host,this.vo=`projects/${i}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${a}`}get Fo(){return!1}Mo(r,n,i,a,s){const o=_w(),l=this.xo(r,n.toUriEncodedString());Ce("RestConnection",`Sending RPC '${r}' ${o}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,a,s),this.No(r,l,u,i).then(c=>(Ce("RestConnection",`Received RPC '${r}' ${o}: `,c),c),c=>{throw wd("RestConnection",`RPC '${r}' ${o} failed with error: `,c,"url: ",l,"request:",i),c})}Lo(r,n,i,a,s,o){return this.Mo(r,n,i,a,s)}Oo(r,n,i){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+yf}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,s)=>r[s]=a),i&&i.headers.forEach((a,s)=>r[s]=a)}xo(r,n){const i=fZ[r];return`${this.Do}/v1/${n}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,n,i){const a=_w();return new Promise((s,o)=>{const l=new DF;l.setWithCredentials(!0),l.listenOnce(MF.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Ag.NO_ERROR:const c=l.getResponseJson();Ce(vn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(c)),s(c);break;case Ag.TIMEOUT:Ce(vn,`RPC '${e}' ${a} timed out`),o(new Se(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Ag.HTTP_ERROR:const d=l.getStatus();if(Ce(vn,`RPC '${e}' ${a} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const p=h==null?void 0:h.error;if(p&&p.status&&p.message){const g=function(v){const b=v.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(b)>=0?b:ne.UNKNOWN}(p.status);o(new Se(g,p.message))}else o(new Se(ne.UNKNOWN,"Server responded with status "+l.getStatus()))}else o(new Se(ne.UNAVAILABLE,"Connection failed."));break;default:Ye()}}finally{Ce(vn,`RPC '${e}' ${a} completed.`)}});const u=JSON.stringify(i);Ce(vn,`RPC '${e}' ${a} sending request:`,i),l.send(r,"POST",u,n,15)})}Bo(e,r,n){const i=_w(),a=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=FF(),o=LF(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const c=a.join("");Ce(vn,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=s.createWebChannel(c,l);let h=!1,p=!1;const g=new hZ({Io:v=>{p?Ce(vn,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(h||(Ce(vn,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),Ce(vn,`RPC '${e}' stream ${i} sending:`,v),d.send(v))},To:()=>d.close()}),y=(v,b,x)=>{v.listen(b,_=>{try{x(_)}catch(O){setTimeout(()=>{throw O},0)}})};return y(d,Ph.EventType.OPEN,()=>{p||(Ce(vn,`RPC '${e}' stream ${i} transport opened.`),g.yo())}),y(d,Ph.EventType.CLOSE,()=>{p||(p=!0,Ce(vn,`RPC '${e}' stream ${i} transport closed`),g.So())}),y(d,Ph.EventType.ERROR,v=>{p||(p=!0,wd(vn,`RPC '${e}' stream ${i} transport errored:`,v),g.So(new Se(ne.UNAVAILABLE,"The operation could not be completed")))}),y(d,Ph.EventType.MESSAGE,v=>{var b;if(!p){const x=v.data[0];Rt(!!x);const _=x,O=_.error||((b=_[0])===null||b===void 0?void 0:b.error);if(O){Ce(vn,`RPC '${e}' stream ${i} received error:`,O);const E=O.status;let P=function(I){const k=Sr[I];if(k!==void 0)return d3(k)}(E),w=O.message;P===void 0&&(P=ne.INTERNAL,w="Unknown error status: "+E+" with message "+O.message),p=!0,g.So(new Se(P,w)),d.close()}else Ce(vn,`RPC '${e}' stream ${i} received:`,x),g.bo(x)}}),y(o,$F.STAT_EVENT,v=>{v.stat===C1.PROXY?Ce(vn,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===C1.NOPROXY&&Ce(vn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.wo()},0),g}}function Ew(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wx(t){return new SX(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E3{constructor(e,r,n=1e3,i=1.5,a=6e4){this.ui=e,this.timerId=r,this.ko=n,this.qo=i,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),i=Math.max(0,r-n);i>0&&Ce("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3{constructor(e,r,n,i,a,s,o,l){this.ui=e,this.Ho=n,this.Jo=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new E3(e,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():r&&r.code===ne.RESOURCE_EXHAUSTED?(Ms(r.toString()),Ms("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(r)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.Yo===r&&this.P_(n,i)},n=>{e(()=>{const i=new Se(ne.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(i)})})}P_(e,r){const n=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{n(()=>this.I_(i))}),this.stream.onMessage(i=>{n(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Ce("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(Ce("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class mZ extends S3{constructor(e,r,n,i,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,s),this.serializer=a}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=PX(this.serializer,e),n=function(a){if(!("targetChange"in a))return Xe.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?Xe.min():s.readTime?Da(s.readTime):Xe.min()}(e);return this.listener.d_(r,n)}A_(e){const r={};r.database=F1(this.serializer),r.addTarget=function(a,s){let o;const l=s.target;if(o=R1(l)?{documents:CX(a,l)}:{query:kX(a,l)._t},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=p3(a,s.resumeToken);const u=M1(a,s.expectedCount);u!==null&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(Xe.min())>0){o.readTime=_v(a,s.snapshotVersion.toTimestamp());const u=M1(a,s.expectedCount);u!==null&&(o.expectedCount=u)}return o}(this.serializer,e);const n=jX(this.serializer,e);n&&(r.labels=n),this.a_(r)}R_(e){const r={};r.database=F1(this.serializer),r.removeTarget=e,this.a_(r)}}class yZ extends S3{constructor(e,r,n,i,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,s),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return Rt(!!e.streamToken),this.lastStreamToken=e.streamToken,Rt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Rt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=IX(e.writeResults,e.commitTime),n=Da(e.commitTime);return this.listener.g_(n,r)}p_(){const e={};e.database=F1(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>OX(this.serializer,n))};this.a_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gZ extends class{}{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Se(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,n,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Mo(e,$1(r,n),i,a,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Se(ne.UNKNOWN,a.toString())})}Lo(e,r,n,i,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Lo(e,$1(r,n),i,s,o,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Se(ne.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class vZ{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ms(r),this.D_=!1):Ce("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xZ{constructor(e,r,n,i,a){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o(s=>{n.enqueueAndForget(async()=>{Yu(this)&&(Ce("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=et(l);u.L_.add(4),await Wm(u),u.q_.set("Unknown"),u.L_.delete(4),await _x(u)}(this))})}),this.q_=new vZ(n,i)}}async function _x(t){if(Yu(t))for(const e of t.B_)await e(!0)}async function Wm(t){for(const e of t.B_)await e(!1)}function A3(t,e){const r=et(t);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),mT(r)?pT(r):bf(r).r_()&&hT(r,e))}function fT(t,e){const r=et(t),n=bf(r);r.N_.delete(e),n.r_()&&T3(r,e),r.N_.size===0&&(n.r_()?n.o_():Yu(r)&&r.q_.set("Unknown"))}function hT(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Xe.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}bf(t).A_(e)}function T3(t,e){t.Q_.xe(e),bf(t).R_(e)}function pT(t){t.Q_=new bX({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),bf(t).start(),t.q_.v_()}function mT(t){return Yu(t)&&!bf(t).n_()&&t.N_.size>0}function Yu(t){return et(t).L_.size===0}function P3(t){t.Q_=void 0}async function bZ(t){t.q_.set("Online")}async function wZ(t){t.N_.forEach((e,r)=>{hT(t,e)})}async function _Z(t,e){P3(t),mT(t)?(t.q_.M_(e),pT(t)):t.q_.set("Unknown")}async function EZ(t,e,r){if(t.q_.set("Online"),e instanceof h3&&e.state===2&&e.cause)try{await async function(i,a){const s=a.cause;for(const o of a.targetIds)i.N_.has(o)&&(await i.remoteSyncer.rejectListen(o,s),i.N_.delete(o),i.Q_.removeTarget(o))}(t,e)}catch(n){Ce("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Ev(t,n)}else if(e instanceof Og?t.Q_.Ke(e):e instanceof f3?t.Q_.He(e):t.Q_.We(e),!r.isEqual(Xe.min()))try{const n=await _3(t.localStore);r.compareTo(n)>=0&&await function(a,s){const o=a.Q_.rt(s);return o.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=a.N_.get(u);c&&a.N_.set(u,c.withResumeToken(l.resumeToken,s))}}),o.targetMismatches.forEach((l,u)=>{const c=a.N_.get(l);if(!c)return;a.N_.set(l,c.withResumeToken(cn.EMPTY_BYTE_STRING,c.snapshotVersion)),T3(a,l);const d=new Lo(c.target,l,u,c.sequenceNumber);hT(a,d)}),a.remoteSyncer.applyRemoteEvent(o)}(t,r)}catch(n){Ce("RemoteStore","Failed to raise snapshot:",n),await Ev(t,n)}}async function Ev(t,e,r){if(!Bm(e))throw e;t.L_.add(1),await Wm(t),t.q_.set("Offline"),r||(r=()=>_3(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ce("RemoteStore","Retrying IndexedDB access"),await r(),t.L_.delete(1),await _x(t)})}function O3(t,e){return e().catch(r=>Ev(t,r,e))}async function Ex(t){const e=et(t),r=ll(e);let n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;SZ(e);)try{const i=await oZ(e.localStore,n);if(i===null){e.O_.length===0&&r.o_();break}n=i.batchId,AZ(e,i)}catch(i){await Ev(e,i)}I3(e)&&C3(e)}function SZ(t){return Yu(t)&&t.O_.length<10}function AZ(t,e){t.O_.push(e);const r=ll(t);r.r_()&&r.V_&&r.m_(e.mutations)}function I3(t){return Yu(t)&&!ll(t).n_()&&t.O_.length>0}function C3(t){ll(t).start()}async function TZ(t){ll(t).p_()}async function PZ(t){const e=ll(t);for(const r of t.O_)e.m_(r.mutations)}async function OZ(t,e,r){const n=t.O_.shift(),i=sT.from(n,e,r);await O3(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Ex(t)}async function IZ(t,e){e&&ll(t).V_&&await async function(n,i){if(function(s){return gX(s)&&s!==ne.ABORTED}(i.code)){const a=n.O_.shift();ll(n).s_(),await O3(n,()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i)),await Ex(n)}}(t,e),I3(t)&&C3(t)}async function Ak(t,e){const r=et(t);r.asyncQueue.verifyOperationInProgress(),Ce("RemoteStore","RemoteStore received new credentials");const n=Yu(r);r.L_.add(3),await Wm(r),n&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),await _x(r)}async function CZ(t,e){const r=et(t);e?(r.L_.delete(2),await _x(r)):e||(r.L_.add(2),await Wm(r),r.q_.set("Unknown"))}function bf(t){return t.K_||(t.K_=function(r,n,i){const a=et(r);return a.w_(),new mZ(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Eo:bZ.bind(null,t),Ro:wZ.bind(null,t),mo:_Z.bind(null,t),d_:EZ.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),mT(t)?pT(t):t.q_.set("Unknown")):(await t.K_.stop(),P3(t))})),t.K_}function ll(t){return t.U_||(t.U_=function(r,n,i){const a=et(r);return a.w_(),new yZ(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:TZ.bind(null,t),mo:IZ.bind(null,t),f_:PZ.bind(null,t),g_:OZ.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Ex(t)):(await t.U_.stop(),t.O_.length>0&&(Ce("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(e,r,n,i,a){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new Ss,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,a){const s=Date.now()+n,o=new yT(e,r,s,i,a);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Se(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gT(t,e){if(Ms("AsyncQueue",`${e}: ${t}`),Bm(t))return new Se(ne.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e){this.comparator=e?(r,n)=>e(r,n)||Ve.comparator(r.key,n.key):(r,n)=>Ve.comparator(r.key,n.key),this.keyedMap=Oh(),this.sortedSet=new ur(this.comparator)}static emptySet(e){return new Kc(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Kc)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new Kc;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(){this.W_=new ur(Ve.comparator)}track(e){const r=e.doc.key,n=this.W_.get(r);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(r,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(r):e.type===1&&n.type===2?this.W_=this.W_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):Ye():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,n)=>{e.push(n)}),e}}class Td{constructor(e,r,n,i,a,s,o,l,u){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,r,n,i,a){const s=[];return r.forEach(o=>{s.push({type:0,doc:o})}),new Td(e,r,Kc.emptySet(r),s,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yx(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kZ{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class NZ{constructor(){this.queries=Pk(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,n){const i=et(r),a=i.queries;i.queries=Pk(),a.forEach((s,o)=>{for(const l of o.j_)l.onError(n)})})(this,new Se(ne.ABORTED,"Firestore shutting down"))}}function Pk(){return new xf(t=>ZF(t),yx)}async function k3(t,e){const r=et(t);let n=3;const i=e.query;let a=r.queries.get(i);a?!a.H_()&&e.J_()&&(n=2):(a=new kZ,n=e.J_()?0:1);try{switch(n){case 0:a.z_=await r.onListen(i,!0);break;case 1:a.z_=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(s){const o=gT(s,`Initialization of query '${mc(e.query)}' failed`);return void e.onError(o)}r.queries.set(i,a),a.j_.push(e),e.Z_(r.onlineState),a.z_&&e.X_(a.z_)&&vT(r)}async function N3(t,e){const r=et(t),n=e.query;let i=3;const a=r.queries.get(n);if(a){const s=a.j_.indexOf(e);s>=0&&(a.j_.splice(s,1),a.j_.length===0?i=e.J_()?0:1:!a.H_()&&e.J_()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function jZ(t,e){const r=et(t);let n=!1;for(const i of e){const a=i.query,s=r.queries.get(a);if(s){for(const o of s.j_)o.X_(i)&&(n=!0);s.z_=i}}n&&vT(r)}function RZ(t,e,r){const n=et(t),i=n.queries.get(e);if(i)for(const a of i.j_)a.onError(r);n.queries.delete(e)}function vT(t){t.Y_.forEach(e=>{e.next()})}var B1,Ok;(Ok=B1||(B1={})).ea="default",Ok.Cache="cache";class j3{constructor(e,r,n){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new Td(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){if(!e.fromCache||!this.J_())return!0;const n=r!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(e){e=Td.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==B1.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{constructor(e){this.key=e}}class D3{constructor(e){this.key=e}}class DZ{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ht(),this.mutatedKeys=ht(),this.Aa=JF(e),this.Ra=new Kc(this.Aa)}get Va(){return this.Ta}ma(e,r){const n=r?r.fa:new Tk,i=r?r.Ra:this.Ra;let a=r?r.mutatedKeys:this.mutatedKeys,s=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),p=gx(this.query,d)?d:null,g=!!h&&this.mutatedKeys.has(h.key),y=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let v=!1;h&&p?h.data.isEqual(p.data)?g!==y&&(n.track({type:3,doc:p}),v=!0):this.ga(h,p)||(n.track({type:2,doc:p}),v=!0,(l&&this.Aa(p,l)>0||u&&this.Aa(p,u)<0)&&(o=!0)):!h&&p?(n.track({type:0,doc:p}),v=!0):h&&!p&&(n.track({type:1,doc:h}),v=!0,(l||u)&&(o=!0)),v&&(p?(s=s.add(p),a=y?a.add(c):a.delete(c)):(s=s.delete(c),a=a.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),a=a.delete(c.key),n.track({type:1,doc:c})}return{Ra:s,fa:n,ns:o,mutatedKeys:a}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const a=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((c,d)=>function(p,g){const y=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ye()}};return y(p)-y(g)}(c.type,d.type)||this.Aa(c.doc,d.doc)),this.pa(n),i=i!=null&&i;const o=r&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,s.length!==0||u?{snapshot:new Td(this.query,e.Ra,a,s,e.mutatedKeys,l===0,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:o}:{wa:o}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Tk,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ht(),this.Ra.forEach(n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))});const r=[];return e.forEach(n=>{this.da.has(n)||r.push(new D3(n))}),this.da.forEach(n=>{e.has(n)||r.push(new R3(n))}),r}ba(e){this.Ta=e.Ts,this.da=ht();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return Td.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class MZ{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class $Z{constructor(e){this.key=e,this.va=!1}}class LZ{constructor(e,r,n,i,a,s){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new xf(o=>ZF(o),yx),this.Ma=new Map,this.xa=new Set,this.Oa=new ur(Ve.comparator),this.Na=new Map,this.La=new uT,this.Ba={},this.ka=new Map,this.qa=Ad.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function FZ(t,e,r=!0){const n=B3(t);let i;const a=n.Fa.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Da()):i=await M3(n,e,r,!0),i}async function VZ(t,e){const r=B3(t);await M3(r,e,!0,!1)}async function M3(t,e,r,n){const i=await lZ(t.localStore,Ra(e)),a=i.targetId,s=t.sharedClientState.addLocalQueryTarget(a,r);let o;return n&&(o=await BZ(t,e,a,s==="current",i.resumeToken)),t.isPrimaryClient&&r&&A3(t.remoteStore,i),o}async function BZ(t,e,r,n,i){t.Ka=(d,h,p)=>async function(y,v,b,x){let _=v.view.ma(b);_.ns&&(_=await _k(y.localStore,v.query,!1).then(({documents:w})=>v.view.ma(w,_)));const O=x&&x.targetChanges.get(v.targetId),E=x&&x.targetMismatches.get(v.targetId)!=null,P=v.view.applyChanges(_,y.isPrimaryClient,O,E);return Ck(y,v.targetId,P.wa),P.snapshot}(t,d,h,p);const a=await _k(t.localStore,e,!0),s=new DZ(e,a.Ts),o=s.ma(a.documents),l=zm.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),u=s.applyChanges(o,t.isPrimaryClient,l);Ck(t,r,u.wa);const c=new MZ(e,r,s);return t.Fa.set(e,c),t.Ma.has(r)?t.Ma.get(r).push(e):t.Ma.set(r,[e]),u.snapshot}async function UZ(t,e,r){const n=et(t),i=n.Fa.get(e),a=n.Ma.get(i.targetId);if(a.length>1)return n.Ma.set(i.targetId,a.filter(s=>!yx(s,e))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await V1(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&fT(n.remoteStore,i.targetId),U1(n,i.targetId)}).catch(Vm)):(U1(n,i.targetId),await V1(n.localStore,i.targetId,!0))}async function zZ(t,e){const r=et(t),n=r.Fa.get(e),i=r.Ma.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),fT(r.remoteStore,n.targetId))}async function WZ(t,e,r){const n=XZ(t);try{const i=await function(s,o){const l=et(s),u=at.now(),c=o.reduce((p,g)=>p.add(g.key),ht());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=$s(),y=ht();return l.cs.getEntries(p,c).next(v=>{g=v,g.forEach((b,x)=>{x.isValidDocument()||(y=y.add(b))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,g)).next(v=>{d=v;const b=[];for(const x of o){const _=fX(x,d.get(x.key).overlayedDocument);_!=null&&b.push(new Gu(x.key,_,WF(_.value.mapValue),As.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,b,o)}).next(v=>{h=v;const b=v.applyToLocalDocumentSet(d,y);return l.documentOverlayCache.saveOverlays(p,v.batchId,b)})}).then(()=>({batchId:h.batchId,changes:t3(d)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(s,o,l){let u=s.Ba[s.currentUser.toKey()];u||(u=new ur(St)),u=u.insert(o,l),s.Ba[s.currentUser.toKey()]=u}(n,i.batchId,r),await Hm(n,i.changes),await Ex(n.remoteStore)}catch(i){const a=gT(i,"Failed to persist write");r.reject(a)}}async function $3(t,e){const r=et(t);try{const n=await aZ(r.localStore,e);e.targetChanges.forEach((i,a)=>{const s=r.Na.get(a);s&&(Rt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?Rt(s.va):i.removedDocuments.size>0&&(Rt(s.va),s.va=!1))}),await Hm(r,n,e)}catch(n){await Vm(n)}}function Ik(t,e,r){const n=et(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Fa.forEach((a,s)=>{const o=s.view.Z_(e);o.snapshot&&i.push(o.snapshot)}),function(s,o){const l=et(s);l.onlineState=o;let u=!1;l.queries.forEach((c,d)=>{for(const h of d.j_)h.Z_(o)&&(u=!0)}),u&&vT(l)}(n.eventManager,e),i.length&&n.Ca.d_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function HZ(t,e,r){const n=et(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Na.get(e),a=i&&i.key;if(a){let s=new ur(Ve.comparator);s=s.insert(a,En.newNoDocument(a,Xe.min()));const o=ht().add(a),l=new bx(Xe.min(),new Map,new ur(St),s,o);await $3(n,l),n.Oa=n.Oa.remove(a),n.Na.delete(e),xT(n)}else await V1(n.localStore,e,!1).then(()=>U1(n,e,r)).catch(Vm)}async function qZ(t,e){const r=et(t),n=e.batch.batchId;try{const i=await iZ(r.localStore,e);F3(r,n,null),L3(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Hm(r,i)}catch(i){await Vm(i)}}async function KZ(t,e,r){const n=et(t);try{const i=await function(s,o){const l=et(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,o).next(d=>(Rt(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(n.localStore,e);F3(n,e,r),L3(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await Hm(n,i)}catch(i){await Vm(i)}}function L3(t,e){(t.ka.get(e)||[]).forEach(r=>{r.resolve()}),t.ka.delete(e)}function F3(t,e,r){const n=et(t);let i=n.Ba[n.currentUser.toKey()];if(i){const a=i.get(e);a&&(r?a.reject(r):a.resolve(),i=i.remove(e)),n.Ba[n.currentUser.toKey()]=i}}function U1(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Ma.get(e))t.Fa.delete(n),r&&t.Ca.$a(n,r);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(n=>{t.La.containsKey(n)||V3(t,n)})}function V3(t,e){t.xa.delete(e.path.canonicalString());const r=t.Oa.get(e);r!==null&&(fT(t.remoteStore,r),t.Oa=t.Oa.remove(e),t.Na.delete(r),xT(t))}function Ck(t,e,r){for(const n of r)n instanceof R3?(t.La.addReference(n.key,e),GZ(t,n)):n instanceof D3?(Ce("SyncEngine","Document no longer in limbo: "+n.key),t.La.removeReference(n.key,e),t.La.containsKey(n.key)||V3(t,n.key)):Ye()}function GZ(t,e){const r=e.key,n=r.path.canonicalString();t.Oa.get(r)||t.xa.has(n)||(Ce("SyncEngine","New document in limbo: "+r),t.xa.add(n),xT(t))}function xT(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const r=new Ve(Zt.fromString(e)),n=t.qa.next();t.Na.set(n,new $Z(r)),t.Oa=t.Oa.insert(r,n),A3(t.remoteStore,new Lo(Ra(iT(r.path)),n,"TargetPurposeLimboResolution",ZA.oe))}}async function Hm(t,e,r){const n=et(t),i=[],a=[],s=[];n.Fa.isEmpty()||(n.Fa.forEach((o,l)=>{s.push(n.Ka(l,e,r).then(u=>{var c;if((u||r)&&n.isPrimaryClient){const d=u?!u.fromCache:(c=r==null?void 0:r.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;n.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){i.push(u);const d=dT.Wi(l.targetId,u);a.push(d)}}))}),await Promise.all(s),n.Ca.d_(i),await async function(l,u){const c=et(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>le.forEach(u,h=>le.forEach(h.$i,p=>c.persistence.referenceDelegate.addReference(d,h.targetId,p)).next(()=>le.forEach(h.Ui,p=>c.persistence.referenceDelegate.removeReference(d,h.targetId,p)))))}catch(d){if(!Bm(d))throw d;Ce("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const h=d.targetId;if(!d.fromCache){const p=c.os.get(h),g=p.snapshotVersion,y=p.withLastLimboFreeSnapshotVersion(g);c.os=c.os.insert(h,y)}}}(n.localStore,a))}async function YZ(t,e){const r=et(t);if(!r.currentUser.isEqual(e)){Ce("SyncEngine","User change. New user:",e.toKey());const n=await w3(r.localStore,e);r.currentUser=e,function(a,s){a.ka.forEach(o=>{o.forEach(l=>{l.reject(new Se(ne.CANCELLED,s))})}),a.ka.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Hm(r,n.hs)}}function QZ(t,e){const r=et(t),n=r.Na.get(e);if(n&&n.va)return ht().add(n.key);{let i=ht();const a=r.Ma.get(e);if(!a)return i;for(const s of a){const o=r.Fa.get(s);i=i.unionWith(o.view.Va)}return i}}function B3(t){const e=et(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=$3.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=QZ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=HZ.bind(null,e),e.Ca.d_=jZ.bind(null,e.eventManager),e.Ca.$a=RZ.bind(null,e.eventManager),e}function XZ(t){const e=et(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=qZ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=KZ.bind(null,e),e}class Sv{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wx(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,r){return null}Ha(e,r){return null}za(e){return nZ(this.persistence,new tZ,e.initialUser,this.serializer)}Ga(e){return new ZX(cT.Zr,this.serializer)}Wa(e){return new cZ}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Sv.provider={build:()=>new Sv};class z1{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>Ik(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=YZ.bind(null,this.syncEngine),await CZ(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new NZ}()}createDatastore(e){const r=wx(e.databaseInfo.databaseId),n=function(a){return new pZ(a)}(e.databaseInfo);return function(a,s,o,l){return new gZ(a,s,o,l)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,a,s,o){return new xZ(n,i,a,s,o)}(this.localStore,this.datastore,e.asyncQueue,r=>Ik(this.syncEngine,r,0),function(){return Sk.D()?new Sk:new dZ}())}createSyncEngine(e,r){return function(i,a,s,o,l,u,c){const d=new LZ(i,a,s,o,l,u);return c&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const a=et(i);Ce("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await Wm(a),a.k_.shutdown(),a.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}z1.provider={build:()=>new z1};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Ms("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZZ{constructor(e,r,n,i,a){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=wn.UNAUTHENTICATED,this.clientId=BF.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,async s=>{Ce("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(n,s=>(Ce("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ss;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=gT(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Sw(t,e){t.asyncQueue.verifyOperationInProgress(),Ce("FirestoreClient","Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await w3(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function kk(t,e){t.asyncQueue.verifyOperationInProgress();const r=await JZ(t);Ce("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>Ak(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>Ak(e.remoteStore,i)),t._onlineComponents=e}async function JZ(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ce("FirestoreClient","Using user provided OfflineComponentProvider");try{await Sw(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(i){return i.name==="FirebaseError"?i.code===ne.FAILED_PRECONDITION||i.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;wd("Error using user provided cache. Falling back to memory cache: "+r),await Sw(t,new Sv)}}else Ce("FirestoreClient","Using default OfflineComponentProvider"),await Sw(t,new Sv);return t._offlineComponents}async function z3(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ce("FirestoreClient","Using user provided OnlineComponentProvider"),await kk(t,t._uninitializedComponentsProvider._online)):(Ce("FirestoreClient","Using default OnlineComponentProvider"),await kk(t,new z1))),t._onlineComponents}function eJ(t){return z3(t).then(e=>e.syncEngine)}async function W3(t){const e=await z3(t),r=e.eventManager;return r.onListen=FZ.bind(null,e.syncEngine),r.onUnlisten=UZ.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=VZ.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=zZ.bind(null,e.syncEngine),r}function tJ(t,e,r={}){const n=new Ss;return t.asyncQueue.enqueueAndForget(async()=>function(a,s,o,l,u){const c=new U3({next:h=>{c.Za(),s.enqueueAndForget(()=>N3(a,d));const p=h.docs.has(o);!p&&h.fromCache?u.reject(new Se(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&l&&l.source==="server"?u.reject(new Se(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new j3(iT(o.path),c,{includeMetadataChanges:!0,_a:!0});return k3(a,d)}(await W3(t),t.asyncQueue,e,r,n)),n.promise}function rJ(t,e,r={}){const n=new Ss;return t.asyncQueue.enqueueAndForget(async()=>function(a,s,o,l,u){const c=new U3({next:h=>{c.Za(),s.enqueueAndForget(()=>N3(a,d)),h.fromCache&&l.source==="server"?u.reject(new Se(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new j3(o,c,{includeMetadataChanges:!0,_a:!0});return k3(a,d)}(await W3(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H3(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nk=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q3(t,e,r){if(!r)throw new Se(ne.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function nJ(t,e,r,n){if(e===!0&&n===!0)throw new Se(ne.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function jk(t){if(!Ve.isDocumentKey(t))throw new Se(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Rk(t){if(Ve.isDocumentKey(t))throw new Se(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Sx(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ye()}function ju(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Se(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Sx(t);throw new Se(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new Se(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Se(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}nJ("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=H3((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Se(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Se(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Se(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ax{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Dk({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Se(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Se(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Dk(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new wQ;switch(n.type){case"firstParty":return new AQ(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Se(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=Nk.get(r);n&&(Ce("ComponentProvider","Removing Datastore"),Nk.delete(r),n.terminate())}(this),Promise.resolve()}}function iJ(t,e,r,n={}){var i;const a=(t=ju(t,Ax))._getSettings(),s=`${e}:${r}`;if(a.host!=="firestore.googleapis.com"&&a.host!==s&&wd("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},a),{host:s,ssl:!1})),n.mockUserToken){let o,l;if(typeof n.mockUserToken=="string")o=n.mockUserToken,l=wn.MOCK_USER;else{o=Fq(n.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=n.mockUserToken.sub||n.mockUserToken.user_id;if(!u)throw new Se(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new wn(u)}t._authCredentials=new _Q(new VF(o,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new vl(this.firestore,e,this._query)}}class ti{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new el(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ti(this.firestore,e,this._key)}}class el extends vl{constructor(e,r,n){super(e,r,iT(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ti(this.firestore,null,new Ve(e))}withConverter(e){return new el(this.firestore,e,this._path)}}function yr(t,e,...r){if(t=Fn(t),q3("collection","path",e),t instanceof Ax){const n=Zt.fromString(e,...r);return Rk(n),new el(t,null,n)}{if(!(t instanceof ti||t instanceof el))throw new Se(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Zt.fromString(e,...r));return Rk(n),new el(t.firestore,null,n)}}function Ua(t,e,...r){if(t=Fn(t),arguments.length===1&&(e=BF.newId()),q3("doc","path",e),t instanceof Ax){const n=Zt.fromString(e,...r);return jk(n),new ti(t,null,new Ve(n))}{if(!(t instanceof ti||t instanceof el))throw new Se(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Zt.fromString(e,...r));return jk(n),new ti(t.firestore,t instanceof el?t.converter:null,new Ve(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new E3(this,"async_queue_retry"),this.Vu=()=>{const n=Ew();n&&Ce("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;const r=Ew();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=Ew();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new Ss;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Bm(e))throw e;Ce("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(n=>{this.Eu=n,this.du=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(n);throw Ms("INTERNAL UNHANDLED ERROR: ",i),n}).then(n=>(this.du=!1,n))));return this.mu=r,r}enqueueAfterDelay(e,r,n){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const i=yT.createAndSchedule(this,e,r,n,a=>this.yu(a));return this.Tu.push(i),i}fu(){this.Eu&&Ye()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}class Tx extends Ax{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new Mk,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Mk(e),this._firestoreClient=void 0,await e}}}function aJ(t,e){const r=typeof t=="object"?t:QL(),n=typeof t=="string"?t:"(default)",i=BA(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=$q("firestore");a&&iJ(i,...a)}return i}function bT(t){if(t._terminated)throw new Se(ne.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||sJ(t),t._firestoreClient}function sJ(t){var e,r,n;const i=t._freezeSettings(),a=function(o,l,u,c){return new LQ(o,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,H3(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new ZZ(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pd(cn.fromBase64String(e))}catch(r){throw new Se(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Pd(cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new Se(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Se(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Se(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return St(this._lat,e._lat)||St(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oJ=/^__.*__$/;class lJ{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new Gu(e,this.data,this.fieldMask,r,this.fieldTransforms):new Um(e,this.data,r,this.fieldTransforms)}}function G3(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ye()}}class ST{constructor(e,r,n,i,a,s){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new ST(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.Ou(e),i}Nu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Av(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(G3(this.Cu)&&oJ.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class uJ{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||wx(e)}Qu(e,r,n,i=!1){return new ST({Cu:e,methodName:r,qu:n,path:sn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Y3(t){const e=t._freezeSettings(),r=wx(t._databaseId);return new uJ(t._databaseId,!!e.ignoreUndefinedProperties,r)}function cJ(t,e,r,n,i,a={}){const s=t.Qu(a.merge||a.mergeFields?2:0,e,r,i);Z3("Data must be an object, but it was:",s,n);const o=Q3(n,s);let l,u;if(a.merge)l=new ia(s.fieldMask),u=s.fieldTransforms;else if(a.mergeFields){const c=[];for(const d of a.mergeFields){const h=fJ(e,d,r);if(!s.contains(h))throw new Se(ne.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);pJ(c,h)||c.push(h)}l=new ia(c),u=s.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=s.fieldTransforms;return new lJ(new ki(o),l,u)}function dJ(t,e,r,n=!1){return AT(r,t.Qu(n?4:3,e))}function AT(t,e){if(X3(t=Fn(t)))return Z3("Unsupported field value:",e,t),Q3(t,e);if(t instanceof K3)return function(n,i){if(!G3(i.Cu))throw i.Bu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(n,i){const a=[];let s=0;for(const o of n){let l=AT(o,i.Lu(s));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),s++}return{arrayValue:{values:a}}}(t,e)}return function(n,i){if((n=Fn(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return sX(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=at.fromDate(n);return{timestampValue:_v(i.serializer,a)}}if(n instanceof at){const a=new at(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:_v(i.serializer,a)}}if(n instanceof _T)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Pd)return{bytesValue:p3(i.serializer,n._byteString)};if(n instanceof ti){const a=i.databaseId,s=n.firestore._databaseId;if(!s.isEqual(a))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:lT(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof ET)return function(s,o){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw o.Bu("VectorValues must only contain numeric values.");return aT(o.serializer,l)})}}}}}}(n,i);throw i.Bu(`Unsupported field value: ${Sx(n)}`)}(t,e)}function Q3(t,e){const r={};return UF(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):gf(t,(n,i)=>{const a=AT(i,e.Mu(n));a!=null&&(r[n]=a)}),{mapValue:{fields:r}}}function X3(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof at||t instanceof _T||t instanceof Pd||t instanceof ti||t instanceof K3||t instanceof ET)}function Z3(t,e,r){if(!X3(r)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(r)){const n=Sx(r);throw n==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+n)}}function fJ(t,e,r){if((e=Fn(e))instanceof wT)return e._internalPath;if(typeof e=="string")return J3(t,e);throw Av("Field path arguments must be of type string or ",t,!1,void 0,r)}const hJ=new RegExp("[~\\*/\\[\\]]");function J3(t,e,r){if(e.search(hJ)>=0)throw Av(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new wT(...e.split("."))._internalPath}catch{throw Av(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function Av(t,e,r,n,i){const a=n&&!n.isEmpty(),s=i!==void 0;let o=`Function ${e}() called with invalid data`;r&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(a||s)&&(l+=" (found",a&&(l+=` in field ${n}`),s&&(l+=` in document ${i}`),l+=")"),new Se(ne.INVALID_ARGUMENT,o+t+l)}function pJ(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e5{constructor(e,r,n,i,a){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new ti(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new mJ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Px("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class mJ extends e5{data(){return super.data()}}function Px(t,e){return typeof e=="string"?J3(t,e):e instanceof wT?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yJ(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Se(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class TT{}class PT extends TT{}function mr(t,e,...r){let n=[];e instanceof TT&&n.push(e),n=n.concat(r),function(a){const s=a.filter(l=>l instanceof OT).length,o=a.filter(l=>l instanceof Ox).length;if(s>1||s>0&&o>0)throw new Se(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)t=i._apply(t);return t}class Ox extends PT{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new Ox(e,r,n)}_apply(e){const r=this._parse(e);return r5(e._query,r),new vl(e.firestore,e.converter,D1(e._query,r))}_parse(e){const r=Y3(e.firestore);return function(a,s,o,l,u,c,d){let h;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new Se(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){Lk(d,c);const p=[];for(const g of d)p.push($k(l,a,g));h={arrayValue:{values:p}}}else h=$k(l,a,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||Lk(d,c),h=dJ(o,s,d,c==="in"||c==="not-in");return Ir.create(u,c,h)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function kt(t,e,r){const n=e,i=Px("where",t);return Ox._create(i,n,r)}class OT extends TT{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new OT(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:fa.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(i,a){let s=i;const o=a.getFlattenedFilters();for(const l of o)r5(s,l),s=D1(s,l)}(e._query,r),new vl(e.firestore,e.converter,D1(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class IT extends PT{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new IT(e,r)}_apply(e){const r=function(i,a,s){if(i.startAt!==null)throw new Se(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Se(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Np(a,s)}(e._query,this._field,this._direction);return new vl(e.firestore,e.converter,function(i,a){const s=i.explicitOrderBy.concat([a]);return new vf(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}function pa(t,e="asc"){const r=e,n=Px("orderBy",t);return IT._create(n,r)}class CT extends PT{constructor(e,r,n){super(),this.type=e,this._limit=r,this._limitType=n}static _create(e,r,n){return new CT(e,r,n)}_apply(e){return new vl(e.firestore,e.converter,xv(e._query,this._limit,this._limitType))}}function t5(t){return CT._create("limit",t,"F")}function $k(t,e,r){if(typeof(r=Fn(r))=="string"){if(r==="")throw new Se(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!XF(e)&&r.indexOf("/")!==-1)throw new Se(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(Zt.fromString(r));if(!Ve.isDocumentKey(n))throw new Se(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return ak(t,new Ve(n))}if(r instanceof ti)return ak(t,r._key);throw new Se(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Sx(r)}.`)}function Lk(t,e){if(!Array.isArray(t)||t.length===0)throw new Se(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function r5(t,e){const r=function(i,a){for(const s of i)for(const o of s.getFlattenedFilters())if(a.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new Se(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Se(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class gJ{convertValue(e,r="none"){switch(Nu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(ku(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Ye()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return gf(e,(i,a)=>{n[i]=this.convertValue(a,r)}),n}convertVectorValue(e){var r,n,i;const a=(i=(n=(r=e.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(s=>gr(s.doubleValue));return new ET(a)}convertGeoPoint(e){return new _T(gr(e.latitude),gr(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=eT(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Ip(e));default:return null}}convertTimestamp(e){const r=ol(e);return new at(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=Zt.fromString(e);Rt(b3(n));const i=new Cp(n.get(1),n.get(3)),a=new Ve(n.popFirst(5));return i.isEqual(r)||Ms(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vJ(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class n5 extends e5{constructor(e,r,n,i,a,s){super(e,r,n,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Ig(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(Px("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class Ig extends n5{data(e={}){return super.data(e)}}class xJ{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new Ch(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new Ig(this._firestore,this._userDataWriter,n.key,n,new Ch(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Se(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(o=>{const l=new Ig(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Ch(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>a||o.type!==3).map(o=>{const l=new Ig(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Ch(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return o.type!==0&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:bJ(o.type),doc:l,oldIndex:u,newIndex:c}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function bJ(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ye()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W1(t){t=ju(t,ti);const e=ju(t.firestore,Tx);return tJ(bT(e),t._key).then(r=>_J(e,t,r))}class i5 extends gJ{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pd(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new ti(this.firestore,null,r)}}function On(t){t=ju(t,vl);const e=ju(t.firestore,Tx),r=bT(e),n=new i5(e);return yJ(t._query),rJ(r,t._query).then(i=>new xJ(e,n,t,i))}function Qu(t,e,r){t=ju(t,ti);const n=ju(t.firestore,Tx),i=vJ(t.converter,e,r);return wJ(n,[cJ(Y3(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,As.none())])}function wJ(t,e){return function(n,i){const a=new Ss;return n.asyncQueue.enqueueAndForget(async()=>WZ(await eJ(n),i,a)),a.promise}(bT(t),e)}function _J(t,e,r){const n=r.docs.get(e._key),i=new i5(t);return new n5(t,i,e._key,n,new Ch(r.hasPendingWrites,r.fromCache),e.converter)}(function(e,r=!0){(function(i){yf=i})(hf),xd(new Ou("firestore",(n,{instanceIdentifier:i,options:a})=>{const s=n.getProvider("app").getImmediate(),o=new Tx(new EQ(n.getProvider("auth-internal")),new PQ(n.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Se(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cp(u.options.projectId,c)}(s,i),s);return a=Object.assign({useFetchStreams:r},a),o._setSettings(a),o},"PUBLIC").setMultipleInstances(!0)),Zo(ek,"4.7.3",e),Zo(ek,"4.7.3","esm2017")})();const EJ={apiKey:"AIzaSyC-ls1TrvSkrw71KqmB_kHYgPoj0H550a8",authDomain:"madas-store.firebaseapp.com",projectId:"madas-store",storageBucket:"madas-store.firebasestorage.app",messagingSenderId:"527071300010",appId:"1:527071300010:web:7470e2204065b4590583d3",measurementId:"G-NQVR1F4N3Q"},a5=IC().length?IC()[0]:YL(EJ),qt=aJ(a5),Tv=xQ(a5),s5=T.createContext(void 0),SJ="madas_finance_tenant",AJ=({children:t})=>{const[e,r]=T.useState({workspaceId:"",orgId:"",loading:!0});T.useEffect(()=>{const i=_F(Tv,async a=>{var s;if(!a){r(o=>({...o,loading:!1}));return}try{const l=(await a.getIdTokenResult()).claims,u=l.superAdmin===!0||l.role==="super_admin",c=l.workspaceId||void 0||"",d=l.orgId||void 0||"";if(!c||!d){console.warn("[DIGIX Finance] No tenant IDs found in token claims or env vars. Super admin:",u),r(g=>({...g,loading:!1,isSuperAdmin:u}));return}let h="Organization";try{const g=Ua(qt,"workspaces",c,"organizations",d),y=await W1(g);y.exists()&&(h=((s=y.data())==null?void 0:s.name)??"Organization")}catch{console.warn("[DIGIX Finance] Could not fetch org name, using default")}const p={workspaceId:c,orgId:d,tenantName:h,loading:!1,isSuperAdmin:u};localStorage.setItem(SJ,JSON.stringify(p)),r(p)}catch(o){console.error("[DIGIX Finance] Failed to resolve tenant context",o),r(l=>({...l,loading:!1}))}});return()=>i()},[]);const n=T.useMemo(()=>e,[e]);return m.jsx(s5.Provider,{value:n,children:t})},fn=()=>{const t=T.useContext(s5);if(!t)throw new Error("useTenant must be used within TenantProvider");return t},o5=T.createContext(void 0),xn={VIEW:"finance_view",DEPOSIT:"finance_deposit",EXPENSES:"finance_expenses",REPORTS:"finance_reports",INSIGHTS:"finance_insights",SHARES:"finance_shares",TRANSACTIONS:"finance_view",PAYMENTS:"finance_deposit",ACCOUNTS:"finance_view",BUDGETS:"finance_reports",TAXES:"finance_reports",CAPITAL:"finance_view",SETTINGS:"finance_view",AUDIT:"finance_view"},TJ=({children:t})=>{const{workspaceId:e,orgId:r,isSuperAdmin:n}=fn(),[i,a]=T.useState([]),[s,o]=T.useState(!0);T.useEffect(()=>{const h=_F(Tv,async p=>{var g;if(!p||!e||!r){a([]),o(!1);return}if(n){a(Object.values(xn)),o(!1);return}try{let y=e,v=null;const b=Ua(qt,"businesses",e),x=await W1(b);if(x.exists())v=x.data();else{const O=await On(mr(yr(qt,"businesses"),kt("owner.userId","==",p.uid)));O.empty||(y=O.docs[0].id,v=O.docs[0].data())}let _=[];if(v)if(((g=v.owner)==null?void 0:g.userId)===p.uid)_=Object.values(xn);else{const O=Ua(qt,"businesses",y,"staff",p.uid),E=await W1(O);if(E.exists()){const P=E.data();Array.isArray(P.permissions)?_=P.permissions.filter(w=>w.startsWith("finance_")):typeof P.permissions=="object"&&(_=Object.keys(P.permissions).filter(w=>w.startsWith("finance_")&&P.permissions[w]===!0))}}a(_)}catch(y){console.error("[DIGIX Finance] Failed to load permissions",y),a([])}finally{o(!1)}});return()=>h()},[e,r,n]);const l=T.useMemo(()=>h=>n?!0:i.includes(h),[i,n]),u=T.useMemo(()=>h=>n?!0:h.some(p=>i.includes(p)),[i,n]),c=T.useMemo(()=>h=>n?!0:h.every(p=>i.includes(p)),[i,n]),d=T.useMemo(()=>({permissions:i,loading:s,hasPermission:l,hasAnyPermission:u,hasAllPermissions:c}),[i,s,l,u,c]);return m.jsx(o5.Provider,{value:d,children:t})},Ix=()=>{const t=T.useContext(o5);if(!t)throw new Error("usePermissions must be used within PermissionsProvider");return t},PJ=[{label:"Insights",items:[{to:"/overview",label:"Overview",icon:uW,permission:xn.VIEW},{to:"/transactions",label:"Transactions",icon:Y8,permission:xn.VIEW},{to:"/payments",label:"Payments",icon:_p,badge:"New",permission:xn.DEPOSIT}]},{label:"Operations",items:[{to:"/expenses",label:"Expenses",icon:hC,permission:xn.EXPENSES},{to:"/accounts",label:"Accounts",icon:eW,permission:xn.VIEW},{to:"/budgets",label:"Budgets",icon:W8,permission:xn.REPORTS},{to:"/reports",label:"Reports",icon:hL,permission:xn.REPORTS}]},{label:"Compliance",items:[{to:"/taxes",label:"Taxes",icon:L8,permission:xn.REPORTS},{to:"/capital",label:"Capital Return",icon:Z8,permission:xn.VIEW},{to:"/audit",label:"Audit Log",icon:oW,permission:xn.VIEW},{to:"/settings",label:"Settings",icon:hC,permission:xn.VIEW}]}],OJ=()=>{const[t,e]=T.useState(!1),{hasPermission:r,hasAnyPermission:n}=Ix(),i=T.useMemo(()=>PJ.map(a=>({...a,items:a.items.filter(s=>s.permission?Array.isArray(s.permission)?n(s.permission):r(s.permission):!0)})).filter(a=>a.items.length>0),[r,n]);return m.jsxs("div",{className:"min-h-screen bg-base text-madas-text",children:[m.jsx(jt.Root,{show:t,as:T.Fragment,children:m.jsxs(or,{as:"div",className:"relative z-40 lg:hidden",onClose:e,children:[m.jsx(jt.Child,{as:T.Fragment,enter:"transition-opacity ease-linear duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity ease-linear duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:m.jsx("div",{className:"fixed inset-0 bg-black/40"})}),m.jsx("div",{className:"fixed inset-0 flex",children:m.jsx(jt.Child,{as:T.Fragment,enter:"transition ease-in-out duration-300 transform",enterFrom:"-translate-x-full",enterTo:"translate-x-0",leave:"transition ease-in-out duration-300 transform",leaveFrom:"translate-x-0",leaveTo:"-translate-x-full",children:m.jsx(or.Panel,{className:"relative mr-16 flex w-full max-w-xs flex-1",children:m.jsxs("div",{className:"flex grow flex-col gap-y-5 overflow-y-auto bg-white px-6 pb-4 pt-6 shadow-xl",children:[m.jsxs("div",{className:"flex h-12 items-center gap-2",children:[m.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-primary text-white font-semibold",children:"DF"}),m.jsx("p",{className:"font-semibold text-lg",children:"DIGIX Finance"})]}),m.jsx("nav",{className:"flex flex-1 flex-col gap-2",children:i.map(a=>m.jsxs("div",{children:[m.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-madas-text/60 mb-2",children:a.label}),m.jsx("ul",{className:"space-y-1",children:a.items.map(s=>m.jsx("li",{children:m.jsxs(YI,{to:s.to,onClick:()=>e(!1),className:({isActive:o})=>Be("flex items-center gap-3 rounded-xl px-4 py-3 text-sm font-medium transition",o?"bg-primary text-white shadow-lg":"bg-white text-madas-text hover:bg-primary/10 hover:text-primary"),children:[m.jsx(s.icon,{className:"h-5 w-5"}),m.jsx("span",{children:s.label})]})},s.to))})]},a.label))})]})})})})]})}),m.jsx("div",{className:"hidden lg:fixed lg:inset-y-0 lg:flex lg:w-72 lg:flex-col",children:m.jsxs("div",{className:"flex grow flex-col gap-y-6 overflow-y-auto bg-white px-8 py-10 shadow-2xl",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-primary text-white text-lg font-semibold",children:m.jsx(dC,{className:"h-6 w-6"})}),m.jsxs("div",{children:[m.jsx("h1",{className:"text-xl font-semibold text-primary",children:"DIGIX Finance HQ"}),m.jsx("p",{className:"text-sm text-madas-text/65",children:"Manage every dollar in DIGIX"})]})]}),m.jsx("nav",{className:"flex flex-1 flex-col gap-6",children:i.map(a=>m.jsxs("div",{children:[m.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-madas-text/50 mb-2",children:a.label}),m.jsx("ul",{className:"space-y-2",children:a.items.map(s=>m.jsx("li",{children:m.jsxs(YI,{to:s.to,className:({isActive:o})=>Be("group flex items-center gap-3 rounded-2xl px-4 py-3 text-sm font-medium transition",o?"bg-primary text-white shadow-lg shadow-primary/30":"bg-white text-madas-text hover:bg-primary/10 hover:text-primary"),children:[m.jsx(s.icon,{className:"h-5 w-5 group-hover:scale-110 transition-transform"}),m.jsx("span",{children:s.label}),s.badge?m.jsx("span",{className:"ml-auto rounded-full bg-accent px-2 py-0.5 text-xs font-semibold text-primary",children:s.badge}):null]})},s.to))})]},a.label))}),m.jsxs("div",{className:"rounded-2xl border border-primary/10 bg-primary/5 p-5",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-primary text-white",children:m.jsx(iW,{className:"h-5 w-5"})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-semibold text-primary",children:"Need help?"}),m.jsx("p",{className:"text-xs text-madas-text/70",children:"Book a 1:1 finance walkthrough with our team."})]})]}),m.jsx("button",{className:"mt-4 w-full rounded-xl bg-primary px-4 py-2 text-sm font-semibold text-white hover:bg-primary/90 transition",children:"Book Session"})]})]})}),m.jsxs("div",{className:"lg:pl-72",children:[m.jsxs("div",{className:"lg:hidden sticky top-0 z-30 flex items-center justify-between bg-white px-5 py-4 shadow-md",children:[m.jsx("button",{type:"button",className:"inline-flex h-10 w-10 items-center justify-center rounded-xl bg-primary/10 text-primary",onClick:()=>e(!0),children:m.jsx(D8,{className:"h-6 w-6"})}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-primary text-white",children:m.jsx(dC,{className:"h-5 w-5"})}),m.jsx("span",{className:"text-base font-semibold text-primary",children:"DIGIX Finance HQ"})]}),m.jsx("button",{className:"inline-flex h-10 w-10 items-center justify-center rounded-xl bg-primary text-white",children:m.jsx(q8,{className:"h-5 w-5"})})]}),m.jsx("main",{className:"min-h-screen bg-base/80",children:m.jsx("div",{className:"px-6 py-8 sm:px-10 lg:px-12",children:m.jsx(x7,{})})})]})]})};var l5={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(Ul,function(){var r=1e3,n=6e4,i=36e5,a="millisecond",s="second",o="minute",l="hour",u="day",c="week",d="month",h="quarter",p="year",g="date",y="Invalid Date",v=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,b=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,x={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(B){var L=["th","st","nd","rd"],U=B%100;return"["+B+(L[(U-20)%10]||L[U]||L[0])+"]"}},_=function(B,L,U){var W=String(B);return!W||W.length>=L?B:""+Array(L+1-W.length).join(U)+B},O={s:_,z:function(B){var L=-B.utcOffset(),U=Math.abs(L),W=Math.floor(U/60),$=U%60;return(L<=0?"+":"-")+_(W,2,"0")+":"+_($,2,"0")},m:function B(L,U){if(L.date()<U.date())return-B(U,L);var W=12*(U.year()-L.year())+(U.month()-L.month()),$=L.clone().add(W,d),H=U-$<0,Y=L.clone().add(W+(H?-1:1),d);return+(-(W+(U-$)/(H?$-Y:Y-$))||0)},a:function(B){return B<0?Math.ceil(B)||0:Math.floor(B)},p:function(B){return{M:d,y:p,w:c,d:u,D:g,h:l,m:o,s,ms:a,Q:h}[B]||String(B||"").toLowerCase().replace(/s$/,"")},u:function(B){return B===void 0}},E="en",P={};P[E]=x;var w="$isDayjsObject",S=function(B){return B instanceof R||!(!B||!B[w])},I=function B(L,U,W){var $;if(!L)return E;if(typeof L=="string"){var H=L.toLowerCase();P[H]&&($=H),U&&(P[H]=U,$=H);var Y=L.split("-");if(!$&&Y.length>1)return B(Y[0])}else{var re=L.name;P[re]=L,$=re}return!W&&$&&(E=$),$||!W&&E},k=function(B,L){if(S(B))return B.clone();var U=typeof L=="object"?L:{};return U.date=B,U.args=arguments,new R(U)},N=O;N.l=I,N.i=S,N.w=function(B,L){return k(B,{locale:L.$L,utc:L.$u,x:L.$x,$offset:L.$offset})};var R=function(){function B(U){this.$L=I(U.locale,null,!0),this.parse(U),this.$x=this.$x||U.x||{},this[w]=!0}var L=B.prototype;return L.parse=function(U){this.$d=function(W){var $=W.date,H=W.utc;if($===null)return new Date(NaN);if(N.u($))return new Date;if($ instanceof Date)return new Date($);if(typeof $=="string"&&!/Z$/i.test($)){var Y=$.match(v);if(Y){var re=Y[2]-1||0,X=(Y[7]||"0").substring(0,3);return H?new Date(Date.UTC(Y[1],re,Y[3]||1,Y[4]||0,Y[5]||0,Y[6]||0,X)):new Date(Y[1],re,Y[3]||1,Y[4]||0,Y[5]||0,Y[6]||0,X)}}return new Date($)}(U),this.init()},L.init=function(){var U=this.$d;this.$y=U.getFullYear(),this.$M=U.getMonth(),this.$D=U.getDate(),this.$W=U.getDay(),this.$H=U.getHours(),this.$m=U.getMinutes(),this.$s=U.getSeconds(),this.$ms=U.getMilliseconds()},L.$utils=function(){return N},L.isValid=function(){return this.$d.toString()!==y},L.isSame=function(U,W){var $=k(U);return this.startOf(W)<=$&&$<=this.endOf(W)},L.isAfter=function(U,W){return k(U)<this.startOf(W)},L.isBefore=function(U,W){return this.endOf(W)<k(U)},L.$g=function(U,W,$){return N.u(U)?this[W]:this.set($,U)},L.unix=function(){return Math.floor(this.valueOf()/1e3)},L.valueOf=function(){return this.$d.getTime()},L.startOf=function(U,W){var $=this,H=!!N.u(W)||W,Y=N.p(U),re=function(fe,_e){var ye=N.w($.$u?Date.UTC($.$y,_e,fe):new Date($.$y,_e,fe),$);return H?ye:ye.endOf(u)},X=function(fe,_e){return N.w($.toDate()[fe].apply($.toDate("s"),(H?[0,0,0,0]:[23,59,59,999]).slice(_e)),$)},ae=this.$W,se=this.$M,me=this.$D,De="set"+(this.$u?"UTC":"");switch(Y){case p:return H?re(1,0):re(31,11);case d:return H?re(1,se):re(0,se+1);case c:var nt=this.$locale().weekStart||0,ft=(ae<nt?ae+7:ae)-nt;return re(H?me-ft:me+(6-ft),se);case u:case g:return X(De+"Hours",0);case l:return X(De+"Minutes",1);case o:return X(De+"Seconds",2);case s:return X(De+"Milliseconds",3);default:return this.clone()}},L.endOf=function(U){return this.startOf(U,!1)},L.$set=function(U,W){var $,H=N.p(U),Y="set"+(this.$u?"UTC":""),re=($={},$[u]=Y+"Date",$[g]=Y+"Date",$[d]=Y+"Month",$[p]=Y+"FullYear",$[l]=Y+"Hours",$[o]=Y+"Minutes",$[s]=Y+"Seconds",$[a]=Y+"Milliseconds",$)[H],X=H===u?this.$D+(W-this.$W):W;if(H===d||H===p){var ae=this.clone().set(g,1);ae.$d[re](X),ae.init(),this.$d=ae.set(g,Math.min(this.$D,ae.daysInMonth())).$d}else re&&this.$d[re](X);return this.init(),this},L.set=function(U,W){return this.clone().$set(U,W)},L.get=function(U){return this[N.p(U)]()},L.add=function(U,W){var $,H=this;U=Number(U);var Y=N.p(W),re=function(se){var me=k(H);return N.w(me.date(me.date()+Math.round(se*U)),H)};if(Y===d)return this.set(d,this.$M+U);if(Y===p)return this.set(p,this.$y+U);if(Y===u)return re(1);if(Y===c)return re(7);var X=($={},$[o]=n,$[l]=i,$[s]=r,$)[Y]||1,ae=this.$d.getTime()+U*X;return N.w(ae,this)},L.subtract=function(U,W){return this.add(-1*U,W)},L.format=function(U){var W=this,$=this.$locale();if(!this.isValid())return $.invalidDate||y;var H=U||"YYYY-MM-DDTHH:mm:ssZ",Y=N.z(this),re=this.$H,X=this.$m,ae=this.$M,se=$.weekdays,me=$.months,De=$.meridiem,nt=function(_e,ye,J,Fe){return _e&&(_e[ye]||_e(W,H))||J[ye].slice(0,Fe)},ft=function(_e){return N.s(re%12||12,_e,"0")},fe=De||function(_e,ye,J){var Fe=_e<12?"AM":"PM";return J?Fe.toLowerCase():Fe};return H.replace(b,function(_e,ye){return ye||function(J){switch(J){case"YY":return String(W.$y).slice(-2);case"YYYY":return N.s(W.$y,4,"0");case"M":return ae+1;case"MM":return N.s(ae+1,2,"0");case"MMM":return nt($.monthsShort,ae,me,3);case"MMMM":return nt(me,ae);case"D":return W.$D;case"DD":return N.s(W.$D,2,"0");case"d":return String(W.$W);case"dd":return nt($.weekdaysMin,W.$W,se,2);case"ddd":return nt($.weekdaysShort,W.$W,se,3);case"dddd":return se[W.$W];case"H":return String(re);case"HH":return N.s(re,2,"0");case"h":return ft(1);case"hh":return ft(2);case"a":return fe(re,X,!0);case"A":return fe(re,X,!1);case"m":return String(X);case"mm":return N.s(X,2,"0");case"s":return String(W.$s);case"ss":return N.s(W.$s,2,"0");case"SSS":return N.s(W.$ms,3,"0");case"Z":return Y}return null}(_e)||Y.replace(":","")})},L.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},L.diff=function(U,W,$){var H,Y=this,re=N.p(W),X=k(U),ae=(X.utcOffset()-this.utcOffset())*n,se=this-X,me=function(){return N.m(Y,X)};switch(re){case p:H=me()/12;break;case d:H=me();break;case h:H=me()/3;break;case c:H=(se-ae)/6048e5;break;case u:H=(se-ae)/864e5;break;case l:H=se/i;break;case o:H=se/n;break;case s:H=se/r;break;default:H=se}return $?H:N.a(H)},L.daysInMonth=function(){return this.endOf(d).$D},L.$locale=function(){return P[this.$L]},L.locale=function(U,W){if(!U)return this.$L;var $=this.clone(),H=I(U,W,!0);return H&&($.$L=H),$},L.clone=function(){return N.w(this.$d,this)},L.toDate=function(){return new Date(this.valueOf())},L.toJSON=function(){return this.isValid()?this.toISOString():null},L.toISOString=function(){return this.$d.toISOString()},L.toString=function(){return this.$d.toUTCString()},B}(),j=R.prototype;return k.prototype=j,[["$ms",a],["$s",s],["$m",o],["$H",l],["$W",u],["$M",d],["$y",p],["$D",g]].forEach(function(B){j[B[1]]=function(L){return this.$g(L,B[0],B[1])}}),k.extend=function(B,L){return B.$i||(B(L,R,k),B.$i=!0),k},k.locale=I,k.isDayjs=S,k.unix=function(B){return k(1e3*B)},k.en=P[E],k.Ls=P,k.p={},k})})(l5);var IJ=l5.exports;const Me=wt(IJ),Wy=[{id:"30d",label:"Last 30 days",start:Me().subtract(29,"day"),end:Me()},{id:"60d",label:"Last 60 days",start:Me().subtract(59,"day"),end:Me()},{id:"3m",label:"Last 3 months",start:Me().subtract(3,"month"),end:Me()},{id:"ytd",label:"Year to date",start:Me().startOf("year"),end:Me()}],CJ=({currentRangeId:t,onRangeChange:e})=>{const r=Wy.find(n=>n.id===t)??Wy[0];return m.jsxs("div",{className:"glass-card flex flex-wrap items-center gap-4 rounded-2xl p-4",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-madas-text/60",children:"Filters"}),m.jsx("p",{className:"text-sm text-madas-text/70",children:"Select the period to analyse performance."})]}),m.jsx("div",{className:"ml-auto",children:m.jsx(Cr,{value:t,onChange:n=>{const i=Wy.find(a=>a.id===n);i&&e(i.id,i.start,i.end)},children:m.jsxs("div",{className:"relative mt-1",children:[m.jsxs(Cr.Button,{className:"relative w-60 cursor-pointer rounded-2xl bg-white py-2 pl-3 pr-10 text-left shadow focus:outline-none",children:[m.jsxs("span",{className:"flex items-center gap-2 text-sm font-medium text-primary",children:[m.jsx(V8,{className:"h-5 w-5 text-primary/80"}),r.label]}),m.jsx("span",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3",children:m.jsx(Im,{className:"h-5 w-5 text-primary/70"})})]}),m.jsx(jt,{as:T.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:m.jsx(Cr.Options,{className:"absolute mt-2 max-h-60 w-full overflow-auto rounded-2xl bg-white shadow-lg ring-1 ring-black/5 focus:outline-none",children:Wy.map(n=>m.jsx(Cr.Option,{value:n.id,className:({active:i})=>Be("cursor-pointer select-none px-4 py-3 text-sm",i?"bg-primary/10 text-primary":"text-madas-text"),children:n.label},n.id))})})]})})})]})};var u5={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(Ul,function(){return function(r,n,i){n.prototype.isBetween=function(a,s,o,l){var u=i(a),c=i(s),d=(l=l||"()")[0]==="(",h=l[1]===")";return(d?this.isAfter(u,o):!this.isBefore(u,o))&&(h?this.isBefore(c,o):!this.isAfter(c,o))||(d?this.isBefore(u,o):!this.isAfter(u,o))&&(h?this.isAfter(c,o):!this.isBefore(c,o))}}})})(u5);var kJ=u5.exports;const NJ=wt(kJ),it=(t,e="USD")=>new Intl.NumberFormat("en-US",{style:"currency",currency:e,maximumFractionDigits:2}).format(t||0),Cx=t=>Me(t).format("MMM D, YYYY"),jJ=t=>{const e=[];for(let r=t-1;r>=0;r-=1){const n=Me().subtract(r,"month");e.push({label:n.format("MMM YYYY"),start:n.startOf("month"),end:n.endOf("month")})}return e},RJ=async(t,e,r)=>{const n=Ua(yr(qt,"workspaces",t,"organizations",e,"transactions"));return await Qu(n,{...r,createdAt:r.createdAt?at.fromDate(r.createdAt):at.fromDate(new Date)}),n.id},DJ=async(t,e,r)=>{const n=Ua(yr(qt,"workspaces",t,"organizations",e,"payments"));return await Qu(n,{...r,createdAt:r.createdAt?at.fromDate(r.createdAt):at.fromDate(new Date)}),n.id},kx=t=>({start:at.fromMillis(t.start.startOf("day").valueOf()),end:at.fromMillis(t.end.endOf("day").valueOf())}),MJ=async(t,e,r,n)=>{const{start:i,end:a}=kx(r),s=yr(qt,"workspaces",t,"organizations",e,"orders"),o=[kt("createdAt",">=",i),kt("createdAt","<=",a)];return n&&o.push(kt("branchId","==",n)),(await On(mr(s,...o))).docs.map(u=>({id:u.id,...u.data()}))},$J=async(t,e,r)=>{const{start:n,end:i}=kx(r),a=yr(qt,"workspaces",t,"organizations",e,"expenses");return(await On(mr(a,kt("createdAt",">=",n),kt("createdAt","<=",i)))).docs.map(o=>({id:o.id,...o.data()}))},c5=async(t,e,r,n)=>{const{start:i,end:a}=kx(r),s=yr(qt,"workspaces",t,"organizations",e,"transactions");let o=mr(s,kt("createdAt",">=",i),kt("createdAt","<=",a),pa("createdAt","desc"));return n.type&&n.type!=="all"&&(o=mr(o,kt("type","==",n.type))),n.method&&n.method!=="all"&&(o=mr(o,kt("method","==",n.method))),(await On(o)).docs.map(u=>({id:u.id,...u.data()}))},LJ=async(t,e,r,n)=>{const{start:i,end:a}=kx(r),s=yr(qt,"workspaces",t,"organizations",e,"payments");let o=mr(s,kt("createdAt",">=",i),kt("createdAt","<=",a),pa("createdAt","desc"));return n.method&&n.method!=="all"&&(o=mr(o,kt("method","==",n.method))),n.status&&n.status!=="all"&&(o=mr(o,kt("status","==",n.status))),(await On(o)).docs.map(u=>({id:u.id,...u.data()}))},FJ=async(t,e)=>{const r=yr(qt,"workspaces",t,"organizations",e,"transactions");return(await On(mr(r,pa("createdAt","desc"),t5(5)))).docs.map(i=>({id:i.id,...i.data()}))};Me.extend(NJ);const VJ=t=>{const e=fn(),{range:r,branch:n}=t;return yl({queryKey:["finance-overview",e.workspaceId,e.orgId,r.start.valueOf(),r.end.valueOf(),n],enabled:!e.loading&&!!(e.workspaceId&&e.orgId),queryFn:async()=>{const[i,a,s,o]=await Promise.all([MJ(e.workspaceId,e.orgId,t.range,n),$J(e.workspaceId,e.orgId,t.range),c5(e.workspaceId,e.orgId,t.range,{type:"all",method:"all"}),FJ(e.workspaceId,e.orgId)]),l=i.reduce((p,g)=>p+(g.totalAmount||0),0),u=a.reduce((p,g)=>p+(g.amount||0),0),c=l-u,d=jJ(6).map(p=>{const g=i.filter(v=>Me(v.createdAt.toDate()).isBetween(p.start,p.end,null,"[]")),y=a.filter(v=>Me(v.createdAt.toDate()).isBetween(p.start,p.end,null,"[]"));return{label:p.label,revenue:g.reduce((v,b)=>v+(b.totalAmount||0),0),expenses:y.reduce((v,b)=>v+(b.amount||0),0)}}),h=s.reduce((p,g)=>(g.type==="income"?p.inflow+=g.amount:g.type==="expense"&&(p.outflow+=g.amount),p),{inflow:0,outflow:0});return{totals:{totalSales:l,totalExpenses:u,netProfit:c,cashFlowNet:h.inflow-h.outflow,inflow:h.inflow,outflow:h.outflow},charts:{revenueVsExpenses:d,cashFlow:s.map(p=>({date:Me(p.createdAt.toDate()).format("MMM D"),amount:p.type==="income"?p.amount:-p.amount}))},recentTransactions:o}}})},Nx=({label:t,primaryValue:e,secondaryValue:r,trend:n,icon:i,className:a})=>m.jsxs("div",{className:Be("glass-card flex flex-col gap-4 p-6",a),children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("span",{className:"rounded-2xl bg-primary/10 p-3 text-primary",children:i}),n?m.jsxs("span",{className:Be("rounded-full px-3 py-1 text-xs font-semibold tracking-wide",n.positive?"bg-success/10 text-success":"bg-danger/10 text-danger"),children:[n.value," ",n.note?` ${n.note}`:""]}):null]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-madas-text/60",children:t}),m.jsx("p",{className:"text-3xl font-semibold text-primary",children:e}),r?m.jsx("p",{className:"text-sm text-madas-text/60",children:r}):null]})]});var BJ=Array.isArray,ri=BJ,UJ=typeof Ul=="object"&&Ul&&Ul.Object===Object&&Ul,d5=UJ,zJ=d5,WJ=typeof self=="object"&&self&&self.Object===Object&&self,HJ=zJ||WJ||Function("return this")(),qa=HJ,qJ=qa,KJ=qJ.Symbol,qm=KJ,Fk=qm,f5=Object.prototype,GJ=f5.hasOwnProperty,YJ=f5.toString,oh=Fk?Fk.toStringTag:void 0;function QJ(t){var e=GJ.call(t,oh),r=t[oh];try{t[oh]=void 0;var n=!0}catch{}var i=YJ.call(t);return n&&(e?t[oh]=r:delete t[oh]),i}var XJ=QJ,ZJ=Object.prototype,JJ=ZJ.toString;function eee(t){return JJ.call(t)}var tee=eee,Vk=qm,ree=XJ,nee=tee,iee="[object Null]",aee="[object Undefined]",Bk=Vk?Vk.toStringTag:void 0;function see(t){return t==null?t===void 0?aee:iee:Bk&&Bk in Object(t)?ree(t):nee(t)}var Ks=see;function oee(t){return t!=null&&typeof t=="object"}var Gs=oee,lee=Ks,uee=Gs,cee="[object Symbol]";function dee(t){return typeof t=="symbol"||uee(t)&&lee(t)==cee}var wf=dee,fee=ri,hee=wf,pee=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,mee=/^\w*$/;function yee(t,e){if(fee(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||hee(t)?!0:mee.test(t)||!pee.test(t)||e!=null&&t in Object(e)}var kT=yee;function gee(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var xl=gee;const _f=wt(xl);var vee=Ks,xee=xl,bee="[object AsyncFunction]",wee="[object Function]",_ee="[object GeneratorFunction]",Eee="[object Proxy]";function See(t){if(!xee(t))return!1;var e=vee(t);return e==wee||e==_ee||e==bee||e==Eee}var NT=See;const ze=wt(NT);var Aee=qa,Tee=Aee["__core-js_shared__"],Pee=Tee,Aw=Pee,Uk=function(){var t=/[^.]+$/.exec(Aw&&Aw.keys&&Aw.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Oee(t){return!!Uk&&Uk in t}var Iee=Oee,Cee=Function.prototype,kee=Cee.toString;function Nee(t){if(t!=null){try{return kee.call(t)}catch{}try{return t+""}catch{}}return""}var h5=Nee,jee=NT,Ree=Iee,Dee=xl,Mee=h5,$ee=/[\\^$.*+?()[\]{}|]/g,Lee=/^\[object .+?Constructor\]$/,Fee=Function.prototype,Vee=Object.prototype,Bee=Fee.toString,Uee=Vee.hasOwnProperty,zee=RegExp("^"+Bee.call(Uee).replace($ee,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Wee(t){if(!Dee(t)||Ree(t))return!1;var e=jee(t)?zee:Lee;return e.test(Mee(t))}var Hee=Wee;function qee(t,e){return t==null?void 0:t[e]}var Kee=qee,Gee=Hee,Yee=Kee;function Qee(t,e){var r=Yee(t,e);return Gee(r)?r:void 0}var Xu=Qee,Xee=Xu,Zee=Xee(Object,"create"),jx=Zee,zk=jx;function Jee(){this.__data__=zk?zk(null):{},this.size=0}var ete=Jee;function tte(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var rte=tte,nte=jx,ite="__lodash_hash_undefined__",ate=Object.prototype,ste=ate.hasOwnProperty;function ote(t){var e=this.__data__;if(nte){var r=e[t];return r===ite?void 0:r}return ste.call(e,t)?e[t]:void 0}var lte=ote,ute=jx,cte=Object.prototype,dte=cte.hasOwnProperty;function fte(t){var e=this.__data__;return ute?e[t]!==void 0:dte.call(e,t)}var hte=fte,pte=jx,mte="__lodash_hash_undefined__";function yte(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=pte&&e===void 0?mte:e,this}var gte=yte,vte=ete,xte=rte,bte=lte,wte=hte,_te=gte;function Ef(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Ef.prototype.clear=vte;Ef.prototype.delete=xte;Ef.prototype.get=bte;Ef.prototype.has=wte;Ef.prototype.set=_te;var Ete=Ef;function Ste(){this.__data__=[],this.size=0}var Ate=Ste;function Tte(t,e){return t===e||t!==t&&e!==e}var jT=Tte,Pte=jT;function Ote(t,e){for(var r=t.length;r--;)if(Pte(t[r][0],e))return r;return-1}var Rx=Ote,Ite=Rx,Cte=Array.prototype,kte=Cte.splice;function Nte(t){var e=this.__data__,r=Ite(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():kte.call(e,r,1),--this.size,!0}var jte=Nte,Rte=Rx;function Dte(t){var e=this.__data__,r=Rte(e,t);return r<0?void 0:e[r][1]}var Mte=Dte,$te=Rx;function Lte(t){return $te(this.__data__,t)>-1}var Fte=Lte,Vte=Rx;function Bte(t,e){var r=this.__data__,n=Vte(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var Ute=Bte,zte=Ate,Wte=jte,Hte=Mte,qte=Fte,Kte=Ute;function Sf(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Sf.prototype.clear=zte;Sf.prototype.delete=Wte;Sf.prototype.get=Hte;Sf.prototype.has=qte;Sf.prototype.set=Kte;var Dx=Sf,Gte=Xu,Yte=qa,Qte=Gte(Yte,"Map"),RT=Qte,Wk=Ete,Xte=Dx,Zte=RT;function Jte(){this.size=0,this.__data__={hash:new Wk,map:new(Zte||Xte),string:new Wk}}var ere=Jte;function tre(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var rre=tre,nre=rre;function ire(t,e){var r=t.__data__;return nre(e)?r[typeof e=="string"?"string":"hash"]:r.map}var Mx=ire,are=Mx;function sre(t){var e=are(this,t).delete(t);return this.size-=e?1:0,e}var ore=sre,lre=Mx;function ure(t){return lre(this,t).get(t)}var cre=ure,dre=Mx;function fre(t){return dre(this,t).has(t)}var hre=fre,pre=Mx;function mre(t,e){var r=pre(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var yre=mre,gre=ere,vre=ore,xre=cre,bre=hre,wre=yre;function Af(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Af.prototype.clear=gre;Af.prototype.delete=vre;Af.prototype.get=xre;Af.prototype.has=bre;Af.prototype.set=wre;var DT=Af,p5=DT,_re="Expected a function";function MT(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(_re);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var s=t.apply(this,n);return r.cache=a.set(i,s)||a,s};return r.cache=new(MT.Cache||p5),r}MT.Cache=p5;var m5=MT;const Ere=wt(m5);var Sre=m5,Are=500;function Tre(t){var e=Sre(t,function(n){return r.size===Are&&r.clear(),n}),r=e.cache;return e}var Pre=Tre,Ore=Pre,Ire=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Cre=/\\(\\)?/g,kre=Ore(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Ire,function(r,n,i,a){e.push(i?a.replace(Cre,"$1"):n||r)}),e}),Nre=kre;function jre(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var $T=jre,Hk=qm,Rre=$T,Dre=ri,Mre=wf,qk=Hk?Hk.prototype:void 0,Kk=qk?qk.toString:void 0;function y5(t){if(typeof t=="string")return t;if(Dre(t))return Rre(t,y5)+"";if(Mre(t))return Kk?Kk.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var $re=y5,Lre=$re;function Fre(t){return t==null?"":Lre(t)}var g5=Fre,Vre=ri,Bre=kT,Ure=Nre,zre=g5;function Wre(t,e){return Vre(t)?t:Bre(t,e)?[t]:Ure(zre(t))}var v5=Wre,Hre=wf;function qre(t){if(typeof t=="string"||Hre(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var $x=qre,Kre=v5,Gre=$x;function Yre(t,e){e=Kre(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[Gre(e[r++])];return r&&r==n?t:void 0}var LT=Yre,Qre=LT;function Xre(t,e,r){var n=t==null?void 0:Qre(t,e);return n===void 0?r:n}var x5=Xre;const gi=wt(x5);function Zre(t){return t==null}var Jre=Zre;const Qe=wt(Jre);var ene=Ks,tne=ri,rne=Gs,nne="[object String]";function ine(t){return typeof t=="string"||!tne(t)&&rne(t)&&ene(t)==nne}var ane=ine;const Ru=wt(ane);var b5={exports:{}},Dt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FT=Symbol.for("react.element"),VT=Symbol.for("react.portal"),Lx=Symbol.for("react.fragment"),Fx=Symbol.for("react.strict_mode"),Vx=Symbol.for("react.profiler"),Bx=Symbol.for("react.provider"),Ux=Symbol.for("react.context"),sne=Symbol.for("react.server_context"),zx=Symbol.for("react.forward_ref"),Wx=Symbol.for("react.suspense"),Hx=Symbol.for("react.suspense_list"),qx=Symbol.for("react.memo"),Kx=Symbol.for("react.lazy"),one=Symbol.for("react.offscreen"),w5;w5=Symbol.for("react.module.reference");function Fi(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case FT:switch(t=t.type,t){case Lx:case Vx:case Fx:case Wx:case Hx:return t;default:switch(t=t&&t.$$typeof,t){case sne:case Ux:case zx:case Kx:case qx:case Bx:return t;default:return e}}case VT:return e}}}Dt.ContextConsumer=Ux;Dt.ContextProvider=Bx;Dt.Element=FT;Dt.ForwardRef=zx;Dt.Fragment=Lx;Dt.Lazy=Kx;Dt.Memo=qx;Dt.Portal=VT;Dt.Profiler=Vx;Dt.StrictMode=Fx;Dt.Suspense=Wx;Dt.SuspenseList=Hx;Dt.isAsyncMode=function(){return!1};Dt.isConcurrentMode=function(){return!1};Dt.isContextConsumer=function(t){return Fi(t)===Ux};Dt.isContextProvider=function(t){return Fi(t)===Bx};Dt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===FT};Dt.isForwardRef=function(t){return Fi(t)===zx};Dt.isFragment=function(t){return Fi(t)===Lx};Dt.isLazy=function(t){return Fi(t)===Kx};Dt.isMemo=function(t){return Fi(t)===qx};Dt.isPortal=function(t){return Fi(t)===VT};Dt.isProfiler=function(t){return Fi(t)===Vx};Dt.isStrictMode=function(t){return Fi(t)===Fx};Dt.isSuspense=function(t){return Fi(t)===Wx};Dt.isSuspenseList=function(t){return Fi(t)===Hx};Dt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Lx||t===Vx||t===Fx||t===Wx||t===Hx||t===one||typeof t=="object"&&t!==null&&(t.$$typeof===Kx||t.$$typeof===qx||t.$$typeof===Bx||t.$$typeof===Ux||t.$$typeof===zx||t.$$typeof===w5||t.getModuleId!==void 0)};Dt.typeOf=Fi;b5.exports=Dt;var lne=b5.exports,une=Ks,cne=Gs,dne="[object Number]";function fne(t){return typeof t=="number"||cne(t)&&une(t)==dne}var _5=fne;const hne=wt(_5);var pne=_5;function mne(t){return pne(t)&&t!=+t}var yne=mne;const Tf=wt(yne);var Dn=function(e){return e===0?0:e>0?1:-1},Ql=function(e){return Ru(e)&&e.indexOf("%")===e.length-1},ue=function(e){return hne(e)&&!Tf(e)},gne=function(e){return Qe(e)},Vr=function(e){return ue(e)||Ru(e)},vne=0,Zu=function(e){var r=++vne;return"".concat(e||"").concat(r)},Mn=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ue(e)&&!Ru(e))return n;var a;if(Ql(e)){var s=e.indexOf("%");a=r*parseFloat(e.slice(0,s))/100}else a=+e;return Tf(a)&&(a=n),i&&a>r&&(a=r),a},Eo=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},xne=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},Lr=function(e,r){return ue(e)&&ue(r)?function(n){return e+n*(r-e)}:function(){return r}};function Pv(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):gi(n,e))===r})}var bne=function(e,r){return ue(e)&&ue(r)?e-r:Ru(e)&&Ru(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function Gc(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function H1(t){"@babel/helpers - typeof";return H1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H1(t)}var wne=["viewBox","children"],_ne=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Gk=["points","pathLength"],Tw={svg:wne,polygon:Gk,polyline:Gk},BT=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Ov=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(T.isValidElement(e)&&(n=e.props),!_f(n))return null;var i={};return Object.keys(n).forEach(function(a){BT.includes(a)&&(i[a]=r||function(s){return n[a](n,s)})}),i},Ene=function(e,r,n){return function(i){return e(r,n,i),null}},Du=function(e,r,n){if(!_f(e)||H1(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var s=e[a];BT.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=Ene(s,r,n))}),i},Sne=["children"],Ane=["children"];function Yk(t,e){if(t==null)return{};var r=Tne(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Tne(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function q1(t){"@babel/helpers - typeof";return q1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q1(t)}var Qk={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ts=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},Xk=null,Pw=null,UT=function t(e){if(e===Xk&&Array.isArray(Pw))return Pw;var r=[];return T.Children.forEach(e,function(n){Qe(n)||(lne.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),Pw=r,Xk=e,r};function vi(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return Ts(i)}):n=[Ts(e)],UT(t).forEach(function(i){var a=gi(i,"type.displayName")||gi(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function di(t,e){var r=vi(t,e);return r&&r[0]}var Zk=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!ue(n)||n<=0||!ue(i)||i<=0)},Pne=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],One=function(e){return e&&e.type&&Ru(e.type)&&Pne.indexOf(e.type)>=0},E5=function(e){return e&&q1(e)==="object"&&"clipDot"in e},Ine=function(e,r,n,i){var a,s=(a=Tw==null?void 0:Tw[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!ze(e)&&(i&&s.includes(r)||_ne.includes(r))||n&&BT.includes(r)},$e=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(T.isValidElement(e)&&(i=e.props),!_f(i))return null;var a={};return Object.keys(i).forEach(function(s){var o;Ine((o=i)===null||o===void 0?void 0:o[s],s,r,n)&&(a[s]=i[s])}),a},K1=function t(e,r){if(e===r)return!0;var n=T.Children.count(e);if(n!==T.Children.count(r))return!1;if(n===0)return!0;if(n===1)return Jk(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=e[i],s=r[i];if(Array.isArray(a)||Array.isArray(s)){if(!t(a,s))return!1}else if(!Jk(a,s))return!1}return!0},Jk=function(e,r){if(Qe(e)&&Qe(r))return!0;if(!Qe(e)&&!Qe(r)){var n=e.props||{},i=n.children,a=Yk(n,Sne),s=r.props||{},o=s.children,l=Yk(s,Ane);return i&&o?Gc(a,l)&&K1(i,o):!i&&!o?Gc(a,l):!1}return!1},e2=function(e,r){var n=[],i={};return UT(e).forEach(function(a,s){if(One(a))n.push(a);else if(a){var o=Ts(a.type),l=r[o]||{},u=l.handler,c=l.once;if(u&&(!c||!i[o])){var d=u(a,o,s);n.push(d),i[o]=!0}}}),n},Cne=function(e){var r=e&&e.type;return r&&Qk[r]?Qk[r]:null},kne=function(e,r){return UT(r).indexOf(e)},Nne=["children","width","height","viewBox","className","style","title","desc"];function G1(){return G1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},G1.apply(this,arguments)}function jne(t,e){if(t==null)return{};var r=Rne(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Rne(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Y1(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,a=t.className,s=t.style,o=t.title,l=t.desc,u=jne(t,Nne),c=i||{width:r,height:n,x:0,y:0},d=Be("recharts-surface",a);return M.createElement("svg",G1({},$e(u,!0,"svg"),{className:d,width:r,height:n,style:s,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),M.createElement("title",null,o),M.createElement("desc",null,l),e)}var Dne=["children","className"];function Q1(){return Q1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Q1.apply(this,arguments)}function Mne(t,e){if(t==null)return{};var r=$ne(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function $ne(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var ct=M.forwardRef(function(t,e){var r=t.children,n=t.className,i=Mne(t,Dne),a=Be("recharts-layer",n);return M.createElement("g",Q1({className:a},$e(i,!0),{ref:e}),r)}),la=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]};function Lne(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),r=r>i?i:r,r<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var a=Array(i);++n<i;)a[n]=t[n+e];return a}var Fne=Lne,Vne=Fne;function Bne(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:Vne(t,e,r)}var Une=Bne,zne="\\ud800-\\udfff",Wne="\\u0300-\\u036f",Hne="\\ufe20-\\ufe2f",qne="\\u20d0-\\u20ff",Kne=Wne+Hne+qne,Gne="\\ufe0e\\ufe0f",Yne="\\u200d",Qne=RegExp("["+Yne+zne+Kne+Gne+"]");function Xne(t){return Qne.test(t)}var S5=Xne;function Zne(t){return t.split("")}var Jne=Zne,A5="\\ud800-\\udfff",eie="\\u0300-\\u036f",tie="\\ufe20-\\ufe2f",rie="\\u20d0-\\u20ff",nie=eie+tie+rie,iie="\\ufe0e\\ufe0f",aie="["+A5+"]",X1="["+nie+"]",Z1="\\ud83c[\\udffb-\\udfff]",sie="(?:"+X1+"|"+Z1+")",T5="[^"+A5+"]",P5="(?:\\ud83c[\\udde6-\\uddff]){2}",O5="[\\ud800-\\udbff][\\udc00-\\udfff]",oie="\\u200d",I5=sie+"?",C5="["+iie+"]?",lie="(?:"+oie+"(?:"+[T5,P5,O5].join("|")+")"+C5+I5+")*",uie=C5+I5+lie,cie="(?:"+[T5+X1+"?",X1,P5,O5,aie].join("|")+")",die=RegExp(Z1+"(?="+Z1+")|"+cie+uie,"g");function fie(t){return t.match(die)||[]}var hie=fie,pie=Jne,mie=S5,yie=hie;function gie(t){return mie(t)?yie(t):pie(t)}var vie=gie,xie=Une,bie=S5,wie=vie,_ie=g5;function Eie(t){return function(e){e=_ie(e);var r=bie(e)?wie(e):void 0,n=r?r[0]:e.charAt(0),i=r?xie(r,1).join(""):e.slice(1);return n[t]()+i}}var Sie=Eie,Aie=Sie,Tie=Aie("toUpperCase"),Pie=Tie;const Gx=wt(Pie);function zt(t){return function(){return t}}const k5=Math.cos,Iv=Math.sin,ma=Math.sqrt,Cv=Math.PI,Yx=2*Cv,J1=Math.PI,eE=2*J1,Dl=1e-6,Oie=eE-Dl;function N5(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function Iie(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return N5;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class Cie{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?N5:Iie(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,s){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=n-e,u=i-r,c=s-e,d=o-r,h=c*c+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(h>Dl)if(!(Math.abs(d*l-u*c)>Dl)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let p=n-s,g=i-o,y=l*l+u*u,v=p*p+g*g,b=Math.sqrt(y),x=Math.sqrt(h),_=a*Math.tan((J1-Math.acos((y+h-v)/(2*b*x)))/2),O=_/x,E=_/b;Math.abs(O-1)>Dl&&this._append`L${e+O*c},${r+O*d}`,this._append`A${a},${a},0,0,${+(d*p>c*g)},${this._x1=e+E*l},${this._y1=r+E*u}`}}arc(e,r,n,i,a,s){if(e=+e,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),l=n*Math.sin(i),u=e+o,c=r+l,d=1^s,h=s?i-a:a-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Dl||Math.abs(this._y1-c)>Dl)&&this._append`L${u},${c}`,n&&(h<0&&(h=h%eE+eE),h>Oie?this._append`A${n},${n},0,1,${d},${e-o},${r-l}A${n},${n},0,1,${d},${this._x1=u},${this._y1=c}`:h>Dl&&this._append`A${n},${n},0,${+(h>=J1)},${d},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function zT(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new Cie(e)}function WT(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function j5(t){this._context=t}j5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Qx(t){return new j5(t)}function R5(t){return t[0]}function D5(t){return t[1]}function M5(t,e){var r=zt(!0),n=null,i=Qx,a=null,s=zT(o);t=typeof t=="function"?t:t===void 0?R5:zt(t),e=typeof e=="function"?e:e===void 0?D5:zt(e);function o(l){var u,c=(l=WT(l)).length,d,h=!1,p;for(n==null&&(a=i(p=s())),u=0;u<=c;++u)!(u<c&&r(d=l[u],u,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(d,u,l),+e(d,u,l));if(p)return a=null,p+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:zt(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:zt(+l),o):e},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:zt(!!l),o):r},o.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),o):i},o.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),o):n},o}function Hy(t,e,r){var n=null,i=zt(!0),a=null,s=Qx,o=null,l=zT(u);t=typeof t=="function"?t:t===void 0?R5:zt(+t),e=typeof e=="function"?e:zt(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?D5:zt(+r);function u(d){var h,p,g,y=(d=WT(d)).length,v,b=!1,x,_=new Array(y),O=new Array(y);for(a==null&&(o=s(x=l())),h=0;h<=y;++h){if(!(h<y&&i(v=d[h],h,d))===b)if(b=!b)p=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),g=h-1;g>=p;--g)o.point(_[g],O[g]);o.lineEnd(),o.areaEnd()}b&&(_[h]=+t(v,h,d),O[h]=+e(v,h,d),o.point(n?+n(v,h,d):_[h],r?+r(v,h,d):O[h]))}if(x)return o=null,x+""||null}function c(){return M5().defined(i).curve(s).context(a)}return u.x=function(d){return arguments.length?(t=typeof d=="function"?d:zt(+d),n=null,u):t},u.x0=function(d){return arguments.length?(t=typeof d=="function"?d:zt(+d),u):t},u.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:zt(+d),u):n},u.y=function(d){return arguments.length?(e=typeof d=="function"?d:zt(+d),r=null,u):e},u.y0=function(d){return arguments.length?(e=typeof d=="function"?d:zt(+d),u):e},u.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:zt(+d),u):r},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(r)},u.lineX1=function(){return c().x(n).y(e)},u.defined=function(d){return arguments.length?(i=typeof d=="function"?d:zt(!!d),u):i},u.curve=function(d){return arguments.length?(s=d,a!=null&&(o=s(a)),u):s},u.context=function(d){return arguments.length?(d==null?a=o=null:o=s(a=d),u):a},u}class $5{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function kie(t){return new $5(t,!0)}function Nie(t){return new $5(t,!1)}const HT={draw(t,e){const r=ma(e/Cv);t.moveTo(r,0),t.arc(0,0,r,0,Yx)}},jie={draw(t,e){const r=ma(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},L5=ma(1/3),Rie=L5*2,Die={draw(t,e){const r=ma(e/Rie),n=r*L5;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},Mie={draw(t,e){const r=ma(e),n=-r/2;t.rect(n,n,r,r)}},$ie=.8908130915292852,F5=Iv(Cv/10)/Iv(7*Cv/10),Lie=Iv(Yx/10)*F5,Fie=-k5(Yx/10)*F5,Vie={draw(t,e){const r=ma(e*$ie),n=Lie*r,i=Fie*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const s=Yx*a/5,o=k5(s),l=Iv(s);t.lineTo(l*r,-o*r),t.lineTo(o*n-l*i,l*n+o*i)}t.closePath()}},Ow=ma(3),Bie={draw(t,e){const r=-ma(e/(Ow*3));t.moveTo(0,r*2),t.lineTo(-Ow*r,-r),t.lineTo(Ow*r,-r),t.closePath()}},Si=-.5,Ai=ma(3)/2,tE=1/ma(12),Uie=(tE/2+1)*3,zie={draw(t,e){const r=ma(e/Uie),n=r/2,i=r*tE,a=n,s=r*tE+r,o=-a,l=s;t.moveTo(n,i),t.lineTo(a,s),t.lineTo(o,l),t.lineTo(Si*n-Ai*i,Ai*n+Si*i),t.lineTo(Si*a-Ai*s,Ai*a+Si*s),t.lineTo(Si*o-Ai*l,Ai*o+Si*l),t.lineTo(Si*n+Ai*i,Si*i-Ai*n),t.lineTo(Si*a+Ai*s,Si*s-Ai*a),t.lineTo(Si*o+Ai*l,Si*l-Ai*o),t.closePath()}};function Wie(t,e){let r=null,n=zT(i);t=typeof t=="function"?t:zt(t||HT),e=typeof e=="function"?e:zt(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:zt(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:zt(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function kv(){}function Nv(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function V5(t){this._context=t}V5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Nv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Nv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Hie(t){return new V5(t)}function B5(t){this._context=t}B5.prototype={areaStart:kv,areaEnd:kv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Nv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function qie(t){return new B5(t)}function U5(t){this._context=t}U5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Nv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Kie(t){return new U5(t)}function z5(t){this._context=t}z5.prototype={areaStart:kv,areaEnd:kv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Gie(t){return new z5(t)}function t2(t){return t<0?-1:1}function r2(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),s=(r-t._y1)/(i||n<0&&-0),o=(a*i+s*n)/(n+i);return(t2(a)+t2(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function n2(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function Iw(t,e,r){var n=t._x0,i=t._y0,a=t._x1,s=t._y1,o=(a-n)/3;t._context.bezierCurveTo(n+o,i+o*e,a-o,s-o*r,a,s)}function jv(t){this._context=t}jv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Iw(this,this._t0,n2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Iw(this,n2(this,r=r2(this,t,e)),r);break;default:Iw(this,this._t0,r=r2(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function W5(t){this._context=new H5(t)}(W5.prototype=Object.create(jv.prototype)).point=function(t,e){jv.prototype.point.call(this,e,t)};function H5(t){this._context=t}H5.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function Yie(t){return new jv(t)}function Qie(t){return new W5(t)}function q5(t){this._context=t}q5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=i2(t),i=i2(e),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function i2(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,s[e]-=n*s[e-1];for(i[r-1]=s[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function Xie(t){return new q5(t)}function Xx(t,e){this._context=t,this._t=e}Xx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function Zie(t){return new Xx(t,.5)}function Jie(t){return new Xx(t,0)}function eae(t){return new Xx(t,1)}function Od(t,e){if((s=t.length)>1)for(var r=1,n,i,a=t[e[0]],s,o=a.length;r<s;++r)for(i=a,a=t[e[r]],n=0;n<o;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function rE(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function tae(t,e){return t[e]}function rae(t){const e=[];return e.key=t,e}function nae(){var t=zt([]),e=rE,r=Od,n=tae;function i(a){var s=Array.from(t.apply(this,arguments),rae),o,l=s.length,u=-1,c;for(const d of a)for(o=0,++u;o<l;++o)(s[o][u]=[0,+n(d,s[o].key,u,a)]).data=d;for(o=0,c=WT(e(s));o<l;++o)s[c[o]].index=o;return r(s,c),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:zt(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:zt(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?rE:typeof a=="function"?a:zt(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??Od,i):r},i}function iae(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,s;i<a;++i){for(s=r=0;r<n;++r)s+=t[r][i][1]||0;if(s)for(r=0;r<n;++r)t[r][i][1]/=s}Od(t,e)}}function aae(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var s=0,o=0;s<i;++s)o+=t[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}Od(t,e)}}function sae(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,s;n<a;++n){for(var o=0,l=0,u=0;o<s;++o){for(var c=t[e[o]],d=c[n][1]||0,h=c[n-1][1]||0,p=(d-h)/2,g=0;g<o;++g){var y=t[e[g]],v=y[n][1]||0,b=y[n-1][1]||0;p+=v-b}l+=d,u+=p*d}i[n-1][1]+=i[n-1][0]=r,l&&(r-=u/l)}i[n-1][1]+=i[n-1][0]=r,Od(t,e)}}function Dp(t){"@babel/helpers - typeof";return Dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dp(t)}var oae=["type","size","sizeType"];function nE(){return nE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nE.apply(this,arguments)}function a2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function s2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?a2(Object(r),!0).forEach(function(n){lae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lae(t,e,r){return e=uae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uae(t){var e=cae(t,"string");return Dp(e)=="symbol"?e:e+""}function cae(t,e){if(Dp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dae(t,e){if(t==null)return{};var r=fae(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function fae(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var K5={symbolCircle:HT,symbolCross:jie,symbolDiamond:Die,symbolSquare:Mie,symbolStar:Vie,symbolTriangle:Bie,symbolWye:zie},hae=Math.PI/180,pae=function(e){var r="symbol".concat(Gx(e));return K5[r]||HT},mae=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*hae;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},yae=function(e,r){K5["symbol".concat(Gx(e))]=r},qT=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,a=i===void 0?64:i,s=e.sizeType,o=s===void 0?"area":s,l=dae(e,oae),u=s2(s2({},l),{},{type:n,size:a,sizeType:o}),c=function(){var v=pae(n),b=Wie().type(v).size(mae(a,o,n));return b()},d=u.className,h=u.cx,p=u.cy,g=$e(u,!0);return h===+h&&p===+p&&a===+a?M.createElement("path",nE({},g,{className:Be("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(p,")"),d:c()})):null};qT.registerSymbol=yae;function Id(t){"@babel/helpers - typeof";return Id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Id(t)}function iE(){return iE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},iE.apply(this,arguments)}function o2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gae(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?o2(Object(r),!0).forEach(function(n){Mp(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xae(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Y5(n.key),n)}}function bae(t,e,r){return e&&xae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function wae(t,e,r){return e=Rv(e),_ae(t,G5()?Reflect.construct(e,r||[],Rv(t).constructor):e.apply(t,r))}function _ae(t,e){if(e&&(Id(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Eae(t)}function Eae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function G5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(G5=function(){return!!t})()}function Rv(t){return Rv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rv(t)}function Sae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aE(t,e)}function aE(t,e){return aE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},aE(t,e)}function Mp(t,e,r){return e=Y5(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Y5(t){var e=Aae(t,"string");return Id(e)=="symbol"?e:e+""}function Aae(t,e){if(Id(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Id(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ti=32,KT=function(t){function e(){return vae(this,e),wae(this,e,arguments)}return Sae(e,t),bae(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=Ti/2,s=Ti/6,o=Ti/3,l=n.inactive?i:n.color;if(n.type==="plainline")return M.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:Ti,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return M.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(Ti,"M").concat(2*o,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return M.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Ti/8,"h").concat(Ti,"v").concat(Ti*3/4,"h").concat(-Ti,"z"),className:"recharts-legend-icon"});if(M.isValidElement(n.legendIcon)){var u=gae({},n);return delete u.legendIcon,M.cloneElement(n.legendIcon,u)}return M.createElement(qT,{fill:l,cx:a,cy:a,size:Ti,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,s=i.iconSize,o=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:Ti,height:Ti},d={display:o==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(p,g){var y=p.formatter||l,v=Be(Mp(Mp({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",p.inactive));if(p.type==="none")return null;var b=ze(p.value)?null:p.value;la(!ze(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var x=p.inactive?u:p.color;return M.createElement("li",iE({className:v,style:d,key:"legend-item-".concat(g)},Du(n.props,p,g)),M.createElement(Y1,{width:s,height:s,viewBox:c,style:h},n.renderIcon(p)),M.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},y?y(b,p,g):b))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,s=n.align;if(!i||!i.length)return null;var o={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return M.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(T.PureComponent);Mp(KT,"displayName","Legend");Mp(KT,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Tae=Dx;function Pae(){this.__data__=new Tae,this.size=0}var Oae=Pae;function Iae(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var Cae=Iae;function kae(t){return this.__data__.get(t)}var Nae=kae;function jae(t){return this.__data__.has(t)}var Rae=jae,Dae=Dx,Mae=RT,$ae=DT,Lae=200;function Fae(t,e){var r=this.__data__;if(r instanceof Dae){var n=r.__data__;if(!Mae||n.length<Lae-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new $ae(n)}return r.set(t,e),this.size=r.size,this}var Vae=Fae,Bae=Dx,Uae=Oae,zae=Cae,Wae=Nae,Hae=Rae,qae=Vae;function Pf(t){var e=this.__data__=new Bae(t);this.size=e.size}Pf.prototype.clear=Uae;Pf.prototype.delete=zae;Pf.prototype.get=Wae;Pf.prototype.has=Hae;Pf.prototype.set=qae;var Q5=Pf,Kae="__lodash_hash_undefined__";function Gae(t){return this.__data__.set(t,Kae),this}var Yae=Gae;function Qae(t){return this.__data__.has(t)}var Xae=Qae,Zae=DT,Jae=Yae,ese=Xae;function Dv(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new Zae;++e<r;)this.add(t[e])}Dv.prototype.add=Dv.prototype.push=Jae;Dv.prototype.has=ese;var X5=Dv;function tse(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var Z5=tse;function rse(t,e){return t.has(e)}var J5=rse,nse=X5,ise=Z5,ase=J5,sse=1,ose=2;function lse(t,e,r,n,i,a){var s=r&sse,o=t.length,l=e.length;if(o!=l&&!(s&&l>o))return!1;var u=a.get(t),c=a.get(e);if(u&&c)return u==e&&c==t;var d=-1,h=!0,p=r&ose?new nse:void 0;for(a.set(t,e),a.set(e,t);++d<o;){var g=t[d],y=e[d];if(n)var v=s?n(y,g,d,e,t,a):n(g,y,d,t,e,a);if(v!==void 0){if(v)continue;h=!1;break}if(p){if(!ise(e,function(b,x){if(!ase(p,x)&&(g===b||i(g,b,r,n,a)))return p.push(x)})){h=!1;break}}else if(!(g===y||i(g,y,r,n,a))){h=!1;break}}return a.delete(t),a.delete(e),h}var e4=lse,use=qa,cse=use.Uint8Array,dse=cse;function fse(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}var hse=fse;function pse(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var GT=pse,l2=qm,u2=dse,mse=jT,yse=e4,gse=hse,vse=GT,xse=1,bse=2,wse="[object Boolean]",_se="[object Date]",Ese="[object Error]",Sse="[object Map]",Ase="[object Number]",Tse="[object RegExp]",Pse="[object Set]",Ose="[object String]",Ise="[object Symbol]",Cse="[object ArrayBuffer]",kse="[object DataView]",c2=l2?l2.prototype:void 0,Cw=c2?c2.valueOf:void 0;function Nse(t,e,r,n,i,a,s){switch(r){case kse:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Cse:return!(t.byteLength!=e.byteLength||!a(new u2(t),new u2(e)));case wse:case _se:case Ase:return mse(+t,+e);case Ese:return t.name==e.name&&t.message==e.message;case Tse:case Ose:return t==e+"";case Sse:var o=gse;case Pse:var l=n&xse;if(o||(o=vse),t.size!=e.size&&!l)return!1;var u=s.get(t);if(u)return u==e;n|=bse,s.set(t,e);var c=yse(o(t),o(e),n,i,a,s);return s.delete(t),c;case Ise:if(Cw)return Cw.call(t)==Cw.call(e)}return!1}var jse=Nse;function Rse(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var t4=Rse,Dse=t4,Mse=ri;function $se(t,e,r){var n=e(t);return Mse(t)?n:Dse(n,r(t))}var Lse=$se;function Fse(t,e){for(var r=-1,n=t==null?0:t.length,i=0,a=[];++r<n;){var s=t[r];e(s,r,t)&&(a[i++]=s)}return a}var Vse=Fse;function Bse(){return[]}var Use=Bse,zse=Vse,Wse=Use,Hse=Object.prototype,qse=Hse.propertyIsEnumerable,d2=Object.getOwnPropertySymbols,Kse=d2?function(t){return t==null?[]:(t=Object(t),zse(d2(t),function(e){return qse.call(t,e)}))}:Wse,Gse=Kse;function Yse(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var Qse=Yse,Xse=Ks,Zse=Gs,Jse="[object Arguments]";function eoe(t){return Zse(t)&&Xse(t)==Jse}var toe=eoe,f2=toe,roe=Gs,r4=Object.prototype,noe=r4.hasOwnProperty,ioe=r4.propertyIsEnumerable,aoe=f2(function(){return arguments}())?f2:function(t){return roe(t)&&noe.call(t,"callee")&&!ioe.call(t,"callee")},YT=aoe,Mv={exports:{}};function soe(){return!1}var ooe=soe;Mv.exports;(function(t,e){var r=qa,n=ooe,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===i,o=s?r.Buffer:void 0,l=o?o.isBuffer:void 0,u=l||n;t.exports=u})(Mv,Mv.exports);var n4=Mv.exports,loe=9007199254740991,uoe=/^(?:0|[1-9]\d*)$/;function coe(t,e){var r=typeof t;return e=e??loe,!!e&&(r=="number"||r!="symbol"&&uoe.test(t))&&t>-1&&t%1==0&&t<e}var QT=coe,doe=9007199254740991;function foe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=doe}var XT=foe,hoe=Ks,poe=XT,moe=Gs,yoe="[object Arguments]",goe="[object Array]",voe="[object Boolean]",xoe="[object Date]",boe="[object Error]",woe="[object Function]",_oe="[object Map]",Eoe="[object Number]",Soe="[object Object]",Aoe="[object RegExp]",Toe="[object Set]",Poe="[object String]",Ooe="[object WeakMap]",Ioe="[object ArrayBuffer]",Coe="[object DataView]",koe="[object Float32Array]",Noe="[object Float64Array]",joe="[object Int8Array]",Roe="[object Int16Array]",Doe="[object Int32Array]",Moe="[object Uint8Array]",$oe="[object Uint8ClampedArray]",Loe="[object Uint16Array]",Foe="[object Uint32Array]",Qt={};Qt[koe]=Qt[Noe]=Qt[joe]=Qt[Roe]=Qt[Doe]=Qt[Moe]=Qt[$oe]=Qt[Loe]=Qt[Foe]=!0;Qt[yoe]=Qt[goe]=Qt[Ioe]=Qt[voe]=Qt[Coe]=Qt[xoe]=Qt[boe]=Qt[woe]=Qt[_oe]=Qt[Eoe]=Qt[Soe]=Qt[Aoe]=Qt[Toe]=Qt[Poe]=Qt[Ooe]=!1;function Voe(t){return moe(t)&&poe(t.length)&&!!Qt[hoe(t)]}var Boe=Voe;function Uoe(t){return function(e){return t(e)}}var i4=Uoe,$v={exports:{}};$v.exports;(function(t,e){var r=d5,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,s=a&&r.process,o=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=o})($v,$v.exports);var zoe=$v.exports,Woe=Boe,Hoe=i4,h2=zoe,p2=h2&&h2.isTypedArray,qoe=p2?Hoe(p2):Woe,a4=qoe,Koe=Qse,Goe=YT,Yoe=ri,Qoe=n4,Xoe=QT,Zoe=a4,Joe=Object.prototype,ele=Joe.hasOwnProperty;function tle(t,e){var r=Yoe(t),n=!r&&Goe(t),i=!r&&!n&&Qoe(t),a=!r&&!n&&!i&&Zoe(t),s=r||n||i||a,o=s?Koe(t.length,String):[],l=o.length;for(var u in t)(e||ele.call(t,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Xoe(u,l)))&&o.push(u);return o}var rle=tle,nle=Object.prototype;function ile(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||nle;return t===r}var ale=ile;function sle(t,e){return function(r){return t(e(r))}}var s4=sle,ole=s4,lle=ole(Object.keys,Object),ule=lle,cle=ale,dle=ule,fle=Object.prototype,hle=fle.hasOwnProperty;function ple(t){if(!cle(t))return dle(t);var e=[];for(var r in Object(t))hle.call(t,r)&&r!="constructor"&&e.push(r);return e}var mle=ple,yle=NT,gle=XT;function vle(t){return t!=null&&gle(t.length)&&!yle(t)}var Km=vle,xle=rle,ble=mle,wle=Km;function _le(t){return wle(t)?xle(t):ble(t)}var Zx=_le,Ele=Lse,Sle=Gse,Ale=Zx;function Tle(t){return Ele(t,Ale,Sle)}var Ple=Tle,m2=Ple,Ole=1,Ile=Object.prototype,Cle=Ile.hasOwnProperty;function kle(t,e,r,n,i,a){var s=r&Ole,o=m2(t),l=o.length,u=m2(e),c=u.length;if(l!=c&&!s)return!1;for(var d=l;d--;){var h=o[d];if(!(s?h in e:Cle.call(e,h)))return!1}var p=a.get(t),g=a.get(e);if(p&&g)return p==e&&g==t;var y=!0;a.set(t,e),a.set(e,t);for(var v=s;++d<l;){h=o[d];var b=t[h],x=e[h];if(n)var _=s?n(x,b,h,e,t,a):n(b,x,h,t,e,a);if(!(_===void 0?b===x||i(b,x,r,n,a):_)){y=!1;break}v||(v=h=="constructor")}if(y&&!v){var O=t.constructor,E=e.constructor;O!=E&&"constructor"in t&&"constructor"in e&&!(typeof O=="function"&&O instanceof O&&typeof E=="function"&&E instanceof E)&&(y=!1)}return a.delete(t),a.delete(e),y}var Nle=kle,jle=Xu,Rle=qa,Dle=jle(Rle,"DataView"),Mle=Dle,$le=Xu,Lle=qa,Fle=$le(Lle,"Promise"),Vle=Fle,Ble=Xu,Ule=qa,zle=Ble(Ule,"Set"),o4=zle,Wle=Xu,Hle=qa,qle=Wle(Hle,"WeakMap"),Kle=qle,sE=Mle,oE=RT,lE=Vle,uE=o4,cE=Kle,l4=Ks,Of=h5,y2="[object Map]",Gle="[object Object]",g2="[object Promise]",v2="[object Set]",x2="[object WeakMap]",b2="[object DataView]",Yle=Of(sE),Qle=Of(oE),Xle=Of(lE),Zle=Of(uE),Jle=Of(cE),Ml=l4;(sE&&Ml(new sE(new ArrayBuffer(1)))!=b2||oE&&Ml(new oE)!=y2||lE&&Ml(lE.resolve())!=g2||uE&&Ml(new uE)!=v2||cE&&Ml(new cE)!=x2)&&(Ml=function(t){var e=l4(t),r=e==Gle?t.constructor:void 0,n=r?Of(r):"";if(n)switch(n){case Yle:return b2;case Qle:return y2;case Xle:return g2;case Zle:return v2;case Jle:return x2}return e});var eue=Ml,kw=Q5,tue=e4,rue=jse,nue=Nle,w2=eue,_2=ri,E2=n4,iue=a4,aue=1,S2="[object Arguments]",A2="[object Array]",qy="[object Object]",sue=Object.prototype,T2=sue.hasOwnProperty;function oue(t,e,r,n,i,a){var s=_2(t),o=_2(e),l=s?A2:w2(t),u=o?A2:w2(e);l=l==S2?qy:l,u=u==S2?qy:u;var c=l==qy,d=u==qy,h=l==u;if(h&&E2(t)){if(!E2(e))return!1;s=!0,c=!1}if(h&&!c)return a||(a=new kw),s||iue(t)?tue(t,e,r,n,i,a):rue(t,e,l,r,n,i,a);if(!(r&aue)){var p=c&&T2.call(t,"__wrapped__"),g=d&&T2.call(e,"__wrapped__");if(p||g){var y=p?t.value():t,v=g?e.value():e;return a||(a=new kw),i(y,v,r,n,a)}}return h?(a||(a=new kw),nue(t,e,r,n,i,a)):!1}var lue=oue,uue=lue,P2=Gs;function u4(t,e,r,n,i){return t===e?!0:t==null||e==null||!P2(t)&&!P2(e)?t!==t&&e!==e:uue(t,e,r,n,u4,i)}var ZT=u4,cue=Q5,due=ZT,fue=1,hue=2;function pue(t,e,r,n){var i=r.length,a=i,s=!n;if(t==null)return!a;for(t=Object(t);i--;){var o=r[i];if(s&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++i<a;){o=r[i];var l=o[0],u=t[l],c=o[1];if(s&&o[2]){if(u===void 0&&!(l in t))return!1}else{var d=new cue;if(n)var h=n(u,c,l,t,e,d);if(!(h===void 0?due(c,u,fue|hue,n,d):h))return!1}}return!0}var mue=pue,yue=xl;function gue(t){return t===t&&!yue(t)}var c4=gue,vue=c4,xue=Zx;function bue(t){for(var e=xue(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,vue(i)]}return e}var wue=bue;function _ue(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var d4=_ue,Eue=mue,Sue=wue,Aue=d4;function Tue(t){var e=Sue(t);return e.length==1&&e[0][2]?Aue(e[0][0],e[0][1]):function(r){return r===t||Eue(r,t,e)}}var Pue=Tue;function Oue(t,e){return t!=null&&e in Object(t)}var Iue=Oue,Cue=v5,kue=YT,Nue=ri,jue=QT,Rue=XT,Due=$x;function Mue(t,e,r){e=Cue(e,t);for(var n=-1,i=e.length,a=!1;++n<i;){var s=Due(e[n]);if(!(a=t!=null&&r(t,s)))break;t=t[s]}return a||++n!=i?a:(i=t==null?0:t.length,!!i&&Rue(i)&&jue(s,i)&&(Nue(t)||kue(t)))}var $ue=Mue,Lue=Iue,Fue=$ue;function Vue(t,e){return t!=null&&Fue(t,e,Lue)}var Bue=Vue,Uue=ZT,zue=x5,Wue=Bue,Hue=kT,que=c4,Kue=d4,Gue=$x,Yue=1,Que=2;function Xue(t,e){return Hue(t)&&que(e)?Kue(Gue(t),e):function(r){var n=zue(r,t);return n===void 0&&n===e?Wue(r,t):Uue(e,n,Yue|Que)}}var Zue=Xue;function Jue(t){return t}var If=Jue;function ece(t){return function(e){return e==null?void 0:e[t]}}var tce=ece,rce=LT;function nce(t){return function(e){return rce(e,t)}}var ice=nce,ace=tce,sce=ice,oce=kT,lce=$x;function uce(t){return oce(t)?ace(lce(t)):sce(t)}var cce=uce,dce=Pue,fce=Zue,hce=If,pce=ri,mce=cce;function yce(t){return typeof t=="function"?t:t==null?hce:typeof t=="object"?pce(t)?fce(t[0],t[1]):dce(t):mce(t)}var Ka=yce;function gce(t,e,r,n){for(var i=t.length,a=r+(n?1:-1);n?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var f4=gce;function vce(t){return t!==t}var xce=vce;function bce(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}var wce=bce,_ce=f4,Ece=xce,Sce=wce;function Ace(t,e,r){return e===e?Sce(t,e,r):_ce(t,Ece,r)}var Tce=Ace,Pce=Tce;function Oce(t,e){var r=t==null?0:t.length;return!!r&&Pce(t,e,0)>-1}var Ice=Oce;function Cce(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}var kce=Cce;function Nce(){}var jce=Nce,Nw=o4,Rce=jce,Dce=GT,Mce=1/0,$ce=Nw&&1/Dce(new Nw([,-0]))[1]==Mce?function(t){return new Nw(t)}:Rce,Lce=$ce,Fce=X5,Vce=Ice,Bce=kce,Uce=J5,zce=Lce,Wce=GT,Hce=200;function qce(t,e,r){var n=-1,i=Vce,a=t.length,s=!0,o=[],l=o;if(r)s=!1,i=Bce;else if(a>=Hce){var u=e?null:zce(t);if(u)return Wce(u);s=!1,i=Uce,l=new Fce}else l=e?[]:o;e:for(;++n<a;){var c=t[n],d=e?e(c):c;if(c=r||c!==0?c:0,s&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;e&&l.push(d),o.push(c)}else i(l,d,r)||(l!==o&&l.push(d),o.push(c))}return o}var Kce=qce,Gce=Ka,Yce=Kce;function Qce(t,e){return t&&t.length?Yce(t,Gce(e)):[]}var Xce=Qce;const O2=wt(Xce);function h4(t,e,r){return e===!0?O2(t,r):ze(e)?O2(t,e):t}function Cd(t){"@babel/helpers - typeof";return Cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cd(t)}var Zce=["ref"];function I2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ts(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?I2(Object(r),!0).forEach(function(n){Jx(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):I2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Jce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C2(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,m4(n.key),n)}}function ede(t,e,r){return e&&C2(t.prototype,e),r&&C2(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function tde(t,e,r){return e=Lv(e),rde(t,p4()?Reflect.construct(e,r||[],Lv(t).constructor):e.apply(t,r))}function rde(t,e){if(e&&(Cd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nde(t)}function nde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(p4=function(){return!!t})()}function Lv(t){return Lv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lv(t)}function ide(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dE(t,e)}function dE(t,e){return dE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},dE(t,e)}function Jx(t,e,r){return e=m4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function m4(t){var e=ade(t,"string");return Cd(e)=="symbol"?e:e+""}function ade(t,e){if(Cd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function sde(t,e){if(t==null)return{};var r=ode(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ode(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function lde(t){return t.value}function ude(t,e){if(M.isValidElement(t))return M.cloneElement(t,e);if(typeof t=="function")return M.createElement(t,e);e.ref;var r=sde(e,Zce);return M.createElement(KT,r)}var k2=1,ua=function(t){function e(){var r;Jce(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=tde(this,e,[].concat(i)),Jx(r,"lastBoundingBox",{width:-1,height:-1}),r}return ide(e,t),ede(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>k2||Math.abs(i.height-this.lastBoundingBox.height)>k2)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ts({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,s=i.align,o=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,d,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&a==="vertical"){var p=this.getBBoxSnapshot();d={left:((u||0)-p.width)/2}}else d=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(o==="middle"){var g=this.getBBoxSnapshot();h={top:((c||0)-g.height)/2}}else h=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return ts(ts({},d),h)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,s=i.width,o=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,d=ts(ts({position:"absolute",width:s||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return M.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(p){n.wrapperNode=p}},ude(a,ts(ts({},this.props),{},{payload:h4(c,u,lde)})))}}],[{key:"getWithHeight",value:function(n,i){var a=ts(ts({},this.defaultProps),n.props),s=a.layout;return s==="vertical"&&ue(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||i}:null}}])}(T.PureComponent);Jx(ua,"displayName","Legend");Jx(ua,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var N2=qm,cde=YT,dde=ri,j2=N2?N2.isConcatSpreadable:void 0;function fde(t){return dde(t)||cde(t)||!!(j2&&t&&t[j2])}var hde=fde,pde=t4,mde=hde;function y4(t,e,r,n,i){var a=-1,s=t.length;for(r||(r=mde),i||(i=[]);++a<s;){var o=t[a];e>0&&r(o)?e>1?y4(o,e-1,r,n,i):pde(i,o):n||(i[i.length]=o)}return i}var g4=y4;function yde(t){return function(e,r,n){for(var i=-1,a=Object(e),s=n(e),o=s.length;o--;){var l=s[t?o:++i];if(r(a[l],l,a)===!1)break}return e}}var gde=yde,vde=gde,xde=vde(),bde=xde,wde=bde,_de=Zx;function Ede(t,e){return t&&wde(t,e,_de)}var v4=Ede,Sde=Km;function Ade(t,e){return function(r,n){if(r==null)return r;if(!Sde(r))return t(r,n);for(var i=r.length,a=e?i:-1,s=Object(r);(e?a--:++a<i)&&n(s[a],a,s)!==!1;);return r}}var Tde=Ade,Pde=v4,Ode=Tde,Ide=Ode(Pde),JT=Ide,Cde=JT,kde=Km;function Nde(t,e){var r=-1,n=kde(t)?Array(t.length):[];return Cde(t,function(i,a,s){n[++r]=e(i,a,s)}),n}var x4=Nde;function jde(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}var Rde=jde,R2=wf;function Dde(t,e){if(t!==e){var r=t!==void 0,n=t===null,i=t===t,a=R2(t),s=e!==void 0,o=e===null,l=e===e,u=R2(e);if(!o&&!u&&!a&&t>e||a&&s&&l&&!o&&!u||n&&s&&l||!r&&l||!i)return 1;if(!n&&!a&&!u&&t<e||u&&r&&i&&!n&&!a||o&&r&&i||!s&&i||!l)return-1}return 0}var Mde=Dde,$de=Mde;function Lde(t,e,r){for(var n=-1,i=t.criteria,a=e.criteria,s=i.length,o=r.length;++n<s;){var l=$de(i[n],a[n]);if(l){if(n>=o)return l;var u=r[n];return l*(u=="desc"?-1:1)}}return t.index-e.index}var Fde=Lde,jw=$T,Vde=LT,Bde=Ka,Ude=x4,zde=Rde,Wde=i4,Hde=Fde,qde=If,Kde=ri;function Gde(t,e,r){e.length?e=jw(e,function(a){return Kde(a)?function(s){return Vde(s,a.length===1?a[0]:a)}:a}):e=[qde];var n=-1;e=jw(e,Wde(Bde));var i=Ude(t,function(a,s,o){var l=jw(e,function(u){return u(a)});return{criteria:l,index:++n,value:a}});return zde(i,function(a,s){return Hde(a,s,r)})}var Yde=Gde;function Qde(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var Xde=Qde,Zde=Xde,D2=Math.max;function Jde(t,e,r){return e=D2(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,a=D2(n.length-e,0),s=Array(a);++i<a;)s[i]=n[e+i];i=-1;for(var o=Array(e+1);++i<e;)o[i]=n[i];return o[e]=r(s),Zde(t,this,o)}}var efe=Jde;function tfe(t){return function(){return t}}var rfe=tfe,nfe=Xu,ife=function(){try{var t=nfe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),b4=ife,afe=rfe,M2=b4,sfe=If,ofe=M2?function(t,e){return M2(t,"toString",{configurable:!0,enumerable:!1,value:afe(e),writable:!0})}:sfe,lfe=ofe,ufe=800,cfe=16,dfe=Date.now;function ffe(t){var e=0,r=0;return function(){var n=dfe(),i=cfe-(n-r);if(r=n,i>0){if(++e>=ufe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var hfe=ffe,pfe=lfe,mfe=hfe,yfe=mfe(pfe),gfe=yfe,vfe=If,xfe=efe,bfe=gfe;function wfe(t,e){return bfe(xfe(t,e,vfe),t+"")}var _fe=wfe,Efe=jT,Sfe=Km,Afe=QT,Tfe=xl;function Pfe(t,e,r){if(!Tfe(r))return!1;var n=typeof e;return(n=="number"?Sfe(r)&&Afe(e,r.length):n=="string"&&e in r)?Efe(r[e],t):!1}var eb=Pfe,Ofe=g4,Ife=Yde,Cfe=_fe,$2=eb,kfe=Cfe(function(t,e){if(t==null)return[];var r=e.length;return r>1&&$2(t,e[0],e[1])?e=[]:r>2&&$2(e[0],e[1],e[2])&&(e=[e[0]]),Ife(t,Ofe(e,1),[])}),Nfe=kfe;const eP=wt(Nfe);function $p(t){"@babel/helpers - typeof";return $p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$p(t)}function fE(){return fE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fE.apply(this,arguments)}function jfe(t,e){return $fe(t)||Mfe(t,e)||Dfe(t,e)||Rfe()}function Rfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dfe(t,e){if(t){if(typeof t=="string")return L2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return L2(t,e)}}function L2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Mfe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function $fe(t){if(Array.isArray(t))return t}function F2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Rw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?F2(Object(r),!0).forEach(function(n){Lfe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):F2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Lfe(t,e,r){return e=Ffe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ffe(t){var e=Vfe(t,"string");return $p(e)=="symbol"?e:e+""}function Vfe(t,e){if($p(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($p(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bfe(t){return Array.isArray(t)&&Vr(t[0])&&Vr(t[1])?t.join(" ~ "):t}var Ufe=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,a=i===void 0?{}:i,s=e.itemStyle,o=s===void 0?{}:s,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,d=e.formatter,h=e.itemSorter,p=e.wrapperClassName,g=e.labelClassName,y=e.label,v=e.labelFormatter,b=e.accessibilityLayer,x=b===void 0?!1:b,_=function(){if(c&&c.length){var R={padding:0,margin:0},j=(h?eP(c,h):c).map(function(B,L){if(B.type==="none")return null;var U=Rw({display:"block",paddingTop:4,paddingBottom:4,color:B.color||"#000"},o),W=B.formatter||d||Bfe,$=B.value,H=B.name,Y=$,re=H;if(W&&Y!=null&&re!=null){var X=W($,H,B,L,c);if(Array.isArray(X)){var ae=jfe(X,2);Y=ae[0],re=ae[1]}else Y=X}return M.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(L),style:U},Vr(re)?M.createElement("span",{className:"recharts-tooltip-item-name"},re):null,Vr(re)?M.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,M.createElement("span",{className:"recharts-tooltip-item-value"},Y),M.createElement("span",{className:"recharts-tooltip-item-unit"},B.unit||""))});return M.createElement("ul",{className:"recharts-tooltip-item-list",style:R},j)}return null},O=Rw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),E=Rw({margin:0},u),P=!Qe(y),w=P?y:"",S=Be("recharts-default-tooltip",p),I=Be("recharts-tooltip-label",g);P&&v&&c!==void 0&&c!==null&&(w=v(y,c));var k=x?{role:"status","aria-live":"assertive"}:{};return M.createElement("div",fE({className:S,style:O},k),M.createElement("p",{className:I,style:E},M.isValidElement(w)?w:"".concat(w)),_())};function Lp(t){"@babel/helpers - typeof";return Lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lp(t)}function Ky(t,e,r){return e=zfe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zfe(t){var e=Wfe(t,"string");return Lp(e)=="symbol"?e:e+""}function Wfe(t,e){if(Lp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Lp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lh="recharts-tooltip-wrapper",Hfe={visibility:"hidden"};function qfe(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return Be(lh,Ky(Ky(Ky(Ky({},"".concat(lh,"-right"),ue(r)&&e&&ue(e.x)&&r>=e.x),"".concat(lh,"-left"),ue(r)&&e&&ue(e.x)&&r<e.x),"".concat(lh,"-bottom"),ue(n)&&e&&ue(e.y)&&n>=e.y),"".concat(lh,"-top"),ue(n)&&e&&ue(e.y)&&n<e.y))}function V2(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,a=t.position,s=t.reverseDirection,o=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(a&&ue(a[n]))return a[n];var c=r[n]-o-i,d=r[n]+i;if(e[n])return s[n]?c:d;if(s[n]){var h=c,p=l[n];return h<p?Math.max(d,l[n]):Math.max(c,l[n])}var g=d+o,y=l[n]+u;return g>y?Math.max(c,l[n]):Math.max(d,l[n])}function Kfe(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function Gfe(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,a=t.reverseDirection,s=t.tooltipBox,o=t.useTranslate3d,l=t.viewBox,u,c,d;return s.height>0&&s.width>0&&r?(c=V2({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),d=V2({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),u=Kfe({translateX:c,translateY:d,useTranslate3d:o})):u=Hfe,{cssProperties:u,cssClasses:qfe({translateX:c,translateY:d,coordinate:r})}}function kd(t){"@babel/helpers - typeof";return kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kd(t)}function B2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function U2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?B2(Object(r),!0).forEach(function(n){pE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):B2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Yfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qfe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_4(n.key),n)}}function Xfe(t,e,r){return e&&Qfe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zfe(t,e,r){return e=Fv(e),Jfe(t,w4()?Reflect.construct(e,r||[],Fv(t).constructor):e.apply(t,r))}function Jfe(t,e){if(e&&(kd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ehe(t)}function ehe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function w4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w4=function(){return!!t})()}function Fv(t){return Fv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fv(t)}function the(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hE(t,e)}function hE(t,e){return hE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},hE(t,e)}function pE(t,e,r){return e=_4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _4(t){var e=rhe(t,"string");return kd(e)=="symbol"?e:e+""}function rhe(t,e){if(kd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(kd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var z2=1,nhe=function(t){function e(){var r;Yfe(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Zfe(this,e,[].concat(i)),pE(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),pE(r,"handleKeyDown",function(s){if(s.key==="Escape"){var o,l,u,c;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(u=(c=r.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),r}return the(e,t),Xfe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>z2||Math.abs(n.height-this.state.lastBoundingBox.height)>z2)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,d=i.hasPayload,h=i.isAnimationActive,p=i.offset,g=i.position,y=i.reverseDirection,v=i.useTranslate3d,b=i.viewBox,x=i.wrapperStyle,_=Gfe({allowEscapeViewBox:s,coordinate:c,offsetTopLeft:p,position:g,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:b}),O=_.cssClasses,E=_.cssProperties,P=U2(U2({transition:h&&a?"transform ".concat(o,"ms ").concat(l):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&d?"visible":"hidden",position:"absolute",top:0,left:0},x);return M.createElement("div",{tabIndex:-1,className:O,style:P,ref:function(S){n.wrapperNode=S}},u)}}])}(T.PureComponent),ihe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},bl={isSsr:ihe()};function Nd(t){"@babel/helpers - typeof";return Nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nd(t)}function W2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function H2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?W2(Object(r),!0).forEach(function(n){tP(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):W2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ahe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function she(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,S4(n.key),n)}}function ohe(t,e,r){return e&&she(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function lhe(t,e,r){return e=Vv(e),uhe(t,E4()?Reflect.construct(e,r||[],Vv(t).constructor):e.apply(t,r))}function uhe(t,e){if(e&&(Nd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return che(t)}function che(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function E4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E4=function(){return!!t})()}function Vv(t){return Vv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vv(t)}function dhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mE(t,e)}function mE(t,e){return mE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},mE(t,e)}function tP(t,e,r){return e=S4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function S4(t){var e=fhe(t,"string");return Nd(e)=="symbol"?e:e+""}function fhe(t,e){if(Nd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function hhe(t){return t.dataKey}function phe(t,e){return M.isValidElement(t)?M.cloneElement(t,e):typeof t=="function"?M.createElement(t,e):M.createElement(Ufe,e)}var Kn=function(t){function e(){return ahe(this,e),lhe(this,e,arguments)}return dhe(e,t),ohe(e,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,d=i.filterNull,h=i.isAnimationActive,p=i.offset,g=i.payload,y=i.payloadUniqBy,v=i.position,b=i.reverseDirection,x=i.useTranslate3d,_=i.viewBox,O=i.wrapperStyle,E=g??[];d&&E.length&&(E=h4(g.filter(function(w){return w.value!=null&&(w.hide!==!0||n.props.includeHidden)}),y,hhe));var P=E.length>0;return M.createElement(nhe,{allowEscapeViewBox:s,animationDuration:o,animationEasing:l,isAnimationActive:h,active:a,coordinate:c,hasPayload:P,offset:p,position:v,reverseDirection:b,useTranslate3d:x,viewBox:_,wrapperStyle:O},phe(u,H2(H2({},this.props),{},{payload:E})))}}])}(T.PureComponent);tP(Kn,"displayName","Tooltip");tP(Kn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!bl.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var mhe=qa,yhe=function(){return mhe.Date.now()},ghe=yhe,vhe=/\s/;function xhe(t){for(var e=t.length;e--&&vhe.test(t.charAt(e)););return e}var bhe=xhe,whe=bhe,_he=/^\s+/;function Ehe(t){return t&&t.slice(0,whe(t)+1).replace(_he,"")}var She=Ehe,Ahe=She,q2=xl,The=wf,K2=NaN,Phe=/^[-+]0x[0-9a-f]+$/i,Ohe=/^0b[01]+$/i,Ihe=/^0o[0-7]+$/i,Che=parseInt;function khe(t){if(typeof t=="number")return t;if(The(t))return K2;if(q2(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=q2(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Ahe(t);var r=Ohe.test(t);return r||Ihe.test(t)?Che(t.slice(2),r?2:8):Phe.test(t)?K2:+t}var A4=khe,Nhe=xl,Dw=ghe,G2=A4,jhe="Expected a function",Rhe=Math.max,Dhe=Math.min;function Mhe(t,e,r){var n,i,a,s,o,l,u=0,c=!1,d=!1,h=!0;if(typeof t!="function")throw new TypeError(jhe);e=G2(e)||0,Nhe(r)&&(c=!!r.leading,d="maxWait"in r,a=d?Rhe(G2(r.maxWait)||0,e):a,h="trailing"in r?!!r.trailing:h);function p(P){var w=n,S=i;return n=i=void 0,u=P,s=t.apply(S,w),s}function g(P){return u=P,o=setTimeout(b,e),c?p(P):s}function y(P){var w=P-l,S=P-u,I=e-w;return d?Dhe(I,a-S):I}function v(P){var w=P-l,S=P-u;return l===void 0||w>=e||w<0||d&&S>=a}function b(){var P=Dw();if(v(P))return x(P);o=setTimeout(b,y(P))}function x(P){return o=void 0,h&&n?p(P):(n=i=void 0,s)}function _(){o!==void 0&&clearTimeout(o),u=0,n=l=i=o=void 0}function O(){return o===void 0?s:x(Dw())}function E(){var P=Dw(),w=v(P);if(n=arguments,i=this,l=P,w){if(o===void 0)return g(l);if(d)return clearTimeout(o),o=setTimeout(b,e),p(l)}return o===void 0&&(o=setTimeout(b,e)),s}return E.cancel=_,E.flush=O,E}var $he=Mhe,Lhe=$he,Fhe=xl,Vhe="Expected a function";function Bhe(t,e,r){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(Vhe);return Fhe(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),Lhe(t,e,{leading:n,maxWait:e,trailing:i})}var Uhe=Bhe;const T4=wt(Uhe);function Fp(t){"@babel/helpers - typeof";return Fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fp(t)}function Y2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Gy(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Y2(Object(r),!0).forEach(function(n){zhe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Y2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zhe(t,e,r){return e=Whe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Whe(t){var e=Hhe(t,"string");return Fp(e)=="symbol"?e:e+""}function Hhe(t,e){if(Fp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qhe(t,e){return Qhe(t)||Yhe(t,e)||Ghe(t,e)||Khe()}function Khe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ghe(t,e){if(t){if(typeof t=="string")return Q2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Q2(t,e)}}function Q2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Yhe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function Qhe(t){if(Array.isArray(t))return t}var Gm=T.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=t.width,s=a===void 0?"100%":a,o=t.height,l=o===void 0?"100%":o,u=t.minWidth,c=u===void 0?0:u,d=t.minHeight,h=t.maxHeight,p=t.children,g=t.debounce,y=g===void 0?0:g,v=t.id,b=t.className,x=t.onResize,_=t.style,O=_===void 0?{}:_,E=T.useRef(null),P=T.useRef();P.current=x,T.useImperativeHandle(e,function(){return Object.defineProperty(E.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),E.current},configurable:!0})});var w=T.useState({containerWidth:i.width,containerHeight:i.height}),S=qhe(w,2),I=S[0],k=S[1],N=T.useCallback(function(j,B){k(function(L){var U=Math.round(j),W=Math.round(B);return L.containerWidth===U&&L.containerHeight===W?L:{containerWidth:U,containerHeight:W}})},[]);T.useEffect(function(){var j=function(H){var Y,re=H[0].contentRect,X=re.width,ae=re.height;N(X,ae),(Y=P.current)===null||Y===void 0||Y.call(P,X,ae)};y>0&&(j=T4(j,y,{trailing:!0,leading:!1}));var B=new ResizeObserver(j),L=E.current.getBoundingClientRect(),U=L.width,W=L.height;return N(U,W),B.observe(E.current),function(){B.disconnect()}},[N,y]);var R=T.useMemo(function(){var j=I.containerWidth,B=I.containerHeight;if(j<0||B<0)return null;la(Ql(s)||Ql(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),la(!r||r>0,"The aspect(%s) must be greater than zero.",r);var L=Ql(s)?j:s,U=Ql(l)?B:l;r&&r>0&&(L?U=L/r:U&&(L=U*r),h&&U>h&&(U=h)),la(L>0||U>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,L,U,s,l,c,d,r);var W=!Array.isArray(p)&&Ts(p.type).endsWith("Chart");return M.Children.map(p,function($){return M.isValidElement($)?T.cloneElement($,Gy({width:L,height:U},W?{style:Gy({height:"100%",width:"100%",maxHeight:U,maxWidth:L},$.props.style)}:{})):$})},[r,p,l,h,d,c,I,s]);return M.createElement("div",{id:v?"".concat(v):void 0,className:Be("recharts-responsive-container",b),style:Gy(Gy({},O),{},{width:s,height:l,minWidth:c,minHeight:d,maxHeight:h}),ref:E},R)}),tb=function(e){return null};tb.displayName="Cell";function Vp(t){"@babel/helpers - typeof";return Vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vp(t)}function X2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?X2(Object(r),!0).forEach(function(n){Xhe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):X2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Xhe(t,e,r){return e=Zhe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Zhe(t){var e=Jhe(t,"string");return Vp(e)=="symbol"?e:e+""}function Jhe(t,e){if(Vp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cc={widthCache:{},cacheCount:0},epe=2e3,tpe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Z2="recharts_measurement_span";function rpe(t){var e=yE({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var Kh=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||bl.isSsr)return{width:0,height:0};var n=rpe(r),i=JSON.stringify({text:e,copyStyle:n});if(cc.widthCache[i])return cc.widthCache[i];try{var a=document.getElementById(Z2);a||(a=document.createElement("span"),a.setAttribute("id",Z2),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=yE(yE({},tpe),n);Object.assign(a.style,s),a.textContent="".concat(e);var o=a.getBoundingClientRect(),l={width:o.width,height:o.height};return cc.widthCache[i]=l,++cc.cacheCount>epe&&(cc.cacheCount=0,cc.widthCache={}),l}catch{return{width:0,height:0}}},npe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Bp(t){"@babel/helpers - typeof";return Bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bp(t)}function Bv(t,e){return ope(t)||spe(t,e)||ape(t,e)||ipe()}function ipe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ape(t,e){if(t){if(typeof t=="string")return J2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return J2(t,e)}}function J2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function spe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function ope(t){if(Array.isArray(t))return t}function lpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eN(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,cpe(n.key),n)}}function upe(t,e,r){return e&&eN(t.prototype,e),r&&eN(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function cpe(t){var e=dpe(t,"string");return Bp(e)=="symbol"?e:e+""}function dpe(t,e){if(Bp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var tN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,rN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,fpe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,hpe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,P4={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},ppe=Object.keys(P4),jc="NaN";function mpe(t,e){return t*P4[e]}var Yy=function(){function t(e,r){lpe(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!fpe.test(r)&&(this.num=NaN,this.unit=""),ppe.includes(r)&&(this.num=mpe(e,r),this.unit="px")}return upe(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=hpe.exec(r))!==null&&n!==void 0?n:[],a=Bv(i,3),s=a[1],o=a[2];return new t(parseFloat(s),o??"")}}])}();function O4(t){if(t.includes(jc))return jc;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=tN.exec(e))!==null&&r!==void 0?r:[],i=Bv(n,4),a=i[1],s=i[2],o=i[3],l=Yy.parse(a??""),u=Yy.parse(o??""),c=s==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return jc;e=e.replace(tN,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,h=(d=rN.exec(e))!==null&&d!==void 0?d:[],p=Bv(h,4),g=p[1],y=p[2],v=p[3],b=Yy.parse(g??""),x=Yy.parse(v??""),_=y==="+"?b.add(x):b.subtract(x);if(_.isNaN())return jc;e=e.replace(rN,_.toString())}return e}var nN=/\(([^()]*)\)/;function ype(t){for(var e=t;e.includes("(");){var r=nN.exec(e),n=Bv(r,2),i=n[1];e=e.replace(nN,O4(i))}return e}function gpe(t){var e=t.replace(/\s+/g,"");return e=ype(e),e=O4(e),e}function vpe(t){try{return gpe(t)}catch{return jc}}function Mw(t){var e=vpe(t.slice(5,-1));return e===jc?"":e}var xpe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],bpe=["dx","dy","angle","className","breakAll"];function gE(){return gE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gE.apply(this,arguments)}function iN(t,e){if(t==null)return{};var r=wpe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function wpe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function aN(t,e){return Ape(t)||Spe(t,e)||Epe(t,e)||_pe()}function _pe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Epe(t,e){if(t){if(typeof t=="string")return sN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sN(t,e)}}function sN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Spe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function Ape(t){if(Array.isArray(t))return t}var I4=/[ \f\n\r\t\v\u2028\u2029]+/,C4=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var a=[];Qe(r)||(n?a=r.toString().split(""):a=r.toString().split(I4));var s=a.map(function(l){return{word:l,width:Kh(l,i).width}}),o=n?0:Kh("",i).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},Tpe=function(e,r,n,i,a){var s=e.maxLines,o=e.children,l=e.style,u=e.breakAll,c=ue(s),d=o,h=function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return L.reduce(function(U,W){var $=W.word,H=W.width,Y=U[U.length-1];if(Y&&(i==null||a||Y.width+H+n<Number(i)))Y.words.push($),Y.width+=H+n;else{var re={words:[$],width:H};U.push(re)}return U},[])},p=h(r),g=function(L){return L.reduce(function(U,W){return U.width>W.width?U:W})};if(!c)return p;for(var y="",v=function(L){var U=d.slice(0,L),W=C4({breakAll:u,style:l,children:U+y}).wordsWithComputedWidth,$=h(W),H=$.length>s||g($).width>Number(i);return[H,$]},b=0,x=d.length-1,_=0,O;b<=x&&_<=d.length-1;){var E=Math.floor((b+x)/2),P=E-1,w=v(P),S=aN(w,2),I=S[0],k=S[1],N=v(E),R=aN(N,1),j=R[0];if(!I&&!j&&(b=E+1),I&&j&&(x=E-1),!I&&j){O=k;break}_++}return O||p},oN=function(e){var r=Qe(e)?[]:e.toString().split(I4);return[{words:r}]},Ppe=function(e){var r=e.width,n=e.scaleToFit,i=e.children,a=e.style,s=e.breakAll,o=e.maxLines;if((r||n)&&!bl.isSsr){var l,u,c=C4({breakAll:s,children:i,style:a});if(c){var d=c.wordsWithComputedWidth,h=c.spaceWidth;l=d,u=h}else return oN(i);return Tpe({breakAll:s,children:i,maxLines:o,style:a},l,u,r,n)}return oN(i)},lN="#808080",Mu=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,s=e.lineHeight,o=s===void 0?"1em":s,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,d=c===void 0?!1:c,h=e.textAnchor,p=h===void 0?"start":h,g=e.verticalAnchor,y=g===void 0?"end":g,v=e.fill,b=v===void 0?lN:v,x=iN(e,xpe),_=T.useMemo(function(){return Ppe({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:d,style:x.style,width:x.width})},[x.breakAll,x.children,x.maxLines,d,x.style,x.width]),O=x.dx,E=x.dy,P=x.angle,w=x.className,S=x.breakAll,I=iN(x,bpe);if(!Vr(n)||!Vr(a))return null;var k=n+(ue(O)?O:0),N=a+(ue(E)?E:0),R;switch(y){case"start":R=Mw("calc(".concat(u,")"));break;case"middle":R=Mw("calc(".concat((_.length-1)/2," * -").concat(o," + (").concat(u," / 2))"));break;default:R=Mw("calc(".concat(_.length-1," * -").concat(o,")"));break}var j=[];if(d){var B=_[0].width,L=x.width;j.push("scale(".concat((ue(L)?L/B:1)/B,")"))}return P&&j.push("rotate(".concat(P,", ").concat(k,", ").concat(N,")")),j.length&&(I.transform=j.join(" ")),M.createElement("text",gE({},$e(I,!0),{x:k,y:N,className:Be("recharts-text",w),textAnchor:p,fill:b.includes("url")?lN:b}),_.map(function(U,W){var $=U.words.join(S?"":" ");return M.createElement("tspan",{x:k,dy:W===0?R:o,key:"".concat($,"-").concat(W)},$)}))};function tl(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ope(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function rP(t){let e,r,n;t.length!==2?(e=tl,r=(o,l)=>tl(t(o),l),n=(o,l)=>t(o)-l):(e=t===tl||t===Ope?t:Ipe,r=t,n=t);function i(o,l,u=0,c=o.length){if(u<c){if(e(l,l)!==0)return c;do{const d=u+c>>>1;r(o[d],l)<0?u=d+1:c=d}while(u<c)}return u}function a(o,l,u=0,c=o.length){if(u<c){if(e(l,l)!==0)return c;do{const d=u+c>>>1;r(o[d],l)<=0?u=d+1:c=d}while(u<c)}return u}function s(o,l,u=0,c=o.length){const d=i(o,l,u,c-1);return d>u&&n(o[d-1],l)>-n(o[d],l)?d-1:d}return{left:i,center:s,right:a}}function Ipe(){return 0}function k4(t){return t===null?NaN:+t}function*Cpe(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const kpe=rP(tl),Ym=kpe.right;rP(k4).center;class uN extends Map{constructor(e,r=Rpe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(cN(this,e))}has(e){return super.has(cN(this,e))}set(e,r){return super.set(Npe(this,e),r)}delete(e){return super.delete(jpe(this,e))}}function cN({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function Npe({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function jpe({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function Rpe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Dpe(t=tl){if(t===tl)return N4;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function N4(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Mpe=Math.sqrt(50),$pe=Math.sqrt(10),Lpe=Math.sqrt(2);function Uv(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=Mpe?10:a>=$pe?5:a>=Lpe?2:1;let o,l,u;return i<0?(u=Math.pow(10,-i)/s,o=Math.round(t*u),l=Math.round(e*u),o/u<t&&++o,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*s,o=Math.round(t/u),l=Math.round(e/u),o*u<t&&++o,l*u>e&&--l),l<o&&.5<=r&&r<2?Uv(t,e,r*2):[o,l,u]}function vE(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,s]=n?Uv(e,t,r):Uv(t,e,r);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(n)if(s<0)for(let u=0;u<o;++u)l[u]=(a-u)/-s;else for(let u=0;u<o;++u)l[u]=(a-u)*s;else if(s<0)for(let u=0;u<o;++u)l[u]=(i+u)/-s;else for(let u=0;u<o;++u)l[u]=(i+u)*s;return l}function xE(t,e,r){return e=+e,t=+t,r=+r,Uv(t,e,r)[2]}function bE(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?xE(e,t,r):xE(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function dN(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function fN(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function j4(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?N4:Dpe(i);n>r;){if(n-r>600){const l=n-r+1,u=e-r+1,c=Math.log(l),d=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*d*(l-d)/l)*(u-l/2<0?-1:1),p=Math.max(r,Math.floor(e-u*d/l+h)),g=Math.min(n,Math.floor(e+(l-u)*d/l+h));j4(t,e,p,g,i)}const a=t[e];let s=r,o=n;for(uh(t,r,e),i(t[n],a)>0&&uh(t,r,n);s<o;){for(uh(t,s,o),++s,--o;i(t[s],a)<0;)++s;for(;i(t[o],a)>0;)--o}i(t[r],a)===0?uh(t,r,o):(++o,uh(t,o,n)),o<=e&&(r=o+1),e<=o&&(n=o-1)}return t}function uh(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function Fpe(t,e,r){if(t=Float64Array.from(Cpe(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return fN(t);if(e>=1)return dN(t);var n,i=(n-1)*e,a=Math.floor(i),s=dN(j4(t,a).subarray(0,a+1)),o=fN(t.subarray(a+1));return s+(o-s)*(i-a)}}function Vpe(t,e,r=k4){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),s=+r(t[a],a,t),o=+r(t[a+1],a+1,t);return s+(o-s)*(i-a)}}function Bpe(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function Vi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Ys(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const wE=Symbol("implicit");function nP(){var t=new uN,e=[],r=[],n=wE;function i(a){let s=t.get(a);if(s===void 0){if(n!==wE)return n;t.set(a,s=e.push(a)-1)}return r[s%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new uN;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return nP(e,r).unknown(n)},Vi.apply(i,arguments),i}function Up(){var t=nP().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,s,o=!1,l=0,u=0,c=.5;delete t.unknown;function d(){var h=e().length,p=i<n,g=p?i:n,y=p?n:i;a=(y-g)/Math.max(1,h-l+u*2),o&&(a=Math.floor(a)),g+=(y-g-a*(h-l))*c,s=a*(1-l),o&&(g=Math.round(g),s=Math.round(s));var v=Bpe(h).map(function(b){return g+a*b});return r(p?v.reverse():v)}return t.domain=function(h){return arguments.length?(e(h),d()):e()},t.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,d()):[n,i]},t.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,o=!0,d()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(h){return arguments.length?(o=!!h,d()):o},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),d()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,d()):u},t.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),d()):c},t.copy=function(){return Up(e(),[n,i]).round(o).paddingInner(l).paddingOuter(u).align(c)},Vi.apply(d(),arguments)}function R4(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return R4(e())},t}function Gh(){return R4(Up.apply(null,arguments).paddingInner(1))}function iP(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function D4(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Qm(){}var zp=.7,zv=1/zp,Yc="\\s*([+-]?\\d+)\\s*",Wp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ma="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Upe=/^#([0-9a-f]{3,8})$/,zpe=new RegExp(`^rgb\\(${Yc},${Yc},${Yc}\\)$`),Wpe=new RegExp(`^rgb\\(${Ma},${Ma},${Ma}\\)$`),Hpe=new RegExp(`^rgba\\(${Yc},${Yc},${Yc},${Wp}\\)$`),qpe=new RegExp(`^rgba\\(${Ma},${Ma},${Ma},${Wp}\\)$`),Kpe=new RegExp(`^hsl\\(${Wp},${Ma},${Ma}\\)$`),Gpe=new RegExp(`^hsla\\(${Wp},${Ma},${Ma},${Wp}\\)$`),hN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};iP(Qm,Hp,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:pN,formatHex:pN,formatHex8:Ype,formatHsl:Qpe,formatRgb:mN,toString:mN});function pN(){return this.rgb().formatHex()}function Ype(){return this.rgb().formatHex8()}function Qpe(){return M4(this).formatHsl()}function mN(){return this.rgb().formatRgb()}function Hp(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=Upe.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?yN(e):r===3?new Xn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Qy(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Qy(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=zpe.exec(t))?new Xn(e[1],e[2],e[3],1):(e=Wpe.exec(t))?new Xn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Hpe.exec(t))?Qy(e[1],e[2],e[3],e[4]):(e=qpe.exec(t))?Qy(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Kpe.exec(t))?xN(e[1],e[2]/100,e[3]/100,1):(e=Gpe.exec(t))?xN(e[1],e[2]/100,e[3]/100,e[4]):hN.hasOwnProperty(t)?yN(hN[t]):t==="transparent"?new Xn(NaN,NaN,NaN,0):null}function yN(t){return new Xn(t>>16&255,t>>8&255,t&255,1)}function Qy(t,e,r,n){return n<=0&&(t=e=r=NaN),new Xn(t,e,r,n)}function Xpe(t){return t instanceof Qm||(t=Hp(t)),t?(t=t.rgb(),new Xn(t.r,t.g,t.b,t.opacity)):new Xn}function _E(t,e,r,n){return arguments.length===1?Xpe(t):new Xn(t,e,r,n??1)}function Xn(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}iP(Xn,_E,D4(Qm,{brighter(t){return t=t==null?zv:Math.pow(zv,t),new Xn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?zp:Math.pow(zp,t),new Xn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Xn(mu(this.r),mu(this.g),mu(this.b),Wv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:gN,formatHex:gN,formatHex8:Zpe,formatRgb:vN,toString:vN}));function gN(){return`#${Xl(this.r)}${Xl(this.g)}${Xl(this.b)}`}function Zpe(){return`#${Xl(this.r)}${Xl(this.g)}${Xl(this.b)}${Xl((isNaN(this.opacity)?1:this.opacity)*255)}`}function vN(){const t=Wv(this.opacity);return`${t===1?"rgb(":"rgba("}${mu(this.r)}, ${mu(this.g)}, ${mu(this.b)}${t===1?")":`, ${t})`}`}function Wv(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function mu(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Xl(t){return t=mu(t),(t<16?"0":"")+t.toString(16)}function xN(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new ta(t,e,r,n)}function M4(t){if(t instanceof ta)return new ta(t.h,t.s,t.l,t.opacity);if(t instanceof Qm||(t=Hp(t)),!t)return new ta;if(t instanceof ta)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),s=NaN,o=a-i,l=(a+i)/2;return o?(e===a?s=(r-n)/o+(r<n)*6:r===a?s=(n-e)/o+2:s=(e-r)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new ta(s,o,l,t.opacity)}function Jpe(t,e,r,n){return arguments.length===1?M4(t):new ta(t,e,r,n??1)}function ta(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}iP(ta,Jpe,D4(Qm,{brighter(t){return t=t==null?zv:Math.pow(zv,t),new ta(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?zp:Math.pow(zp,t),new ta(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new Xn($w(t>=240?t-240:t+120,i,n),$w(t,i,n),$w(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new ta(bN(this.h),Xy(this.s),Xy(this.l),Wv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Wv(this.opacity);return`${t===1?"hsl(":"hsla("}${bN(this.h)}, ${Xy(this.s)*100}%, ${Xy(this.l)*100}%${t===1?")":`, ${t})`}`}}));function bN(t){return t=(t||0)%360,t<0?t+360:t}function Xy(t){return Math.max(0,Math.min(1,t||0))}function $w(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const aP=t=>()=>t;function eme(t,e){return function(r){return t+r*e}}function tme(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function rme(t){return(t=+t)==1?$4:function(e,r){return r-e?tme(e,r,t):aP(isNaN(e)?r:e)}}function $4(t,e){var r=e-t;return r?eme(t,r):aP(isNaN(t)?e:t)}const wN=function t(e){var r=rme(e);function n(i,a){var s=r((i=_E(i)).r,(a=_E(a)).r),o=r(i.g,a.g),l=r(i.b,a.b),u=$4(i.opacity,a.opacity);return function(c){return i.r=s(c),i.g=o(c),i.b=l(c),i.opacity=u(c),i+""}}return n.gamma=t,n}(1);function nme(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function ime(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function ame(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),s;for(s=0;s<n;++s)i[s]=Cf(t[s],e[s]);for(;s<r;++s)a[s]=e[s];return function(o){for(s=0;s<n;++s)a[s]=i[s](o);return a}}function sme(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function Hv(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function ome(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=Cf(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var EE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Lw=new RegExp(EE.source,"g");function lme(t){return function(){return t}}function ume(t){return function(e){return t(e)+""}}function cme(t,e){var r=EE.lastIndex=Lw.lastIndex=0,n,i,a,s=-1,o=[],l=[];for(t=t+"",e=e+"";(n=EE.exec(t))&&(i=Lw.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),o[s]?o[s]+=a:o[++s]=a),(n=n[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:Hv(n,i)})),r=Lw.lastIndex;return r<e.length&&(a=e.slice(r),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?ume(l[0].x):lme(e):(e=l.length,function(u){for(var c=0,d;c<e;++c)o[(d=l[c]).i]=d.x(u);return o.join("")})}function Cf(t,e){var r=typeof e,n;return e==null||r==="boolean"?aP(e):(r==="number"?Hv:r==="string"?(n=Hp(e))?(e=n,wN):cme:e instanceof Hp?wN:e instanceof Date?sme:ime(e)?nme:Array.isArray(e)?ame:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?ome:Hv)(t,e)}function sP(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function dme(t,e){e===void 0&&(e=t,t=Cf);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return a[o](s-o)}}function fme(t){return function(){return t}}function qv(t){return+t}var _N=[0,1];function $n(t){return t}function SE(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:fme(isNaN(e)?NaN:.5)}function hme(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function pme(t,e,r){var n=t[0],i=t[1],a=e[0],s=e[1];return i<n?(n=SE(i,n),a=r(s,a)):(n=SE(n,i),a=r(a,s)),function(o){return a(n(o))}}function mme(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),s=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<n;)i[s]=SE(t[s],t[s+1]),a[s]=r(e[s],e[s+1]);return function(o){var l=Ym(t,o,1,n)-1;return a[l](i[l](o))}}function Xm(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function rb(){var t=_N,e=_N,r=Cf,n,i,a,s=$n,o,l,u;function c(){var h=Math.min(t.length,e.length);return s!==$n&&(s=hme(t[0],t[h-1])),o=h>2?mme:pme,l=u=null,d}function d(h){return h==null||isNaN(h=+h)?a:(l||(l=o(t.map(n),e,r)))(n(s(h)))}return d.invert=function(h){return s(i((u||(u=o(e,t.map(n),Hv)))(h)))},d.domain=function(h){return arguments.length?(t=Array.from(h,qv),c()):t.slice()},d.range=function(h){return arguments.length?(e=Array.from(h),c()):e.slice()},d.rangeRound=function(h){return e=Array.from(h),r=sP,c()},d.clamp=function(h){return arguments.length?(s=h?!0:$n,c()):s!==$n},d.interpolate=function(h){return arguments.length?(r=h,c()):r},d.unknown=function(h){return arguments.length?(a=h,d):a},function(h,p){return n=h,i=p,c()}}function oP(){return rb()($n,$n)}function yme(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Kv(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function jd(t){return t=Kv(Math.abs(t)),t?t[1]:NaN}function gme(t,e){return function(r,n){for(var i=r.length,a=[],s=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),a.push(r.substring(i-=o,i+o)),!((l+=o+1)>n));)o=t[s=(s+1)%t.length];return a.reverse().join(e)}}function vme(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var xme=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function qp(t){if(!(e=xme.exec(t)))throw new Error("invalid format: "+t);var e;return new lP({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}qp.prototype=lP.prototype;function lP(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}lP.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function bme(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var L4;function wme(t,e){var r=Kv(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-(L4=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+Kv(t,Math.max(0,e+a-1))[0]}function EN(t,e){var r=Kv(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const SN={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:yme,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>EN(t*100,e),r:EN,s:wme,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function AN(t){return t}var TN=Array.prototype.map,PN=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function _me(t){var e=t.grouping===void 0||t.thousands===void 0?AN:gme(TN.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?AN:vme(TN.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(d){d=qp(d);var h=d.fill,p=d.align,g=d.sign,y=d.symbol,v=d.zero,b=d.width,x=d.comma,_=d.precision,O=d.trim,E=d.type;E==="n"?(x=!0,E="g"):SN[E]||(_===void 0&&(_=12),O=!0,E="g"),(v||h==="0"&&p==="=")&&(v=!0,h="0",p="=");var P=y==="$"?r:y==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",w=y==="$"?n:/[%p]/.test(E)?s:"",S=SN[E],I=/[defgprs%]/.test(E);_=_===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function k(N){var R=P,j=w,B,L,U;if(E==="c")j=S(N)+j,N="";else{N=+N;var W=N<0||1/N<0;if(N=isNaN(N)?l:S(Math.abs(N),_),O&&(N=bme(N)),W&&+N==0&&g!=="+"&&(W=!1),R=(W?g==="("?g:o:g==="-"||g==="("?"":g)+R,j=(E==="s"?PN[8+L4/3]:"")+j+(W&&g==="("?")":""),I){for(B=-1,L=N.length;++B<L;)if(U=N.charCodeAt(B),48>U||U>57){j=(U===46?i+N.slice(B+1):N.slice(B))+j,N=N.slice(0,B);break}}}x&&!v&&(N=e(N,1/0));var $=R.length+N.length+j.length,H=$<b?new Array(b-$+1).join(h):"";switch(x&&v&&(N=e(H+N,H.length?b-j.length:1/0),H=""),p){case"<":N=R+N+j+H;break;case"=":N=R+H+N+j;break;case"^":N=H.slice(0,$=H.length>>1)+R+N+j+H.slice($);break;default:N=H+R+N+j;break}return a(N)}return k.toString=function(){return d+""},k}function c(d,h){var p=u((d=qp(d),d.type="f",d)),g=Math.max(-8,Math.min(8,Math.floor(jd(h)/3)))*3,y=Math.pow(10,-g),v=PN[8+g/3];return function(b){return p(y*b)+v}}return{format:u,formatPrefix:c}}var Zy,uP,F4;Eme({thousands:",",grouping:[3],currency:["$",""]});function Eme(t){return Zy=_me(t),uP=Zy.format,F4=Zy.formatPrefix,Zy}function Sme(t){return Math.max(0,-jd(Math.abs(t)))}function Ame(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(jd(e)/3)))*3-jd(Math.abs(t)))}function Tme(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,jd(e)-jd(t))+1}function V4(t,e,r,n){var i=bE(t,e,r),a;switch(n=qp(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=Ame(i,s))&&(n.precision=a),F4(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=Tme(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=Sme(i))&&(n.precision=a-(n.type==="%")*2);break}}return uP(n)}function wl(t){var e=t.domain;return t.ticks=function(r){var n=e();return vE(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return V4(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,s=n[i],o=n[a],l,u,c=10;for(o<s&&(u=s,s=o,o=u,u=i,i=a,a=u);c-- >0;){if(u=xE(s,o,r),u===l)return n[i]=s,n[a]=o,e(n);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;l=u}return t},t}function Gv(){var t=oP();return t.copy=function(){return Xm(t,Gv())},Vi.apply(t,arguments),wl(t)}function B4(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,qv),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return B4(t).unknown(e)},t=arguments.length?Array.from(t,qv):[0,1],wl(r)}function U4(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],s;return a<i&&(s=r,r=n,n=s,s=i,i=a,a=s),t[r]=e.floor(i),t[n]=e.ceil(a),t}function ON(t){return Math.log(t)}function IN(t){return Math.exp(t)}function Pme(t){return-Math.log(-t)}function Ome(t){return-Math.exp(-t)}function Ime(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Cme(t){return t===10?Ime:t===Math.E?Math.exp:e=>Math.pow(t,e)}function kme(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function CN(t){return(e,r)=>-t(-e,r)}function cP(t){const e=t(ON,IN),r=e.domain;let n=10,i,a;function s(){return i=kme(n),a=Cme(n),r()[0]<0?(i=CN(i),a=CN(a),t(Pme,Ome)):t(ON,IN),e}return e.base=function(o){return arguments.length?(n=+o,s()):n},e.domain=function(o){return arguments.length?(r(o),s()):r()},e.ticks=o=>{const l=r();let u=l[0],c=l[l.length-1];const d=c<u;d&&([u,c]=[c,u]);let h=i(u),p=i(c),g,y;const v=o==null?10:+o;let b=[];if(!(n%1)&&p-h<v){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(g=1;g<n;++g)if(y=h<0?g/a(-h):g*a(h),!(y<u)){if(y>c)break;b.push(y)}}else for(;h<=p;++h)for(g=n-1;g>=1;--g)if(y=h>0?g/a(-h):g*a(h),!(y<u)){if(y>c)break;b.push(y)}b.length*2<v&&(b=vE(u,c,v))}else b=vE(h,p,Math.min(p-h,v)).map(a);return d?b.reverse():b},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=qp(l)).precision==null&&(l.trim=!0),l=uP(l)),o===1/0)return l;const u=Math.max(1,n*o/e.ticks().length);return c=>{let d=c/a(Math.round(i(c)));return d*n<n-.5&&(d*=n),d<=u?l(c):""}},e.nice=()=>r(U4(r(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),e}function z4(){const t=cP(rb()).domain([1,10]);return t.copy=()=>Xm(t,z4()).base(t.base()),Vi.apply(t,arguments),t}function kN(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function NN(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function dP(t){var e=1,r=t(kN(e),NN(e));return r.constant=function(n){return arguments.length?t(kN(e=+n),NN(e)):e},wl(r)}function W4(){var t=dP(rb());return t.copy=function(){return Xm(t,W4()).constant(t.constant())},Vi.apply(t,arguments)}function jN(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Nme(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function jme(t){return t<0?-t*t:t*t}function fP(t){var e=t($n,$n),r=1;function n(){return r===1?t($n,$n):r===.5?t(Nme,jme):t(jN(r),jN(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},wl(e)}function hP(){var t=fP(rb());return t.copy=function(){return Xm(t,hP()).exponent(t.exponent())},Vi.apply(t,arguments),t}function Rme(){return hP.apply(null,arguments).exponent(.5)}function RN(t){return Math.sign(t)*t*t}function Dme(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function H4(){var t=oP(),e=[0,1],r=!1,n;function i(a){var s=Dme(t(a));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(a){return t.invert(RN(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,qv)).map(RN)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return H4(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Vi.apply(i,arguments),wl(i)}function q4(){var t=[],e=[],r=[],n;function i(){var s=0,o=Math.max(1,e.length);for(r=new Array(o-1);++s<o;)r[s-1]=Vpe(t,s/o);return a}function a(s){return s==null||isNaN(s=+s)?n:e[Ym(r,s)]}return a.invertExtent=function(s){var o=e.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:t[0],o<r.length?r[o]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let o of s)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(tl),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return q4().domain(t).range(e).unknown(n)},Vi.apply(a,arguments)}function K4(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[Ym(n,l,0,r)]:a}function o(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*e-(l-r)*t)/(r+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,o()):[t,e]},s.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return n.slice()},s.copy=function(){return K4().domain([t,e]).range(i).unknown(a)},Vi.apply(wl(s),arguments)}function G4(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[Ym(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return G4().domain(t).range(e).unknown(r)},Vi.apply(i,arguments)}const Fw=new Date,Vw=new Date;function Ur(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let u;do l.push(u=new Date(+a)),e(a,o),t(a);while(u<a&&a<s);return l},i.filter=a=>Ur(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;e(s,-1),!a(s););else for(;--o>=0;)for(;e(s,1),!a(s););}),r&&(i.count=(a,s)=>(Fw.setTime(+a),Vw.setTime(+s),t(Fw),t(Vw),Math.floor(r(Fw,Vw))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const Yv=Ur(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Yv.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Ur(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):Yv);Yv.range;const gs=1e3,Ri=gs*60,vs=Ri*60,Ls=vs*24,pP=Ls*7,DN=Ls*30,Bw=Ls*365,Zl=Ur(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*gs)},(t,e)=>(e-t)/gs,t=>t.getUTCSeconds());Zl.range;const mP=Ur(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*gs)},(t,e)=>{t.setTime(+t+e*Ri)},(t,e)=>(e-t)/Ri,t=>t.getMinutes());mP.range;const yP=Ur(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ri)},(t,e)=>(e-t)/Ri,t=>t.getUTCMinutes());yP.range;const gP=Ur(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*gs-t.getMinutes()*Ri)},(t,e)=>{t.setTime(+t+e*vs)},(t,e)=>(e-t)/vs,t=>t.getHours());gP.range;const vP=Ur(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*vs)},(t,e)=>(e-t)/vs,t=>t.getUTCHours());vP.range;const Zm=Ur(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ri)/Ls,t=>t.getDate()-1);Zm.range;const nb=Ur(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ls,t=>t.getUTCDate()-1);nb.range;const Y4=Ur(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ls,t=>Math.floor(t/Ls));Y4.range;function Ju(t){return Ur(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Ri)/pP)}const ib=Ju(0),Qv=Ju(1),Mme=Ju(2),$me=Ju(3),Rd=Ju(4),Lme=Ju(5),Fme=Ju(6);ib.range;Qv.range;Mme.range;$me.range;Rd.range;Lme.range;Fme.range;function ec(t){return Ur(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/pP)}const ab=ec(0),Xv=ec(1),Vme=ec(2),Bme=ec(3),Dd=ec(4),Ume=ec(5),zme=ec(6);ab.range;Xv.range;Vme.range;Bme.range;Dd.range;Ume.range;zme.range;const xP=Ur(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());xP.range;const bP=Ur(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());bP.range;const Fs=Ur(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Fs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ur(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Fs.range;const Vs=Ur(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Vs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ur(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Vs.range;function Q4(t,e,r,n,i,a){const s=[[Zl,1,gs],[Zl,5,5*gs],[Zl,15,15*gs],[Zl,30,30*gs],[a,1,Ri],[a,5,5*Ri],[a,15,15*Ri],[a,30,30*Ri],[i,1,vs],[i,3,3*vs],[i,6,6*vs],[i,12,12*vs],[n,1,Ls],[n,2,2*Ls],[r,1,pP],[e,1,DN],[e,3,3*DN],[t,1,Bw]];function o(u,c,d){const h=c<u;h&&([u,c]=[c,u]);const p=d&&typeof d.range=="function"?d:l(u,c,d),g=p?p.range(u,+c+1):[];return h?g.reverse():g}function l(u,c,d){const h=Math.abs(c-u)/d,p=rP(([,,v])=>v).right(s,h);if(p===s.length)return t.every(bE(u/Bw,c/Bw,d));if(p===0)return Yv.every(Math.max(bE(u,c,d),1));const[g,y]=s[h/s[p-1][2]<s[p][2]/h?p-1:p];return g.every(y)}return[o,l]}const[Wme,Hme]=Q4(Vs,bP,ab,Y4,vP,yP),[qme,Kme]=Q4(Fs,xP,ib,Zm,gP,mP);function Uw(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function zw(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ch(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function Gme(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,s=t.shortDays,o=t.months,l=t.shortMonths,u=dh(i),c=fh(i),d=dh(a),h=fh(a),p=dh(s),g=fh(s),y=dh(o),v=fh(o),b=dh(l),x=fh(l),_={a:W,A:$,b:H,B:Y,c:null,d:BN,e:BN,f:gye,g:Pye,G:Iye,H:pye,I:mye,j:yye,L:X4,m:vye,M:xye,p:re,q:X,Q:WN,s:HN,S:bye,u:wye,U:_ye,V:Eye,w:Sye,W:Aye,x:null,X:null,y:Tye,Y:Oye,Z:Cye,"%":zN},O={a:ae,A:se,b:me,B:De,c:null,d:UN,e:UN,f:Rye,g:Wye,G:qye,H:kye,I:Nye,j:jye,L:J4,m:Dye,M:Mye,p:nt,q:ft,Q:WN,s:HN,S:$ye,u:Lye,U:Fye,V:Vye,w:Bye,W:Uye,x:null,X:null,y:zye,Y:Hye,Z:Kye,"%":zN},E={a:k,A:N,b:R,B:j,c:B,d:FN,e:FN,f:cye,g:LN,G:$N,H:VN,I:VN,j:sye,L:uye,m:aye,M:oye,p:I,q:iye,Q:fye,s:hye,S:lye,u:Jme,U:eye,V:tye,w:Zme,W:rye,x:L,X:U,y:LN,Y:$N,Z:nye,"%":dye};_.x=P(r,_),_.X=P(n,_),_.c=P(e,_),O.x=P(r,O),O.X=P(n,O),O.c=P(e,O);function P(fe,_e){return function(ye){var J=[],Fe=-1,qe=0,Mt=fe.length,xt,wr,Un;for(ye instanceof Date||(ye=new Date(+ye));++Fe<Mt;)fe.charCodeAt(Fe)===37&&(J.push(fe.slice(qe,Fe)),(wr=MN[xt=fe.charAt(++Fe)])!=null?xt=fe.charAt(++Fe):wr=xt==="e"?" ":"0",(Un=_e[xt])&&(xt=Un(ye,wr)),J.push(xt),qe=Fe+1);return J.push(fe.slice(qe,Fe)),J.join("")}}function w(fe,_e){return function(ye){var J=ch(1900,void 0,1),Fe=S(J,fe,ye+="",0),qe,Mt;if(Fe!=ye.length)return null;if("Q"in J)return new Date(J.Q);if("s"in J)return new Date(J.s*1e3+("L"in J?J.L:0));if(_e&&!("Z"in J)&&(J.Z=0),"p"in J&&(J.H=J.H%12+J.p*12),J.m===void 0&&(J.m="q"in J?J.q:0),"V"in J){if(J.V<1||J.V>53)return null;"w"in J||(J.w=1),"Z"in J?(qe=zw(ch(J.y,0,1)),Mt=qe.getUTCDay(),qe=Mt>4||Mt===0?Xv.ceil(qe):Xv(qe),qe=nb.offset(qe,(J.V-1)*7),J.y=qe.getUTCFullYear(),J.m=qe.getUTCMonth(),J.d=qe.getUTCDate()+(J.w+6)%7):(qe=Uw(ch(J.y,0,1)),Mt=qe.getDay(),qe=Mt>4||Mt===0?Qv.ceil(qe):Qv(qe),qe=Zm.offset(qe,(J.V-1)*7),J.y=qe.getFullYear(),J.m=qe.getMonth(),J.d=qe.getDate()+(J.w+6)%7)}else("W"in J||"U"in J)&&("w"in J||(J.w="u"in J?J.u%7:"W"in J?1:0),Mt="Z"in J?zw(ch(J.y,0,1)).getUTCDay():Uw(ch(J.y,0,1)).getDay(),J.m=0,J.d="W"in J?(J.w+6)%7+J.W*7-(Mt+5)%7:J.w+J.U*7-(Mt+6)%7);return"Z"in J?(J.H+=J.Z/100|0,J.M+=J.Z%100,zw(J)):Uw(J)}}function S(fe,_e,ye,J){for(var Fe=0,qe=_e.length,Mt=ye.length,xt,wr;Fe<qe;){if(J>=Mt)return-1;if(xt=_e.charCodeAt(Fe++),xt===37){if(xt=_e.charAt(Fe++),wr=E[xt in MN?_e.charAt(Fe++):xt],!wr||(J=wr(fe,ye,J))<0)return-1}else if(xt!=ye.charCodeAt(J++))return-1}return J}function I(fe,_e,ye){var J=u.exec(_e.slice(ye));return J?(fe.p=c.get(J[0].toLowerCase()),ye+J[0].length):-1}function k(fe,_e,ye){var J=p.exec(_e.slice(ye));return J?(fe.w=g.get(J[0].toLowerCase()),ye+J[0].length):-1}function N(fe,_e,ye){var J=d.exec(_e.slice(ye));return J?(fe.w=h.get(J[0].toLowerCase()),ye+J[0].length):-1}function R(fe,_e,ye){var J=b.exec(_e.slice(ye));return J?(fe.m=x.get(J[0].toLowerCase()),ye+J[0].length):-1}function j(fe,_e,ye){var J=y.exec(_e.slice(ye));return J?(fe.m=v.get(J[0].toLowerCase()),ye+J[0].length):-1}function B(fe,_e,ye){return S(fe,e,_e,ye)}function L(fe,_e,ye){return S(fe,r,_e,ye)}function U(fe,_e,ye){return S(fe,n,_e,ye)}function W(fe){return s[fe.getDay()]}function $(fe){return a[fe.getDay()]}function H(fe){return l[fe.getMonth()]}function Y(fe){return o[fe.getMonth()]}function re(fe){return i[+(fe.getHours()>=12)]}function X(fe){return 1+~~(fe.getMonth()/3)}function ae(fe){return s[fe.getUTCDay()]}function se(fe){return a[fe.getUTCDay()]}function me(fe){return l[fe.getUTCMonth()]}function De(fe){return o[fe.getUTCMonth()]}function nt(fe){return i[+(fe.getUTCHours()>=12)]}function ft(fe){return 1+~~(fe.getUTCMonth()/3)}return{format:function(fe){var _e=P(fe+="",_);return _e.toString=function(){return fe},_e},parse:function(fe){var _e=w(fe+="",!1);return _e.toString=function(){return fe},_e},utcFormat:function(fe){var _e=P(fe+="",O);return _e.toString=function(){return fe},_e},utcParse:function(fe){var _e=w(fe+="",!0);return _e.toString=function(){return fe},_e}}}var MN={"-":"",_:" ",0:"0"},Zr=/^\s*\d+/,Yme=/^%/,Qme=/[\\^$*+?|[\]().{}]/g;function Tt(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function Xme(t){return t.replace(Qme,"\\$&")}function dh(t){return new RegExp("^(?:"+t.map(Xme).join("|")+")","i")}function fh(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function Zme(t,e,r){var n=Zr.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function Jme(t,e,r){var n=Zr.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function eye(t,e,r){var n=Zr.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function tye(t,e,r){var n=Zr.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function rye(t,e,r){var n=Zr.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function $N(t,e,r){var n=Zr.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function LN(t,e,r){var n=Zr.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function nye(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function iye(t,e,r){var n=Zr.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function aye(t,e,r){var n=Zr.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function FN(t,e,r){var n=Zr.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function sye(t,e,r){var n=Zr.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function VN(t,e,r){var n=Zr.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function oye(t,e,r){var n=Zr.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function lye(t,e,r){var n=Zr.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function uye(t,e,r){var n=Zr.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function cye(t,e,r){var n=Zr.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function dye(t,e,r){var n=Yme.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function fye(t,e,r){var n=Zr.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function hye(t,e,r){var n=Zr.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function BN(t,e){return Tt(t.getDate(),e,2)}function pye(t,e){return Tt(t.getHours(),e,2)}function mye(t,e){return Tt(t.getHours()%12||12,e,2)}function yye(t,e){return Tt(1+Zm.count(Fs(t),t),e,3)}function X4(t,e){return Tt(t.getMilliseconds(),e,3)}function gye(t,e){return X4(t,e)+"000"}function vye(t,e){return Tt(t.getMonth()+1,e,2)}function xye(t,e){return Tt(t.getMinutes(),e,2)}function bye(t,e){return Tt(t.getSeconds(),e,2)}function wye(t){var e=t.getDay();return e===0?7:e}function _ye(t,e){return Tt(ib.count(Fs(t)-1,t),e,2)}function Z4(t){var e=t.getDay();return e>=4||e===0?Rd(t):Rd.ceil(t)}function Eye(t,e){return t=Z4(t),Tt(Rd.count(Fs(t),t)+(Fs(t).getDay()===4),e,2)}function Sye(t){return t.getDay()}function Aye(t,e){return Tt(Qv.count(Fs(t)-1,t),e,2)}function Tye(t,e){return Tt(t.getFullYear()%100,e,2)}function Pye(t,e){return t=Z4(t),Tt(t.getFullYear()%100,e,2)}function Oye(t,e){return Tt(t.getFullYear()%1e4,e,4)}function Iye(t,e){var r=t.getDay();return t=r>=4||r===0?Rd(t):Rd.ceil(t),Tt(t.getFullYear()%1e4,e,4)}function Cye(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Tt(e/60|0,"0",2)+Tt(e%60,"0",2)}function UN(t,e){return Tt(t.getUTCDate(),e,2)}function kye(t,e){return Tt(t.getUTCHours(),e,2)}function Nye(t,e){return Tt(t.getUTCHours()%12||12,e,2)}function jye(t,e){return Tt(1+nb.count(Vs(t),t),e,3)}function J4(t,e){return Tt(t.getUTCMilliseconds(),e,3)}function Rye(t,e){return J4(t,e)+"000"}function Dye(t,e){return Tt(t.getUTCMonth()+1,e,2)}function Mye(t,e){return Tt(t.getUTCMinutes(),e,2)}function $ye(t,e){return Tt(t.getUTCSeconds(),e,2)}function Lye(t){var e=t.getUTCDay();return e===0?7:e}function Fye(t,e){return Tt(ab.count(Vs(t)-1,t),e,2)}function eV(t){var e=t.getUTCDay();return e>=4||e===0?Dd(t):Dd.ceil(t)}function Vye(t,e){return t=eV(t),Tt(Dd.count(Vs(t),t)+(Vs(t).getUTCDay()===4),e,2)}function Bye(t){return t.getUTCDay()}function Uye(t,e){return Tt(Xv.count(Vs(t)-1,t),e,2)}function zye(t,e){return Tt(t.getUTCFullYear()%100,e,2)}function Wye(t,e){return t=eV(t),Tt(t.getUTCFullYear()%100,e,2)}function Hye(t,e){return Tt(t.getUTCFullYear()%1e4,e,4)}function qye(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Dd(t):Dd.ceil(t),Tt(t.getUTCFullYear()%1e4,e,4)}function Kye(){return"+0000"}function zN(){return"%"}function WN(t){return+t}function HN(t){return Math.floor(+t/1e3)}var dc,tV,rV;Gye({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Gye(t){return dc=Gme(t),tV=dc.format,dc.parse,rV=dc.utcFormat,dc.utcParse,dc}function Yye(t){return new Date(t)}function Qye(t){return t instanceof Date?+t:+new Date(+t)}function wP(t,e,r,n,i,a,s,o,l,u){var c=oP(),d=c.invert,h=c.domain,p=u(".%L"),g=u(":%S"),y=u("%I:%M"),v=u("%I %p"),b=u("%a %d"),x=u("%b %d"),_=u("%B"),O=u("%Y");function E(P){return(l(P)<P?p:o(P)<P?g:s(P)<P?y:a(P)<P?v:n(P)<P?i(P)<P?b:x:r(P)<P?_:O)(P)}return c.invert=function(P){return new Date(d(P))},c.domain=function(P){return arguments.length?h(Array.from(P,Qye)):h().map(Yye)},c.ticks=function(P){var w=h();return t(w[0],w[w.length-1],P??10)},c.tickFormat=function(P,w){return w==null?E:u(w)},c.nice=function(P){var w=h();return(!P||typeof P.range!="function")&&(P=e(w[0],w[w.length-1],P??10)),P?h(U4(w,P)):c},c.copy=function(){return Xm(c,wP(t,e,r,n,i,a,s,o,l,u))},c}function Xye(){return Vi.apply(wP(qme,Kme,Fs,xP,ib,Zm,gP,mP,Zl,tV).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Zye(){return Vi.apply(wP(Wme,Hme,Vs,bP,ab,nb,vP,yP,Zl,rV).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function sb(){var t=0,e=1,r,n,i,a,s=$n,o=!1,l;function u(d){return d==null||isNaN(d=+d)?l:s(i===0?.5:(d=(a(d)-r)*i,o?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([t,e]=d,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(d){return arguments.length?(o=!!d,u):o},u.interpolator=function(d){return arguments.length?(s=d,u):s};function c(d){return function(h){var p,g;return arguments.length?([p,g]=h,s=d(p,g),u):[s(0),s(1)]}}return u.range=c(Cf),u.rangeRound=c(sP),u.unknown=function(d){return arguments.length?(l=d,u):l},function(d){return a=d,r=d(t),n=d(e),i=r===n?0:1/(n-r),u}}function _l(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function nV(){var t=wl(sb()($n));return t.copy=function(){return _l(t,nV())},Ys.apply(t,arguments)}function iV(){var t=cP(sb()).domain([1,10]);return t.copy=function(){return _l(t,iV()).base(t.base())},Ys.apply(t,arguments)}function aV(){var t=dP(sb());return t.copy=function(){return _l(t,aV()).constant(t.constant())},Ys.apply(t,arguments)}function _P(){var t=fP(sb());return t.copy=function(){return _l(t,_P()).exponent(t.exponent())},Ys.apply(t,arguments)}function Jye(){return _P.apply(null,arguments).exponent(.5)}function sV(){var t=[],e=$n;function r(n){if(n!=null&&!isNaN(n=+n))return e((Ym(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(tl),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>Fpe(t,a/n))},r.copy=function(){return sV(e).domain(t)},Ys.apply(r,arguments)}function ob(){var t=0,e=.5,r=1,n=1,i,a,s,o,l,u=$n,c,d=!1,h;function p(y){return isNaN(y=+y)?h:(y=.5+((y=+c(y))-a)*(n*y<n*a?o:l),u(d?Math.max(0,Math.min(1,y)):y))}p.domain=function(y){return arguments.length?([t,e,r]=y,i=c(t=+t),a=c(e=+e),s=c(r=+r),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),n=a<i?-1:1,p):[t,e,r]},p.clamp=function(y){return arguments.length?(d=!!y,p):d},p.interpolator=function(y){return arguments.length?(u=y,p):u};function g(y){return function(v){var b,x,_;return arguments.length?([b,x,_]=v,u=dme(y,[b,x,_]),p):[u(0),u(.5),u(1)]}}return p.range=g(Cf),p.rangeRound=g(sP),p.unknown=function(y){return arguments.length?(h=y,p):h},function(y){return c=y,i=y(t),a=y(e),s=y(r),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),n=a<i?-1:1,p}}function oV(){var t=wl(ob()($n));return t.copy=function(){return _l(t,oV())},Ys.apply(t,arguments)}function lV(){var t=cP(ob()).domain([.1,1,10]);return t.copy=function(){return _l(t,lV()).base(t.base())},Ys.apply(t,arguments)}function uV(){var t=dP(ob());return t.copy=function(){return _l(t,uV()).constant(t.constant())},Ys.apply(t,arguments)}function EP(){var t=fP(ob());return t.copy=function(){return _l(t,EP()).exponent(t.exponent())},Ys.apply(t,arguments)}function ege(){return EP.apply(null,arguments).exponent(.5)}const qN=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Up,scaleDiverging:oV,scaleDivergingLog:lV,scaleDivergingPow:EP,scaleDivergingSqrt:ege,scaleDivergingSymlog:uV,scaleIdentity:B4,scaleImplicit:wE,scaleLinear:Gv,scaleLog:z4,scaleOrdinal:nP,scalePoint:Gh,scalePow:hP,scaleQuantile:q4,scaleQuantize:K4,scaleRadial:H4,scaleSequential:nV,scaleSequentialLog:iV,scaleSequentialPow:_P,scaleSequentialQuantile:sV,scaleSequentialSqrt:Jye,scaleSequentialSymlog:aV,scaleSqrt:Rme,scaleSymlog:W4,scaleThreshold:G4,scaleTime:Xye,scaleUtc:Zye,tickFormat:V4},Symbol.toStringTag,{value:"Module"}));var tge=wf;function rge(t,e,r){for(var n=-1,i=t.length;++n<i;){var a=t[n],s=e(a);if(s!=null&&(o===void 0?s===s&&!tge(s):r(s,o)))var o=s,l=a}return l}var lb=rge;function nge(t,e){return t>e}var cV=nge,ige=lb,age=cV,sge=If;function oge(t){return t&&t.length?ige(t,sge,age):void 0}var lge=oge;const Fo=wt(lge);function uge(t,e){return t<e}var dV=uge,cge=lb,dge=dV,fge=If;function hge(t){return t&&t.length?cge(t,fge,dge):void 0}var pge=hge;const ub=wt(pge);var mge=$T,yge=Ka,gge=x4,vge=ri;function xge(t,e){var r=vge(t)?mge:gge;return r(t,yge(e))}var bge=xge,wge=g4,_ge=bge;function Ege(t,e){return wge(_ge(t,e),1)}var Sge=Ege;const Age=wt(Sge);var Tge=ZT;function Pge(t,e){return Tge(t,e)}var Oge=Pge;const $u=wt(Oge);var kf=1e9,Ige={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},AP,ir=!0,Li="[DecimalError] ",yu=Li+"Invalid argument: ",SP=Li+"Exponent out of range: ",Nf=Math.floor,$l=Math.pow,Cge=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,hi,Kr=1e7,Xt=7,fV=9007199254740991,Zv=Nf(fV/Xt),Te={};Te.absoluteValue=Te.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Te.comparedTo=Te.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};Te.decimalPlaces=Te.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Xt;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Te.dividedBy=Te.div=function(t){return Ps(this,new this.constructor(t))};Te.dividedToIntegerBy=Te.idiv=function(t){var e=this,r=e.constructor;return Vt(Ps(e,new r(t),0,1),r.precision)};Te.equals=Te.eq=function(t){return!this.cmp(t)};Te.exponent=function(){return kr(this)};Te.greaterThan=Te.gt=function(t){return this.cmp(t)>0};Te.greaterThanOrEqualTo=Te.gte=function(t){return this.cmp(t)>=0};Te.isInteger=Te.isint=function(){return this.e>this.d.length-2};Te.isNegative=Te.isneg=function(){return this.s<0};Te.isPositive=Te.ispos=function(){return this.s>0};Te.isZero=function(){return this.s===0};Te.lessThan=Te.lt=function(t){return this.cmp(t)<0};Te.lessThanOrEqualTo=Te.lte=function(t){return this.cmp(t)<1};Te.logarithm=Te.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(hi))throw Error(Li+"NaN");if(r.s<1)throw Error(Li+(r.s?"NaN":"-Infinity"));return r.eq(hi)?new n(0):(ir=!1,e=Ps(Kp(r,a),Kp(t,a),a),ir=!0,Vt(e,i))};Te.minus=Te.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?mV(e,t):hV(e,(t.s=-t.s,t))};Te.modulo=Te.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(Li+"NaN");return r.s?(ir=!1,e=Ps(r,t,0,1).times(t),ir=!0,r.minus(e)):Vt(new n(r),i)};Te.naturalExponential=Te.exp=function(){return pV(this)};Te.naturalLogarithm=Te.ln=function(){return Kp(this)};Te.negated=Te.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Te.plus=Te.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?hV(e,t):mV(e,(t.s=-t.s,t))};Te.precision=Te.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(yu+t);if(e=kr(i)+1,n=i.d.length-1,r=n*Xt+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Te.squareRoot=Te.sqrt=function(){var t,e,r,n,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Li+"NaN")}for(t=kr(o),ir=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=Oa(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Nf((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new l(e)):n=new l(i.toString()),r=l.precision,i=s=r+3;;)if(a=n,n=a.plus(Ps(o,a,s+2)).times(.5),Oa(a.d).slice(0,s)===(e=Oa(n.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(Vt(a,r+1,0),a.times(a).eq(o)){n=a;break}}else if(e!="9999")break;s+=4}return ir=!0,Vt(n,r)};Te.times=Te.mul=function(t){var e,r,n,i,a,s,o,l,u,c=this,d=c.constructor,h=c.d,p=(t=new d(t)).d;if(!c.s||!t.s)return new d(0);for(t.s*=c.s,r=c.e+t.e,l=h.length,u=p.length,l<u&&(a=h,h=p,p=a,s=l,l=u,u=s),a=[],s=l+u,n=s;n--;)a.push(0);for(n=u;--n>=0;){for(e=0,i=l+n;i>n;)o=a[i]+p[n]*h[i-n-1]+e,a[i--]=o%Kr|0,e=o/Kr|0;a[i]=(a[i]+e)%Kr|0}for(;!a[--s];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,ir?Vt(t,d.precision):t};Te.toDecimalPlaces=Te.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(za(t,0,kf),e===void 0?e=n.rounding:za(e,0,8),Vt(r,t+kr(r)+1,e))};Te.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=Lu(n,!0):(za(t,0,kf),e===void 0?e=i.rounding:za(e,0,8),n=Vt(new i(n),t+1,e),r=Lu(n,!0,t+1)),r};Te.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?Lu(i):(za(t,0,kf),e===void 0?e=a.rounding:za(e,0,8),n=Vt(new a(i),t+kr(i)+1,e),r=Lu(n.abs(),!1,t+kr(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Te.toInteger=Te.toint=function(){var t=this,e=t.constructor;return Vt(new e(t),kr(t)+1,e.rounding)};Te.toNumber=function(){return+this};Te.toPower=Te.pow=function(t){var e,r,n,i,a,s,o=this,l=o.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(hi);if(o=new l(o),!o.s){if(t.s<1)throw Error(Li+"Infinity");return o}if(o.eq(hi))return o;if(n=l.precision,t.eq(hi))return Vt(o,n);if(e=t.e,r=t.d.length-1,s=e>=r,a=o.s,s){if((r=c<0?-c:c)<=fV){for(i=new l(hi),e=Math.ceil(n/Xt+4),ir=!1;r%2&&(i=i.times(o),GN(i.d,e)),r=Nf(r/2),r!==0;)o=o.times(o),GN(o.d,e);return ir=!0,t.s<0?new l(hi).div(i):Vt(i,n)}}else if(a<0)throw Error(Li+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,o.s=1,ir=!1,i=t.times(Kp(o,n+u)),ir=!0,i=pV(i),i.s=a,i};Te.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=kr(i),n=Lu(i,r<=a.toExpNeg||r>=a.toExpPos)):(za(t,1,kf),e===void 0?e=a.rounding:za(e,0,8),i=Vt(new a(i),t,e),r=kr(i),n=Lu(i,t<=r||r<=a.toExpNeg,t)),n};Te.toSignificantDigits=Te.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(za(t,1,kf),e===void 0?e=n.rounding:za(e,0,8)),Vt(new n(r),t,e)};Te.toString=Te.valueOf=Te.val=Te.toJSON=Te[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=kr(t),r=t.constructor;return Lu(t,e<=r.toExpNeg||e>=r.toExpPos)};function hV(t,e){var r,n,i,a,s,o,l,u,c=t.constructor,d=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),ir?Vt(e,d):e;if(l=t.d,u=e.d,s=t.e,i=e.e,l=l.slice(),a=s-i,a){for(a<0?(n=l,a=-a,o=u.length):(n=u,i=s,o=l.length),s=Math.ceil(d/Xt),o=s>o?s+1:o+1,a>o&&(a=o,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(o=l.length,a=u.length,o-a<0&&(a=o,n=u,u=l,l=n),r=0;a;)r=(l[--a]=l[a]+u[a]+r)/Kr|0,l[a]%=Kr;for(r&&(l.unshift(r),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=i,ir?Vt(e,d):e}function za(t,e,r){if(t!==~~t||t<e||t>r)throw Error(yu+t)}function Oa(t){var e,r,n,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)n=t[e]+"",r=Xt-n.length,r&&(a+=po(r)),a+=n;s=t[e],n=s+"",r=Xt-n.length,r&&(a+=po(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Ps=function(){function t(n,i){var a,s=0,o=n.length;for(n=n.slice();o--;)a=n[o]*i+s,n[o]=a%Kr|0,s=a/Kr|0;return s&&n.unshift(s),n}function e(n,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(n[o]!=i[o]){l=n[o]>i[o]?1:-1;break}return l}function r(n,i,a){for(var s=0;a--;)n[a]-=s,s=n[a]<i[a]?1:0,n[a]=s*Kr+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,s){var o,l,u,c,d,h,p,g,y,v,b,x,_,O,E,P,w,S,I=n.constructor,k=n.s==i.s?1:-1,N=n.d,R=i.d;if(!n.s)return new I(n);if(!i.s)throw Error(Li+"Division by zero");for(l=n.e-i.e,w=R.length,E=N.length,p=new I(k),g=p.d=[],u=0;R[u]==(N[u]||0);)++u;if(R[u]>(N[u]||0)&&--l,a==null?x=a=I.precision:s?x=a+(kr(n)-kr(i))+1:x=a,x<0)return new I(0);if(x=x/Xt+2|0,u=0,w==1)for(c=0,R=R[0],x++;(u<E||c)&&x--;u++)_=c*Kr+(N[u]||0),g[u]=_/R|0,c=_%R|0;else{for(c=Kr/(R[0]+1)|0,c>1&&(R=t(R,c),N=t(N,c),w=R.length,E=N.length),O=w,y=N.slice(0,w),v=y.length;v<w;)y[v++]=0;S=R.slice(),S.unshift(0),P=R[0],R[1]>=Kr/2&&++P;do c=0,o=e(R,y,w,v),o<0?(b=y[0],w!=v&&(b=b*Kr+(y[1]||0)),c=b/P|0,c>1?(c>=Kr&&(c=Kr-1),d=t(R,c),h=d.length,v=y.length,o=e(d,y,h,v),o==1&&(c--,r(d,w<h?S:R,h))):(c==0&&(o=c=1),d=R.slice()),h=d.length,h<v&&d.unshift(0),r(y,d,v),o==-1&&(v=y.length,o=e(R,y,w,v),o<1&&(c++,r(y,w<v?S:R,v))),v=y.length):o===0&&(c++,y=[0]),g[u++]=c,o&&y[0]?y[v++]=N[O]||0:(y=[N[O]],v=1);while((O++<E||y[0]!==void 0)&&x--)}return g[0]||g.shift(),p.e=l,Vt(p,s?a+kr(p)+1:a)}}();function pV(t,e){var r,n,i,a,s,o,l=0,u=0,c=t.constructor,d=c.precision;if(kr(t)>16)throw Error(SP+kr(t));if(!t.s)return new c(hi);for(ir=!1,o=d,s=new c(.03125);t.abs().gte(.1);)t=t.times(s),u+=5;for(n=Math.log($l(2,u))/Math.LN10*2+5|0,o+=n,r=i=a=new c(hi),c.precision=o;;){if(i=Vt(i.times(t),o),r=r.times(++l),s=a.plus(Ps(i,r,o)),Oa(s.d).slice(0,o)===Oa(a.d).slice(0,o)){for(;u--;)a=Vt(a.times(a),o);return c.precision=d,e==null?(ir=!0,Vt(a,d)):a}a=s}}function kr(t){for(var e=t.e*Xt,r=t.d[0];r>=10;r/=10)e++;return e}function Ww(t,e,r){if(e>t.LN10.sd())throw ir=!0,r&&(t.precision=r),Error(Li+"LN10 precision limit exceeded");return Vt(new t(t.LN10),e)}function po(t){for(var e="";t--;)e+="0";return e}function Kp(t,e){var r,n,i,a,s,o,l,u,c,d=1,h=10,p=t,g=p.d,y=p.constructor,v=y.precision;if(p.s<1)throw Error(Li+(p.s?"NaN":"-Infinity"));if(p.eq(hi))return new y(0);if(e==null?(ir=!1,u=v):u=e,p.eq(10))return e==null&&(ir=!0),Ww(y,u);if(u+=h,y.precision=u,r=Oa(g),n=r.charAt(0),a=kr(p),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(t),r=Oa(p.d),n=r.charAt(0),d++;a=kr(p),n>1?(p=new y("0."+r),a++):p=new y(n+"."+r.slice(1))}else return l=Ww(y,u+2,v).times(a+""),p=Kp(new y(n+"."+r.slice(1)),u-h).plus(l),y.precision=v,e==null?(ir=!0,Vt(p,v)):p;for(o=s=p=Ps(p.minus(hi),p.plus(hi),u),c=Vt(p.times(p),u),i=3;;){if(s=Vt(s.times(c),u),l=o.plus(Ps(s,new y(i),u)),Oa(l.d).slice(0,u)===Oa(o.d).slice(0,u))return o=o.times(2),a!==0&&(o=o.plus(Ww(y,u+2,v).times(a+""))),o=Ps(o,new y(d),u),y.precision=v,e==null?(ir=!0,Vt(o,v)):o;o=l,i+=2}}function KN(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=Nf(r/Xt),t.d=[],n=(r+1)%Xt,r<0&&(n+=Xt),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=Xt;n<i;)t.d.push(+e.slice(n,n+=Xt));e=e.slice(n),n=Xt-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),ir&&(t.e>Zv||t.e<-Zv))throw Error(SP+r)}else t.s=0,t.e=0,t.d=[0];return t}function Vt(t,e,r){var n,i,a,s,o,l,u,c,d=t.d;for(s=1,a=d[0];a>=10;a/=10)s++;if(n=e-s,n<0)n+=Xt,i=e,u=d[c=0];else{if(c=Math.ceil((n+1)/Xt),a=d.length,c>=a)return t;for(u=a=d[c],s=1;a>=10;a/=10)s++;n%=Xt,i=n-Xt+s}if(r!==void 0&&(a=$l(10,s-i-1),o=u/a%10|0,l=e<0||d[c+1]!==void 0||u%a,l=r<4?(o||l)&&(r==0||r==(t.s<0?3:2)):o>5||o==5&&(r==4||l||r==6&&(n>0?i>0?u/$l(10,s-i):0:d[c-1])%10&1||r==(t.s<0?8:7))),e<1||!d[0])return l?(a=kr(t),d.length=1,e=e-a-1,d[0]=$l(10,(Xt-e%Xt)%Xt),t.e=Nf(-e/Xt)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(n==0?(d.length=c,a=1,c--):(d.length=c+1,a=$l(10,Xt-n),d[c]=i>0?(u/$l(10,s-i)%$l(10,i)|0)*a:0),l)for(;;)if(c==0){(d[0]+=a)==Kr&&(d[0]=1,++t.e);break}else{if(d[c]+=a,d[c]!=Kr)break;d[c--]=0,a=1}for(n=d.length;d[--n]===0;)d.pop();if(ir&&(t.e>Zv||t.e<-Zv))throw Error(SP+kr(t));return t}function mV(t,e){var r,n,i,a,s,o,l,u,c,d,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),ir?Vt(e,p):e;if(l=t.d,d=e.d,n=e.e,u=t.e,l=l.slice(),s=u-n,s){for(c=s<0,c?(r=l,s=-s,o=d.length):(r=d,n=u,o=l.length),i=Math.max(Math.ceil(p/Xt),o)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=l.length,o=d.length,c=i<o,c&&(o=i),i=0;i<o;i++)if(l[i]!=d[i]){c=l[i]<d[i];break}s=0}for(c&&(r=l,l=d,d=r,e.s=-e.s),o=l.length,i=d.length-o;i>0;--i)l[o++]=0;for(i=d.length;i>s;){if(l[--i]<d[i]){for(a=i;a&&l[--a]===0;)l[a]=Kr-1;--l[a],l[i]+=Kr}l[i]-=d[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(e.d=l,e.e=n,ir?Vt(e,p):e):new h(0)}function Lu(t,e,r){var n,i=kr(t),a=Oa(t.d),s=a.length;return e?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+po(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+po(-i-1)+a,r&&(n=r-s)>0&&(a+=po(n))):i>=s?(a+=po(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+po(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=po(n))),t.s<0?"-"+a:a}function GN(t,e){if(t.length>e)return t.length=e,!0}function yV(t){var e,r,n;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(yu+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return KN(s,a.toString())}else if(typeof a!="string")throw Error(yu+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,Cge.test(a))KN(s,a);else throw Error(yu+a)}if(i.prototype=Te,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=yV,i.config=i.set=kge,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function kge(t){if(!t||typeof t!="object")throw Error(Li+"Object expected");var e,r,n,i=["precision",1,kf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(Nf(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(yu+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(yu+r+": "+n);return this}var AP=yV(Ige);hi=new AP(1);const $t=AP;function Nge(t){return Mge(t)||Dge(t)||Rge(t)||jge()}function jge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rge(t,e){if(t){if(typeof t=="string")return AE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AE(t,e)}}function Dge(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Mge(t){if(Array.isArray(t))return AE(t)}function AE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var $ge=function(e){return e},gV={},vV=function(e){return e===gV},YN=function(e){return function r(){return arguments.length===0||arguments.length===1&&vV(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},Lge=function t(e,r){return e===1?r:YN(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var s=i.filter(function(o){return o!==gV}).length;return s>=e?r.apply(void 0,i):t(e-s,YN(function(){for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];var c=i.map(function(d){return vV(d)?l.shift():d});return r.apply(void 0,Nge(c).concat(l))}))})},cb=function(e){return Lge(e.length,e)},TE=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},Fge=cb(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),Vge=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return $ge;var i=r.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(o,l){return l(o)},a.apply(void 0,arguments))}},PE=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},xV=function(e){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return r&&a.every(function(o,l){return o===r[l]})||(r=a,n=e.apply(void 0,a)),n}};function Bge(t){var e;return t===0?e=1:e=Math.floor(new $t(t).abs().log(10).toNumber())+1,e}function Uge(t,e,r){for(var n=new $t(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var zge=cb(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),Wge=cb(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),Hge=cb(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const db={rangeStep:Uge,getDigitCount:Bge,interpolateNumber:zge,uninterpolateNumber:Wge,uninterpolateTruncation:Hge};function OE(t){return Gge(t)||Kge(t)||bV(t)||qge()}function qge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kge(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Gge(t){if(Array.isArray(t))return IE(t)}function Gp(t,e){return Xge(t)||Qge(t,e)||bV(t,e)||Yge()}function Yge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bV(t,e){if(t){if(typeof t=="string")return IE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IE(t,e)}}function IE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Qge(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,a=void 0;try{for(var s=t[Symbol.iterator](),o;!(n=(o=s.next()).done)&&(r.push(o.value),!(e&&r.length===e));n=!0);}catch(l){i=!0,a=l}finally{try{!n&&s.return!=null&&s.return()}finally{if(i)throw a}}return r}}function Xge(t){if(Array.isArray(t))return t}function wV(t){var e=Gp(t,2),r=e[0],n=e[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function _V(t,e,r){if(t.lte(0))return new $t(0);var n=db.getDigitCount(t.toNumber()),i=new $t(10).pow(n),a=t.div(i),s=n!==1?.05:.1,o=new $t(Math.ceil(a.div(s).toNumber())).add(r).mul(s),l=o.mul(i);return e?l:new $t(Math.ceil(l))}function Zge(t,e,r){var n=1,i=new $t(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new $t(10).pow(db.getDigitCount(t)-1),i=new $t(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new $t(Math.floor(t)))}else t===0?i=new $t(Math.floor((e-1)/2)):r||(i=new $t(Math.floor(t)));var s=Math.floor((e-1)/2),o=Vge(Fge(function(l){return i.add(new $t(l-s).mul(n)).toNumber()}),TE);return o(0,e)}function EV(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new $t(0),tickMin:new $t(0),tickMax:new $t(0)};var a=_V(new $t(e).sub(t).div(r-1),n,i),s;t<=0&&e>=0?s=new $t(0):(s=new $t(t).add(e).div(2),s=s.sub(new $t(s).mod(a)));var o=Math.ceil(s.sub(t).div(a).toNumber()),l=Math.ceil(new $t(e).sub(s).div(a).toNumber()),u=o+l+1;return u>r?EV(t,e,r,n,i+1):(u<r&&(l=e>0?l+(r-u):l,o=e>0?o:o+(r-u)),{step:a,tickMin:s.sub(new $t(o).mul(a)),tickMax:s.add(new $t(l).mul(a))})}function Jge(t){var e=Gp(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),o=wV([r,n]),l=Gp(o,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var d=c===1/0?[u].concat(OE(TE(0,i-1).map(function(){return 1/0}))):[].concat(OE(TE(0,i-1).map(function(){return-1/0})),[c]);return r>n?PE(d):d}if(u===c)return Zge(u,i,a);var h=EV(u,c,s,a),p=h.step,g=h.tickMin,y=h.tickMax,v=db.rangeStep(g,y.add(new $t(.1).mul(p)),p);return r>n?PE(v):v}function eve(t,e){var r=Gp(t,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=wV([n,i]),o=Gp(s,2),l=o[0],u=o[1];if(l===-1/0||u===1/0)return[n,i];if(l===u)return[l];var c=Math.max(e,2),d=_V(new $t(u).sub(l).div(c-1),a,0),h=[].concat(OE(db.rangeStep(new $t(l),new $t(u).sub(new $t(.99).mul(d)),d)),[u]);return n>i?PE(h):h}var tve=xV(Jge),rve=xV(eve),nve="Invariant failed";function Fu(t,e){throw new Error(nve)}var ive=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Md(t){"@babel/helpers - typeof";return Md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Md(t)}function Jv(){return Jv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Jv.apply(this,arguments)}function ave(t,e){return uve(t)||lve(t,e)||ove(t,e)||sve()}function sve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ove(t,e){if(t){if(typeof t=="string")return QN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QN(t,e)}}function QN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function lve(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function uve(t){if(Array.isArray(t))return t}function cve(t,e){if(t==null)return{};var r=dve(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function dve(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function fve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hve(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,TV(n.key),n)}}function pve(t,e,r){return e&&hve(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function mve(t,e,r){return e=e0(e),yve(t,SV()?Reflect.construct(e,r||[],e0(t).constructor):e.apply(t,r))}function yve(t,e){if(e&&(Md(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gve(t)}function gve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SV=function(){return!!t})()}function e0(t){return e0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},e0(t)}function vve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&CE(t,e)}function CE(t,e){return CE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},CE(t,e)}function AV(t,e,r){return e=TV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TV(t){var e=xve(t,"string");return Md(e)=="symbol"?e:e+""}function xve(t,e){if(Md(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Md(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Jm=function(t){function e(){return fve(this,e),mve(this,e,arguments)}return vve(e,t),pve(e,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,s=n.width,o=n.dataKey,l=n.data,u=n.dataPointFormatter,c=n.xAxis,d=n.yAxis,h=cve(n,ive),p=$e(h,!1);this.props.direction==="x"&&c.type!=="number"&&Fu();var g=l.map(function(y){var v=u(y,o),b=v.x,x=v.y,_=v.value,O=v.errorVal;if(!O)return null;var E=[],P,w;if(Array.isArray(O)){var S=ave(O,2);P=S[0],w=S[1]}else P=w=O;if(a==="vertical"){var I=c.scale,k=x+i,N=k+s,R=k-s,j=I(_-P),B=I(_+w);E.push({x1:B,y1:N,x2:B,y2:R}),E.push({x1:j,y1:k,x2:B,y2:k}),E.push({x1:j,y1:N,x2:j,y2:R})}else if(a==="horizontal"){var L=d.scale,U=b+i,W=U-s,$=U+s,H=L(_-P),Y=L(_+w);E.push({x1:W,y1:Y,x2:$,y2:Y}),E.push({x1:U,y1:H,x2:U,y2:Y}),E.push({x1:W,y1:H,x2:$,y2:H})}return M.createElement(ct,Jv({className:"recharts-errorBar",key:"bar-".concat(E.map(function(re){return"".concat(re.x1,"-").concat(re.x2,"-").concat(re.y1,"-").concat(re.y2)}))},p),E.map(function(re){return M.createElement("line",Jv({},re,{key:"line-".concat(re.x1,"-").concat(re.x2,"-").concat(re.y1,"-").concat(re.y2)}))}))});return M.createElement(ct,{className:"recharts-errorBars"},g)}}])}(M.Component);AV(Jm,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});AV(Jm,"displayName","ErrorBar");function Yp(t){"@babel/helpers - typeof";return Yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yp(t)}function XN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Il(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XN(Object(r),!0).forEach(function(n){bve(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bve(t,e,r){return e=wve(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wve(t){var e=_ve(t,"string");return Yp(e)=="symbol"?e:e+""}function _ve(t,e){if(Yp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var PV=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,s=di(r,ua);if(!s)return null;var o=ua.defaultProps,l=o!==void 0?Il(Il({},o),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:a==="children"?u=(n||[]).reduce(function(c,d){var h=d.item,p=d.props,g=p.sectors||p.data||[];return c.concat(g.map(function(y){return{type:s.props.iconType||h.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):u=(n||[]).map(function(c){var d=c.item,h=d.type.defaultProps,p=h!==void 0?Il(Il({},h),d.props):{},g=p.dataKey,y=p.name,v=p.legendType,b=p.hide;return{inactive:b,dataKey:g,type:l.iconType||v||"square",color:TP(d),value:y||g,payload:p}}),Il(Il(Il({},l),ua.getWithHeight(s,i)),{},{payload:u,item:s})};function Qp(t){"@babel/helpers - typeof";return Qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qp(t)}function ZN(t){return Tve(t)||Ave(t)||Sve(t)||Eve()}function Eve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sve(t,e){if(t){if(typeof t=="string")return kE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kE(t,e)}}function Ave(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Tve(t){if(Array.isArray(t))return kE(t)}function kE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function JN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JN(Object(r),!0).forEach(function(n){Qc(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Qc(t,e,r){return e=Pve(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Pve(t){var e=Ove(t,"string");return Qp(e)=="symbol"?e:e+""}function Ove(t,e){if(Qp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function br(t,e,r){return Qe(t)||Qe(e)?r:Vr(e)?gi(t,e,r):ze(e)?e(t):r}function Yh(t,e,r,n){var i=Age(t,function(o){return br(o,e)});if(r==="number"){var a=i.filter(function(o){return ue(o)||parseFloat(o)});return a.length?[ub(a),Fo(a)]:[1/0,-1/0]}var s=n?i.filter(function(o){return!Qe(o)}):i;return s.map(function(o){return Vr(o)||o instanceof Date?o:""})}var Ive=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,o=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(o<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,u=0;u<o;u++){var c=u>0?i[u-1].coordinate:i[o-1].coordinate,d=i[u].coordinate,h=u>=o-1?i[0].coordinate:i[u+1].coordinate,p=void 0;if(Dn(d-c)!==Dn(h-d)){var g=[];if(Dn(h-d)===Dn(l[1]-l[0])){p=h;var y=d+l[1]-l[0];g[0]=Math.min(y,(y+c)/2),g[1]=Math.max(y,(y+c)/2)}else{p=c;var v=h+l[1]-l[0];g[0]=Math.min(d,(v+d)/2),g[1]=Math.max(d,(v+d)/2)}var b=[Math.min(d,(p+d)/2),Math.max(d,(p+d)/2)];if(e>b[0]&&e<=b[1]||e>=g[0]&&e<=g[1]){s=i[u].index;break}}else{var x=Math.min(c,h),_=Math.max(c,h);if(e>(x+d)/2&&e<=(_+d)/2){s=i[u].index;break}}}else for(var O=0;O<o;O++)if(O===0&&e<=(n[O].coordinate+n[O+1].coordinate)/2||O>0&&O<o-1&&e>(n[O].coordinate+n[O-1].coordinate)/2&&e<=(n[O].coordinate+n[O+1].coordinate)/2||O===o-1&&e>(n[O].coordinate+n[O-1].coordinate)/2){s=n[O].index;break}return s},TP=function(e){var r,n=e,i=n.type.displayName,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?hr(hr({},e.type.defaultProps),e.props):e.props,s=a.stroke,o=a.fill,l;switch(i){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:o;break;default:l=o;break}return l},Cve=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},o=Object.keys(a),l=0,u=o.length;l<u;l++)for(var c=a[o[l]].stackGroups,d=Object.keys(c),h=0,p=d.length;h<p;h++){var g=c[d[h]],y=g.items,v=g.cateAxisId,b=y.filter(function(w){return Ts(w.type).indexOf("Bar")>=0});if(b&&b.length){var x=b[0].type.defaultProps,_=x!==void 0?hr(hr({},x),b[0].props):b[0].props,O=_.barSize,E=_[v];s[E]||(s[E]=[]);var P=Qe(O)?r:O;s[E].push({item:b[0],stackList:b.slice(1),barSize:Qe(P)?void 0:Mn(P,n,0)})}}return s},kve=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,a=e.sizeList,s=a===void 0?[]:a,o=e.maxBarSize,l=s.length;if(l<1)return null;var u=Mn(r,i,0,!0),c,d=[];if(s[0].barSize===+s[0].barSize){var h=!1,p=i/l,g=s.reduce(function(O,E){return O+E.barSize||0},0);g+=(l-1)*u,g>=i&&(g-=(l-1)*u,u=0),g>=i&&p>0&&(h=!0,p*=.9,g=l*p);var y=(i-g)/2>>0,v={offset:y-u,size:0};c=s.reduce(function(O,E){var P={item:E.item,position:{offset:v.offset+v.size+u,size:h?p:E.barSize}},w=[].concat(ZN(O),[P]);return v=w[w.length-1].position,E.stackList&&E.stackList.length&&E.stackList.forEach(function(S){w.push({item:S,position:v})}),w},d)}else{var b=Mn(n,i,0,!0);i-2*b-(l-1)*u<=0&&(u=0);var x=(i-2*b-(l-1)*u)/l;x>1&&(x>>=0);var _=o===+o?Math.min(x,o):x;c=s.reduce(function(O,E,P){var w=[].concat(ZN(O),[{item:E.item,position:{offset:b+(x+u)*P+(x-_)/2,size:_}}]);return E.stackList&&E.stackList.length&&E.stackList.forEach(function(S){w.push({item:S,position:w[w.length-1].position})}),w},d)}return c},Nve=function(e,r,n,i){var a=n.children,s=n.width,o=n.margin,l=s-(o.left||0)-(o.right||0),u=PV({children:a,legendWidth:l});if(u){var c=i||{},d=c.width,h=c.height,p=u.align,g=u.verticalAlign,y=u.layout;if((y==="vertical"||y==="horizontal"&&g==="middle")&&p!=="center"&&ue(e[p]))return hr(hr({},e),{},Qc({},p,e[p]+(d||0)));if((y==="horizontal"||y==="vertical"&&p==="center")&&g!=="middle"&&ue(e[g]))return hr(hr({},e),{},Qc({},g,e[g]+(h||0)))}return e},jve=function(e,r,n){return Qe(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},OV=function(e,r,n,i,a){var s=r.props.children,o=vi(s,Jm).filter(function(u){return jve(i,a,u.props.direction)});if(o&&o.length){var l=o.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var d=br(c,n);if(Qe(d))return u;var h=Array.isArray(d)?[ub(d),Fo(d)]:[d,d],p=l.reduce(function(g,y){var v=br(c,y,0),b=h[0]-Math.abs(Array.isArray(v)?v[0]:v),x=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(b,g[0]),Math.max(x,g[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},Rve=function(e,r,n,i,a){var s=r.map(function(o){return OV(e,o,n,a,i)}).filter(function(o){return!Qe(o)});return s&&s.length?s.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},IV=function(e,r,n,i,a){var s=r.map(function(l){var u=l.props.dataKey;return n==="number"&&u&&OV(e,l,u,i)||Yh(e,u,n,a)});if(n==="number")return s.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var o={};return s.reduce(function(l,u){for(var c=0,d=u.length;c<d;c++)o[u[c]]||(o[u[c]]=!0,l.push(u[c]));return l},[])},CV=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},kV=function(e,r,n,i){if(i)return e.map(function(l){return l.coordinate});var a,s,o=e.map(function(l){return l.coordinate===r&&(a=!0),l.coordinate===n&&(s=!0),l.coordinate});return a||o.push(r),s||o.push(n),o},xs=function(e,r,n){if(!e)return null;var i=e.scale,a=e.duplicateDomain,s=e.type,o=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(r||n)&&s==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?Dn(o[0]-o[1])*2*u:u,r&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(d){var h=a?a.indexOf(d):d;return{coordinate:i(h)+u,value:d,offset:u}});return c.filter(function(d){return!Tf(d.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(d,h){return{coordinate:i(d)+u,value:d,index:h,offset:u}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(d){return{coordinate:i(d)+u,value:d,offset:u}}):i.domain().map(function(d,h){return{coordinate:i(d)+u,value:a?a[d]:d,index:h,offset:u}})},Hw=new WeakMap,Jy=function(e,r){if(typeof r!="function")return e;Hw.has(e)||Hw.set(e,new WeakMap);var n=Hw.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},NV=function(e,r,n){var i=e.scale,a=e.type,s=e.layout,o=e.axisType;if(i==="auto")return s==="radial"&&o==="radiusAxis"?{scale:Up(),realScaleType:"band"}:s==="radial"&&o==="angleAxis"?{scale:Gv(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Gh(),realScaleType:"point"}:a==="category"?{scale:Up(),realScaleType:"band"}:{scale:Gv(),realScaleType:"linear"};if(Ru(i)){var l="scale".concat(Gx(i));return{scale:(qN[l]||Gh)(),realScaleType:qN[l]?l:"point"}}return ze(i)?{scale:i}:{scale:Gh(),realScaleType:"point"}},ej=1e-4,jV=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),a=Math.min(i[0],i[1])-ej,s=Math.max(i[0],i[1])+ej,o=e(r[0]),l=e(r[n-1]);(o<a||o>s||l<a||l>s)&&e.domain([r[0],r[n-1]])}},Dve=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},Mve=function(e,r){if(!r||r.length!==2||!ue(r[0])||!ue(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[e[0],e[1]];return(!ue(e[0])||e[0]<n)&&(a[0]=n),(!ue(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},$ve=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,s=0,o=0;o<r;++o){var l=Tf(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=a,e[o][n][1]=a+l,a=e[o][n][1]):(e[o][n][0]=s,e[o][n][1]=s+l,s=e[o][n][1])}},Lve=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,s=0;s<r;++s){var o=Tf(e[s][n][1])?e[s][n][0]:e[s][n][1];o>=0?(e[s][n][0]=a,e[s][n][1]=a+o,a=e[s][n][1]):(e[s][n][0]=0,e[s][n][1]=0)}},Fve={sign:$ve,expand:iae,none:Od,silhouette:aae,wiggle:sae,positive:Lve},Vve=function(e,r,n){var i=r.map(function(o){return o.props.dataKey}),a=Fve[n],s=nae().keys(i).value(function(o,l){return+br(o,l,0)}).order(rE).offset(a);return s(e)},Bve=function(e,r,n,i,a,s){if(!e)return null;var o=s?r.reverse():r,l={},u=o.reduce(function(d,h){var p,g=(p=h.type)!==null&&p!==void 0&&p.defaultProps?hr(hr({},h.type.defaultProps),h.props):h.props,y=g.stackId,v=g.hide;if(v)return d;var b=g[n],x=d[b]||{hasStack:!1,stackGroups:{}};if(Vr(y)){var _=x.stackGroups[y]||{numericAxisId:n,cateAxisId:i,items:[]};_.items.push(h),x.hasStack=!0,x.stackGroups[y]=_}else x.stackGroups[Zu("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[h]};return hr(hr({},d),{},Qc({},b,x))},l),c={};return Object.keys(u).reduce(function(d,h){var p=u[h];if(p.hasStack){var g={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(y,v){var b=p.stackGroups[v];return hr(hr({},y),{},Qc({},v,{numericAxisId:n,cateAxisId:i,items:b.items,stackedData:Vve(e,b.items,a)}))},g)}return hr(hr({},d),{},Qc({},h,p))},c)},RV=function(e,r){var n=r.realScaleType,i=r.type,a=r.tickCount,s=r.originalDomain,o=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=tve(u,a,o);return e.domain([ub(c),Fo(c)]),{niceTicks:c}}if(a&&i==="number"){var d=e.domain(),h=rve(d,a,o);return{niceTicks:h}}return null};function t0(t){var e=t.axis,r=t.ticks,n=t.bandSize,i=t.entry,a=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Qe(i[e.dataKey])){var o=Pv(r,"value",i[e.dataKey]);if(o)return o.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var l=br(i,Qe(s)?e.dataKey:s);return Qe(l)?null:e.scale(l)}var tj=function(e){var r=e.axis,n=e.ticks,i=e.offset,a=e.bandSize,s=e.entry,o=e.index;if(r.type==="category")return n[o]?n[o].coordinate+i:null;var l=br(s,r.dataKey,r.domain[o]);return Qe(l)?null:r.scale(l)-a/2+i},Uve=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},zve=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?hr(hr({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(Vr(a)){var s=r[a];if(s){var o=s.items.indexOf(e);return o>=0?s.stackedData[o]:null}}return null},Wve=function(e){return e.reduce(function(r,n){return[ub(n.concat([r[0]]).filter(ue)),Fo(n.concat([r[1]]).filter(ue))]},[1/0,-1/0])},DV=function(e,r,n){return Object.keys(e).reduce(function(i,a){var s=e[a],o=s.stackedData,l=o.reduce(function(u,c){var d=Wve(c.slice(r,n+1));return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},rj=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,nj=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,NE=function(e,r,n){if(ze(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(ue(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(rj.test(e[0])){var a=+rj.exec(e[0])[1];i[0]=r[0]-a}else ze(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(ue(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(nj.test(e[1])){var s=+nj.exec(e[1])[1];i[1]=r[1]+s}else ze(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},r0=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var a=eP(r,function(d){return d.coordinate}),s=1/0,o=1,l=a.length;o<l;o++){var u=a[o],c=a[o-1];s=Math.min((u.coordinate||0)-(c.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},ij=function(e,r,n){return!e||!e.length||$u(e,gi(n,"type.defaultProps.domain"))?r:e},MV=function(e,r){var n=e.type.defaultProps?hr(hr({},e.type.defaultProps),e.props):e.props,i=n.dataKey,a=n.name,s=n.unit,o=n.formatter,l=n.tooltipType,u=n.chartType,c=n.hide;return hr(hr({},$e(e,!1)),{},{dataKey:i,unit:s,formatter:o,name:a||i,color:TP(e),value:br(r,i),type:l,payload:r,chartType:u,hide:c})};function Xp(t){"@babel/helpers - typeof";return Xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xp(t)}function aj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function as(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aj(Object(r),!0).forEach(function(n){$V(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $V(t,e,r){return e=Hve(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Hve(t){var e=qve(t,"string");return Xp(e)=="symbol"?e:e+""}function qve(t,e){if(Xp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kve(t,e){return Xve(t)||Qve(t,e)||Yve(t,e)||Gve()}function Gve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yve(t,e){if(t){if(typeof t=="string")return sj(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sj(t,e)}}function sj(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Qve(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function Xve(t){if(Array.isArray(t))return t}var n0=Math.PI/180,Zve=function(e){return e*180/Math.PI},Ht=function(e,r,n,i){return{x:e+Math.cos(-n0*i)*n,y:r+Math.sin(-n0*i)*n}},LV=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Jve=function(e,r,n,i,a){var s=e.width,o=e.height,l=e.startAngle,u=e.endAngle,c=Mn(e.cx,s,s/2),d=Mn(e.cy,o,o/2),h=LV(s,o,n),p=Mn(e.innerRadius,h,0),g=Mn(e.outerRadius,h,h*.8),y=Object.keys(r);return y.reduce(function(v,b){var x=r[b],_=x.domain,O=x.reversed,E;if(Qe(x.range))i==="angleAxis"?E=[l,u]:i==="radiusAxis"&&(E=[p,g]),O&&(E=[E[1],E[0]]);else{E=x.range;var P=E,w=Kve(P,2);l=w[0],u=w[1]}var S=NV(x,a),I=S.realScaleType,k=S.scale;k.domain(_).range(E),jV(k);var N=RV(k,as(as({},x),{},{realScaleType:I})),R=as(as(as({},x),N),{},{range:E,radius:g,realScaleType:I,scale:k,cx:c,cy:d,innerRadius:p,outerRadius:g,startAngle:l,endAngle:u});return as(as({},v),{},$V({},b,R))},{})},e0e=function(e,r){var n=e.x,i=e.y,a=r.x,s=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-s,2))},t0e=function(e,r){var n=e.x,i=e.y,a=r.cx,s=r.cy,o=e0e({x:n,y:i},{x:a,y:s});if(o<=0)return{radius:o};var l=(n-a)/o,u=Math.acos(l);return i>s&&(u=2*Math.PI-u),{radius:o,angle:Zve(u),angleInRadian:u}},r0e=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),s=Math.min(i,a);return{startAngle:r-s*360,endAngle:n-s*360}},n0e=function(e,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),s=Math.floor(i/360),o=Math.min(a,s);return e+o*360},oj=function(e,r){var n=e.x,i=e.y,a=t0e({x:n,y:i},r),s=a.radius,o=a.angle,l=r.innerRadius,u=r.outerRadius;if(s<l||s>u)return!1;if(s===0)return!0;var c=r0e(r),d=c.startAngle,h=c.endAngle,p=o,g;if(d<=h){for(;p>h;)p-=360;for(;p<d;)p+=360;g=p>=d&&p<=h}else{for(;p>d;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=d}return g?as(as({},r),{},{radius:s,angle:n0e(p,r)}):null},FV=function(e){return!T.isValidElement(e)&&!ze(e)&&typeof e!="boolean"?e.className:""};function Zp(t){"@babel/helpers - typeof";return Zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zp(t)}var i0e=["offset"];function a0e(t){return u0e(t)||l0e(t)||o0e(t)||s0e()}function s0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o0e(t,e){if(t){if(typeof t=="string")return jE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jE(t,e)}}function l0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function u0e(t){if(Array.isArray(t))return jE(t)}function jE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function c0e(t,e){if(t==null)return{};var r=d0e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function d0e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function lj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Rr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lj(Object(r),!0).forEach(function(n){f0e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function f0e(t,e,r){return e=h0e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function h0e(t){var e=p0e(t,"string");return Zp(e)=="symbol"?e:e+""}function p0e(t,e){if(Zp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jp(){return Jp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Jp.apply(this,arguments)}var m0e=function(e){var r=e.value,n=e.formatter,i=Qe(e.children)?r:e.children;return ze(n)?n(i):i},y0e=function(e,r){var n=Dn(r-e),i=Math.min(Math.abs(r-e),360);return n*i},g0e=function(e,r,n){var i=e.position,a=e.viewBox,s=e.offset,o=e.className,l=a,u=l.cx,c=l.cy,d=l.innerRadius,h=l.outerRadius,p=l.startAngle,g=l.endAngle,y=l.clockWise,v=(d+h)/2,b=y0e(p,g),x=b>=0?1:-1,_,O;i==="insideStart"?(_=p+x*s,O=y):i==="insideEnd"?(_=g-x*s,O=!y):i==="end"&&(_=g+x*s,O=y),O=b<=0?O:!O;var E=Ht(u,c,v,_),P=Ht(u,c,v,_+(O?1:-1)*359),w="M".concat(E.x,",").concat(E.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(O?0:1,`,
    `).concat(P.x,",").concat(P.y),S=Qe(e.id)?Zu("recharts-radial-line-"):e.id;return M.createElement("text",Jp({},n,{dominantBaseline:"central",className:Be("recharts-radial-bar-label",o)}),M.createElement("defs",null,M.createElement("path",{id:S,d:w})),M.createElement("textPath",{xlinkHref:"#".concat(S)},r))},v0e=function(e){var r=e.viewBox,n=e.offset,i=e.position,a=r,s=a.cx,o=a.cy,l=a.innerRadius,u=a.outerRadius,c=a.startAngle,d=a.endAngle,h=(c+d)/2;if(i==="outside"){var p=Ht(s,o,u+n,h),g=p.x,y=p.y;return{x:g,y,textAnchor:g>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var v=(l+u)/2,b=Ht(s,o,v,h),x=b.x,_=b.y;return{x,y:_,textAnchor:"middle",verticalAnchor:"middle"}},x0e=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,a=e.position,s=r,o=s.x,l=s.y,u=s.width,c=s.height,d=c>=0?1:-1,h=d*i,p=d>0?"end":"start",g=d>0?"start":"end",y=u>=0?1:-1,v=y*i,b=y>0?"end":"start",x=y>0?"start":"end";if(a==="top"){var _={x:o+u/2,y:l-d*i,textAnchor:"middle",verticalAnchor:p};return Rr(Rr({},_),n?{height:Math.max(l-n.y,0),width:u}:{})}if(a==="bottom"){var O={x:o+u/2,y:l+c+h,textAnchor:"middle",verticalAnchor:g};return Rr(Rr({},O),n?{height:Math.max(n.y+n.height-(l+c),0),width:u}:{})}if(a==="left"){var E={x:o-v,y:l+c/2,textAnchor:b,verticalAnchor:"middle"};return Rr(Rr({},E),n?{width:Math.max(E.x-n.x,0),height:c}:{})}if(a==="right"){var P={x:o+u+v,y:l+c/2,textAnchor:x,verticalAnchor:"middle"};return Rr(Rr({},P),n?{width:Math.max(n.x+n.width-P.x,0),height:c}:{})}var w=n?{width:u,height:c}:{};return a==="insideLeft"?Rr({x:o+v,y:l+c/2,textAnchor:x,verticalAnchor:"middle"},w):a==="insideRight"?Rr({x:o+u-v,y:l+c/2,textAnchor:b,verticalAnchor:"middle"},w):a==="insideTop"?Rr({x:o+u/2,y:l+h,textAnchor:"middle",verticalAnchor:g},w):a==="insideBottom"?Rr({x:o+u/2,y:l+c-h,textAnchor:"middle",verticalAnchor:p},w):a==="insideTopLeft"?Rr({x:o+v,y:l+h,textAnchor:x,verticalAnchor:g},w):a==="insideTopRight"?Rr({x:o+u-v,y:l+h,textAnchor:b,verticalAnchor:g},w):a==="insideBottomLeft"?Rr({x:o+v,y:l+c-h,textAnchor:x,verticalAnchor:p},w):a==="insideBottomRight"?Rr({x:o+u-v,y:l+c-h,textAnchor:b,verticalAnchor:p},w):_f(a)&&(ue(a.x)||Ql(a.x))&&(ue(a.y)||Ql(a.y))?Rr({x:o+Mn(a.x,u),y:l+Mn(a.y,c),textAnchor:"end",verticalAnchor:"end"},w):Rr({x:o+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},w)},b0e=function(e){return"cx"in e&&ue(e.cx)};function Yr(t){var e=t.offset,r=e===void 0?5:e,n=c0e(t,i0e),i=Rr({offset:r},n),a=i.viewBox,s=i.position,o=i.value,l=i.children,u=i.content,c=i.className,d=c===void 0?"":c,h=i.textBreakAll;if(!a||Qe(o)&&Qe(l)&&!T.isValidElement(u)&&!ze(u))return null;if(T.isValidElement(u))return T.cloneElement(u,i);var p;if(ze(u)){if(p=T.createElement(u,i),T.isValidElement(p))return p}else p=m0e(i);var g=b0e(a),y=$e(i,!0);if(g&&(s==="insideStart"||s==="insideEnd"||s==="end"))return g0e(i,p,y);var v=g?v0e(i):x0e(i);return M.createElement(Mu,Jp({className:Be("recharts-label",d)},y,v,{breakAll:h}),p)}Yr.displayName="Label";var VV=function(e){var r=e.cx,n=e.cy,i=e.angle,a=e.startAngle,s=e.endAngle,o=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,d=e.x,h=e.y,p=e.top,g=e.left,y=e.width,v=e.height,b=e.clockWise,x=e.labelViewBox;if(x)return x;if(ue(y)&&ue(v)){if(ue(d)&&ue(h))return{x:d,y:h,width:y,height:v};if(ue(p)&&ue(g))return{x:p,y:g,width:y,height:v}}return ue(d)&&ue(h)?{x:d,y:h,width:0,height:0}:ue(r)&&ue(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:s||i||0,innerRadius:u||0,outerRadius:c||l||o||0,clockWise:b}:e.viewBox?e.viewBox:{}},w0e=function(e,r){return e?e===!0?M.createElement(Yr,{key:"label-implicit",viewBox:r}):Vr(e)?M.createElement(Yr,{key:"label-implicit",viewBox:r,value:e}):T.isValidElement(e)?e.type===Yr?T.cloneElement(e,{key:"label-implicit",viewBox:r}):M.createElement(Yr,{key:"label-implicit",content:e,viewBox:r}):ze(e)?M.createElement(Yr,{key:"label-implicit",content:e,viewBox:r}):_f(e)?M.createElement(Yr,Jp({viewBox:r},e,{key:"label-implicit"})):null:null},_0e=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,a=VV(e),s=vi(i,Yr).map(function(l,u){return T.cloneElement(l,{viewBox:r||a,key:"label-".concat(u)})});if(!n)return s;var o=w0e(e.label,r||a);return[o].concat(a0e(s))};Yr.parseViewBox=VV;Yr.renderCallByParent=_0e;function E0e(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var S0e=E0e;const A0e=wt(S0e);function em(t){"@babel/helpers - typeof";return em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},em(t)}var T0e=["valueAccessor"],P0e=["data","dataKey","clockWise","id","textBreakAll"];function O0e(t){return N0e(t)||k0e(t)||C0e(t)||I0e()}function I0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C0e(t,e){if(t){if(typeof t=="string")return RE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RE(t,e)}}function k0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function N0e(t){if(Array.isArray(t))return RE(t)}function RE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function i0(){return i0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},i0.apply(this,arguments)}function uj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function cj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uj(Object(r),!0).forEach(function(n){j0e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function j0e(t,e,r){return e=R0e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function R0e(t){var e=D0e(t,"string");return em(e)=="symbol"?e:e+""}function D0e(t,e){if(em(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(em(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dj(t,e){if(t==null)return{};var r=M0e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function M0e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var $0e=function(e){return Array.isArray(e.value)?A0e(e.value):e.value};function $a(t){var e=t.valueAccessor,r=e===void 0?$0e:e,n=dj(t,T0e),i=n.data,a=n.dataKey,s=n.clockWise,o=n.id,l=n.textBreakAll,u=dj(n,P0e);return!i||!i.length?null:M.createElement(ct,{className:"recharts-label-list"},i.map(function(c,d){var h=Qe(a)?r(c,d):br(c&&c.payload,a),p=Qe(o)?{}:{id:"".concat(o,"-").concat(d)};return M.createElement(Yr,i0({},$e(c,!0),u,p,{parentViewBox:c.parentViewBox,value:h,textBreakAll:l,viewBox:Yr.parseViewBox(Qe(s)?c:cj(cj({},c),{},{clockWise:s})),key:"label-".concat(d),index:d}))}))}$a.displayName="LabelList";function L0e(t,e){return t?t===!0?M.createElement($a,{key:"labelList-implicit",data:e}):M.isValidElement(t)||ze(t)?M.createElement($a,{key:"labelList-implicit",data:e,content:t}):_f(t)?M.createElement($a,i0({data:e},t,{key:"labelList-implicit"})):null:null}function F0e(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=vi(n,$a).map(function(s,o){return T.cloneElement(s,{data:e,key:"labelList-".concat(o)})});if(!r)return i;var a=L0e(t.label,e);return[a].concat(O0e(i))}$a.renderCallByParent=F0e;function tm(t){"@babel/helpers - typeof";return tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tm(t)}function DE(){return DE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},DE.apply(this,arguments)}function fj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fj(Object(r),!0).forEach(function(n){V0e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function V0e(t,e,r){return e=B0e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function B0e(t){var e=U0e(t,"string");return tm(e)=="symbol"?e:e+""}function U0e(t,e){if(tm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(tm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var z0e=function(e,r){var n=Dn(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},eg=function(e){var r=e.cx,n=e.cy,i=e.radius,a=e.angle,s=e.sign,o=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(o?1:-1)+i,d=Math.asin(l/c)/n0,h=u?a:a+s*d,p=Ht(r,n,c,h),g=Ht(r,n,i,h),y=u?a-s*d:a,v=Ht(r,n,c*Math.cos(d*n0),y);return{center:p,circleTangency:g,lineTangency:v,theta:d}},BV=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.startAngle,o=e.endAngle,l=z0e(s,o),u=s+l,c=Ht(r,n,a,s),d=Ht(r,n,a,u),h="M ".concat(c.x,",").concat(c.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>u),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var p=Ht(r,n,i,s),g=Ht(r,n,i,u);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},W0e=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.cornerRadius,o=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,d=Dn(c-u),h=eg({cx:r,cy:n,radius:a,angle:u,sign:d,cornerRadius:s,cornerIsExternal:l}),p=h.circleTangency,g=h.lineTangency,y=h.theta,v=eg({cx:r,cy:n,radius:a,angle:c,sign:-d,cornerRadius:s,cornerIsExternal:l}),b=v.circleTangency,x=v.lineTangency,_=v.theta,O=l?Math.abs(u-c):Math.abs(u-c)-y-_;if(O<0)return o?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):BV({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:u,endAngle:c});var E="M ".concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(O>180),",").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(x.x,",").concat(x.y,`
  `);if(i>0){var P=eg({cx:r,cy:n,radius:i,angle:u,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),w=P.circleTangency,S=P.lineTangency,I=P.theta,k=eg({cx:r,cy:n,radius:i,angle:c,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),N=k.circleTangency,R=k.lineTangency,j=k.theta,B=l?Math.abs(u-c):Math.abs(u-c)-I-j;if(B<0&&s===0)return"".concat(E,"L").concat(r,",").concat(n,"Z");E+="L".concat(R.x,",").concat(R.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(N.x,",").concat(N.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(B>180),",").concat(+(d>0),",").concat(w.x,",").concat(w.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(S.x,",").concat(S.y,"Z")}else E+="L".concat(r,",").concat(n,"Z");return E},H0e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},UV=function(e){var r=hj(hj({},H0e),e),n=r.cx,i=r.cy,a=r.innerRadius,s=r.outerRadius,o=r.cornerRadius,l=r.forceCornerRadius,u=r.cornerIsExternal,c=r.startAngle,d=r.endAngle,h=r.className;if(s<a||c===d)return null;var p=Be("recharts-sector",h),g=s-a,y=Mn(o,g,0,!0),v;return y>0&&Math.abs(c-d)<360?v=W0e({cx:n,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(y,g/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:d}):v=BV({cx:n,cy:i,innerRadius:a,outerRadius:s,startAngle:c,endAngle:d}),M.createElement("path",DE({},$e(r,!0),{className:p,d:v,role:"img"}))};function rm(t){"@babel/helpers - typeof";return rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rm(t)}function ME(){return ME=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ME.apply(this,arguments)}function pj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pj(Object(r),!0).forEach(function(n){q0e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function q0e(t,e,r){return e=K0e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function K0e(t){var e=G0e(t,"string");return rm(e)=="symbol"?e:e+""}function G0e(t,e){if(rm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(rm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yj={curveBasisClosed:qie,curveBasisOpen:Kie,curveBasis:Hie,curveBumpX:kie,curveBumpY:Nie,curveLinearClosed:Gie,curveLinear:Qx,curveMonotoneX:Yie,curveMonotoneY:Qie,curveNatural:Xie,curveStep:Zie,curveStepAfter:eae,curveStepBefore:Jie},tg=function(e){return e.x===+e.x&&e.y===+e.y},hh=function(e){return e.x},ph=function(e){return e.y},Y0e=function(e,r){if(ze(e))return e;var n="curve".concat(Gx(e));return(n==="curveMonotone"||n==="curveBump")&&r?yj["".concat(n).concat(r==="vertical"?"Y":"X")]:yj[n]||Qx},Q0e=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,a=i===void 0?[]:i,s=e.baseLine,o=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=Y0e(n,o),d=u?a.filter(function(y){return tg(y)}):a,h;if(Array.isArray(s)){var p=u?s.filter(function(y){return tg(y)}):s,g=d.map(function(y,v){return mj(mj({},y),{},{base:p[v]})});return o==="vertical"?h=Hy().y(ph).x1(hh).x0(function(y){return y.base.x}):h=Hy().x(hh).y1(ph).y0(function(y){return y.base.y}),h.defined(tg).curve(c),h(g)}return o==="vertical"&&ue(s)?h=Hy().y(ph).x1(hh).x0(s):ue(s)?h=Hy().x(hh).y1(ph).y0(s):h=M5().x(hh).y(ph),h.defined(tg).curve(c),h(d)},gu=function(e){var r=e.className,n=e.points,i=e.path,a=e.pathRef;if((!n||!n.length)&&!i)return null;var s=n&&n.length?Q0e(e):i;return T.createElement("path",ME({},$e(e,!1),Ov(e),{className:Be("recharts-curve",r),d:s,ref:a}))},zV={exports:{}},X0e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Z0e=X0e,J0e=Z0e;function WV(){}function HV(){}HV.resetWarningCache=WV;var exe=function(){function t(n,i,a,s,o,l){if(l!==J0e){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:HV,resetWarningCache:WV};return r.PropTypes=r,r};zV.exports=exe();var txe=zV.exports;const Pt=wt(txe),{getOwnPropertyNames:rxe,getOwnPropertySymbols:nxe}=Object,{hasOwnProperty:ixe}=Object.prototype;function qw(t,e){return function(n,i,a){return t(n,i,a)&&e(n,i,a)}}function rg(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);const{cache:a}=i,s=a.get(r),o=a.get(n);if(s&&o)return s===n&&o===r;a.set(r,n),a.set(n,r);const l=t(r,n,i);return a.delete(r),a.delete(n),l}}function axe(t){return t!=null?t[Symbol.toStringTag]:void 0}function gj(t){return rxe(t).concat(nxe(t))}const sxe=Object.hasOwn||((t,e)=>ixe.call(t,e));function tc(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const oxe="__v",lxe="__o",uxe="_owner",{getOwnPropertyDescriptor:vj,keys:xj}=Object;function cxe(t,e){return t.byteLength===e.byteLength&&a0(new Uint8Array(t),new Uint8Array(e))}function dxe(t,e,r){let n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function fxe(t,e){return t.byteLength===e.byteLength&&a0(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function hxe(t,e){return tc(t.getTime(),e.getTime())}function pxe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function mxe(t,e){return t===e}function bj(t,e,r){const n=t.size;if(n!==e.size)return!1;if(!n)return!0;const i=new Array(n),a=t.entries();let s,o,l=0;for(;(s=a.next())&&!s.done;){const u=e.entries();let c=!1,d=0;for(;(o=u.next())&&!o.done;){if(i[d]){d++;continue}const h=s.value,p=o.value;if(r.equals(h[0],p[0],l,d,t,e,r)&&r.equals(h[1],p[1],h[0],p[0],t,e,r)){c=i[d]=!0;break}d++}if(!c)return!1;l++}return!0}const yxe=tc;function gxe(t,e,r){const n=xj(t);let i=n.length;if(xj(e).length!==i)return!1;for(;i-- >0;)if(!qV(t,e,r,n[i]))return!1;return!0}function mh(t,e,r){const n=gj(t);let i=n.length;if(gj(e).length!==i)return!1;let a,s,o;for(;i-- >0;)if(a=n[i],!qV(t,e,r,a)||(s=vj(t,a),o=vj(e,a),(s||o)&&(!s||!o||s.configurable!==o.configurable||s.enumerable!==o.enumerable||s.writable!==o.writable)))return!1;return!0}function vxe(t,e){return tc(t.valueOf(),e.valueOf())}function xxe(t,e){return t.source===e.source&&t.flags===e.flags}function wj(t,e,r){const n=t.size;if(n!==e.size)return!1;if(!n)return!0;const i=new Array(n),a=t.values();let s,o;for(;(s=a.next())&&!s.done;){const l=e.values();let u=!1,c=0;for(;(o=l.next())&&!o.done;){if(!i[c]&&r.equals(s.value,o.value,s.value,o.value,t,e,r)){u=i[c]=!0;break}c++}if(!u)return!1}return!0}function a0(t,e){let r=t.byteLength;if(e.byteLength!==r||t.byteOffset!==e.byteOffset)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function bxe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function qV(t,e,r,n){return(n===uxe||n===lxe||n===oxe)&&(t.$$typeof||e.$$typeof)?!0:sxe(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}const wxe="[object ArrayBuffer]",_xe="[object Arguments]",Exe="[object Boolean]",Sxe="[object DataView]",Axe="[object Date]",Txe="[object Error]",Pxe="[object Map]",Oxe="[object Number]",Ixe="[object Object]",Cxe="[object RegExp]",kxe="[object Set]",Nxe="[object String]",jxe={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},Rxe="[object URL]",Dxe=Object.prototype.toString;function Mxe({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:i,areFunctionsEqual:a,areMapsEqual:s,areNumbersEqual:o,areObjectsEqual:l,arePrimitiveWrappersEqual:u,areRegExpsEqual:c,areSetsEqual:d,areTypedArraysEqual:h,areUrlsEqual:p,unknownTagComparators:g}){return function(v,b,x){if(v===b)return!0;if(v==null||b==null)return!1;const _=typeof v;if(_!==typeof b)return!1;if(_!=="object")return _==="number"?o(v,b,x):_==="function"?a(v,b,x):!1;const O=v.constructor;if(O!==b.constructor)return!1;if(O===Object)return l(v,b,x);if(Array.isArray(v))return e(v,b,x);if(O===Date)return n(v,b,x);if(O===RegExp)return c(v,b,x);if(O===Map)return s(v,b,x);if(O===Set)return d(v,b,x);const E=Dxe.call(v);if(E===Axe)return n(v,b,x);if(E===Cxe)return c(v,b,x);if(E===Pxe)return s(v,b,x);if(E===kxe)return d(v,b,x);if(E===Ixe)return typeof v.then!="function"&&typeof b.then!="function"&&l(v,b,x);if(E===Rxe)return p(v,b,x);if(E===Txe)return i(v,b,x);if(E===_xe)return l(v,b,x);if(jxe[E])return h(v,b,x);if(E===wxe)return t(v,b,x);if(E===Sxe)return r(v,b,x);if(E===Exe||E===Oxe||E===Nxe)return u(v,b,x);if(g){let P=g[E];if(!P){const w=axe(v);w&&(P=g[w])}if(P)return P(v,b,x)}return!1}}function $xe({circular:t,createCustomConfig:e,strict:r}){let n={areArrayBuffersEqual:cxe,areArraysEqual:r?mh:dxe,areDataViewsEqual:fxe,areDatesEqual:hxe,areErrorsEqual:pxe,areFunctionsEqual:mxe,areMapsEqual:r?qw(bj,mh):bj,areNumbersEqual:yxe,areObjectsEqual:r?mh:gxe,arePrimitiveWrappersEqual:vxe,areRegExpsEqual:xxe,areSetsEqual:r?qw(wj,mh):wj,areTypedArraysEqual:r?qw(a0,mh):a0,areUrlsEqual:bxe,unknownTagComparators:void 0};if(e&&(n=Object.assign({},n,e(n))),t){const i=rg(n.areArraysEqual),a=rg(n.areMapsEqual),s=rg(n.areObjectsEqual),o=rg(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:i,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:o})}return n}function Lxe(t){return function(e,r,n,i,a,s,o){return t(e,r,o)}}function Fxe({circular:t,comparator:e,createState:r,equals:n,strict:i}){if(r)return function(o,l){const{cache:u=t?new WeakMap:void 0,meta:c}=r();return e(o,l,{cache:u,equals:n,meta:c,strict:i})};if(t)return function(o,l){return e(o,l,{cache:new WeakMap,equals:n,meta:void 0,strict:i})};const a={cache:void 0,equals:n,meta:void 0,strict:i};return function(o,l){return e(o,l,a)}}const Vxe=El();El({strict:!0});El({circular:!0});El({circular:!0,strict:!0});El({createInternalComparator:()=>tc});El({strict:!0,createInternalComparator:()=>tc});El({circular:!0,createInternalComparator:()=>tc});El({circular:!0,createInternalComparator:()=>tc,strict:!0});function El(t={}){const{circular:e=!1,createInternalComparator:r,createState:n,strict:i=!1}=t,a=$xe(t),s=Mxe(a),o=r?r(s):Lxe(s);return Fxe({circular:e,comparator:s,createState:n,equals:o,strict:i})}function Bxe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function _j(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>e?(t(a),r=-1):Bxe(i)};requestAnimationFrame(n)}function $E(t){"@babel/helpers - typeof";return $E=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$E(t)}function Uxe(t){return qxe(t)||Hxe(t)||Wxe(t)||zxe()}function zxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wxe(t,e){if(t){if(typeof t=="string")return Ej(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ej(t,e)}}function Ej(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Hxe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qxe(t){if(Array.isArray(t))return t}function Kxe(){var t={},e=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var s=a,o=Uxe(s),l=o[0],u=o.slice(1);if(typeof l=="number"){_j(i.bind(null,u),l);return}i(l),_j(i.bind(null,u));return}$E(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function nm(t){"@babel/helpers - typeof";return nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nm(t)}function Sj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Aj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Sj(Object(r),!0).forEach(function(n){KV(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Sj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function KV(t,e,r){return e=Gxe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gxe(t){var e=Yxe(t,"string");return nm(e)==="symbol"?e:String(e)}function Yxe(t,e){if(nm(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qxe=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},Xxe=function(e){return e},Zxe=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Qh=function(e,r){return Object.keys(r).reduce(function(n,i){return Aj(Aj({},n),{},KV({},i,e(i,r[i])))},{})},Tj=function(e,r,n){return e.map(function(i){return"".concat(Zxe(i)," ").concat(r,"ms ").concat(n)}).join(",")};function Jxe(t,e){return rbe(t)||tbe(t,e)||GV(t,e)||ebe()}function ebe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tbe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function rbe(t){if(Array.isArray(t))return t}function nbe(t){return sbe(t)||abe(t)||GV(t)||ibe()}function ibe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GV(t,e){if(t){if(typeof t=="string")return LE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LE(t,e)}}function abe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function sbe(t){if(Array.isArray(t))return LE(t)}function LE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var s0=1e-4,YV=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},QV=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},Pj=function(e,r){return function(n){var i=YV(e,r);return QV(i,n)}},obe=function(e,r){return function(n){var i=YV(e,r),a=[].concat(nbe(i.map(function(s,o){return s*o}).slice(1)),[0]);return QV(a,n)}},Oj=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],a=r[1],s=r[2],o=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,s=1,o=1;break;case"ease":i=.25,a=.1,s=.25,o=1;break;case"ease-in":i=.42,a=0,s=1,o=1;break;case"ease-out":i=.42,a=0,s=.58,o=1;break;case"ease-in-out":i=0,a=0,s=.58,o=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),c=Jxe(u,4);i=c[0],a=c[1],s=c[2],o=c[3]}}}var d=Pj(i,s),h=Pj(a,o),p=obe(i,s),g=function(b){return b>1?1:b<0?0:b},y=function(b){for(var x=b>1?1:b,_=x,O=0;O<8;++O){var E=d(_)-x,P=p(_);if(Math.abs(E-x)<s0||P<s0)return h(_);_=g(_-E/P)}return h(_)};return y.isStepper=!1,y},lbe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,a=i===void 0?8:i,s=e.dt,o=s===void 0?17:s,l=function(c,d,h){var p=-(c-d)*n,g=h*a,y=h+(p-g)*o/1e3,v=h*o/1e3+c;return Math.abs(v-d)<s0&&Math.abs(y)<s0?[d,0]:[v,y]};return l.isStepper=!0,l.dt=o,l},ube=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Oj(i);case"spring":return lbe();default:if(i.split("(")[0]==="cubic-bezier")return Oj(i)}return typeof i=="function"?i:null};function im(t){"@babel/helpers - typeof";return im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},im(t)}function Ij(t){return fbe(t)||dbe(t)||XV(t)||cbe()}function cbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function fbe(t){if(Array.isArray(t))return VE(t)}function Cj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Cj(Object(r),!0).forEach(function(n){FE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Cj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function FE(t,e,r){return e=hbe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hbe(t){var e=pbe(t,"string");return im(e)==="symbol"?e:String(e)}function pbe(t,e){if(im(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(im(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mbe(t,e){return vbe(t)||gbe(t,e)||XV(t,e)||ybe()}function ybe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XV(t,e){if(t){if(typeof t=="string")return VE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VE(t,e)}}function VE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function gbe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function vbe(t){if(Array.isArray(t))return t}var o0=function(e,r,n){return e+(r-e)*n},BE=function(e){var r=e.from,n=e.to;return r!==n},xbe=function t(e,r,n){var i=Qh(function(a,s){if(BE(s)){var o=e(s.from,s.to,s.velocity),l=mbe(o,2),u=l[0],c=l[1];return tn(tn({},s),{},{from:u,velocity:c})}return s},r);return n<1?Qh(function(a,s){return BE(s)?tn(tn({},s),{},{velocity:o0(s.velocity,i[a].velocity,n),from:o0(s.from,i[a].from,n)}):s},r):t(e,i,n-1)};const bbe=function(t,e,r,n,i){var a=Qxe(t,e),s=a.reduce(function(v,b){return tn(tn({},v),{},FE({},b,[t[b],e[b]]))},{}),o=a.reduce(function(v,b){return tn(tn({},v),{},FE({},b,{from:t[b],velocity:0,to:e[b]}))},{}),l=-1,u,c,d=function(){return null},h=function(){return Qh(function(b,x){return x.from},o)},p=function(){return!Object.values(o).filter(BE).length},g=function(b){u||(u=b);var x=b-u,_=x/r.dt;o=xbe(r,o,_),i(tn(tn(tn({},t),e),h())),u=b,p()||(l=requestAnimationFrame(d))},y=function(b){c||(c=b);var x=(b-c)/n,_=Qh(function(E,P){return o0.apply(void 0,Ij(P).concat([r(x)]))},s);if(i(tn(tn(tn({},t),e),_)),x<1)l=requestAnimationFrame(d);else{var O=Qh(function(E,P){return o0.apply(void 0,Ij(P).concat([r(1)]))},s);i(tn(tn(tn({},t),e),O))}};return d=r.isStepper?g:y,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}};function $d(t){"@babel/helpers - typeof";return $d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$d(t)}var wbe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function _be(t,e){if(t==null)return{};var r=Ebe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ebe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function Kw(t){return Pbe(t)||Tbe(t)||Abe(t)||Sbe()}function Sbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Abe(t,e){if(t){if(typeof t=="string")return UE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UE(t,e)}}function Tbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Pbe(t){if(Array.isArray(t))return UE(t)}function UE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function kj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kj(Object(r),!0).forEach(function(n){kh(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kh(t,e,r){return e=ZV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Obe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ibe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ZV(n.key),n)}}function Cbe(t,e,r){return e&&Ibe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ZV(t){var e=kbe(t,"string");return $d(e)==="symbol"?e:String(e)}function kbe(t,e){if($d(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($d(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zE(t,e)}function zE(t,e){return zE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},zE(t,e)}function jbe(t){var e=Rbe();return function(){var n=l0(t),i;if(e){var a=l0(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return WE(this,i)}}function WE(t,e){if(e&&($d(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HE(t)}function HE(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Rbe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function l0(t){return l0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},l0(t)}var ha=function(t){Nbe(r,t);var e=jbe(r);function r(n,i){var a;Obe(this,r),a=e.call(this,n,i);var s=a.props,o=s.isActive,l=s.attributeName,u=s.from,c=s.to,d=s.steps,h=s.children,p=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(HE(a)),a.changeStyle=a.changeStyle.bind(HE(a)),!o||p<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:c}),WE(a);if(d&&d.length)a.state={style:d[0].style};else if(u){if(typeof h=="function")return a.state={style:u},WE(a);a.state={style:l?kh({},l,u):u}}else a.state={style:{}};return a}return Cbe(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,o=a.canBegin,l=a.attributeName,u=a.shouldReAnimate,c=a.to,d=a.from,h=this.state.style;if(o){if(!s){var p={style:l?kh({},l,c):c};this.state&&h&&(l&&h[l]!==c||!l&&h!==c)&&this.setState(p);return}if(!(Vxe(i.to,c)&&i.canBegin&&i.isActive)){var g=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=g||u?d:i.to;if(this.state&&h){var v={style:l?kh({},l,y):y};(l&&h[l]!==y||!l&&h!==y)&&this.setState(v)}this.runAnimation(qi(qi({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,o=i.to,l=i.duration,u=i.easing,c=i.begin,d=i.onAnimationEnd,h=i.onAnimationStart,p=bbe(s,o,ube(u),l,this.changeStyle),g=function(){a.stopJSAnimation=p()};this.manager.start([h,c,g,l,d])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,o=i.begin,l=i.onAnimationStart,u=s[0],c=u.style,d=u.duration,h=d===void 0?0:d,p=function(y,v,b){if(b===0)return y;var x=v.duration,_=v.easing,O=_===void 0?"ease":_,E=v.style,P=v.properties,w=v.onAnimationEnd,S=b>0?s[b-1]:v,I=P||Object.keys(E);if(typeof O=="function"||O==="spring")return[].concat(Kw(y),[a.runJSAnimation.bind(a,{from:S.style,to:E,duration:x,easing:O}),x]);var k=Tj(I,x,O),N=qi(qi(qi({},S.style),E),{},{transition:k});return[].concat(Kw(y),[N,x,w]).filter(Xxe)};return this.manager.start([l].concat(Kw(s.reduce(p,[c,Math.max(h,o)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Kxe());var a=i.begin,s=i.duration,o=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,d=i.onAnimationEnd,h=i.steps,p=i.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var y=o?kh({},o,l):l,v=Tj(Object.keys(y),s,u);g.start([c,a,qi(qi({},y),{},{transition:v}),s,d])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var o=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=_be(i,wbe),u=T.Children.count(a),c=this.state.style;if(typeof a=="function")return a(c);if(!o||u===0||s<=0)return a;var d=function(p){var g=p.props,y=g.style,v=y===void 0?{}:y,b=g.className,x=T.cloneElement(p,qi(qi({},l),{},{style:qi(qi({},v),c),className:b}));return x};return u===1?d(T.Children.only(a)):M.createElement("div",null,T.Children.map(a,function(h){return d(h)}))}}]),r}(T.PureComponent);ha.displayName="Animate";ha.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ha.propTypes={from:Pt.oneOfType([Pt.object,Pt.string]),to:Pt.oneOfType([Pt.object,Pt.string]),attributeName:Pt.string,duration:Pt.number,begin:Pt.number,easing:Pt.oneOfType([Pt.string,Pt.func]),steps:Pt.arrayOf(Pt.shape({duration:Pt.number.isRequired,style:Pt.object.isRequired,easing:Pt.oneOfType([Pt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Pt.func]),properties:Pt.arrayOf("string"),onAnimationEnd:Pt.func})),children:Pt.oneOfType([Pt.node,Pt.func]),isActive:Pt.bool,canBegin:Pt.bool,onAnimationEnd:Pt.func,shouldReAnimate:Pt.bool,onAnimationStart:Pt.func,onAnimationReStart:Pt.func};function am(t){"@babel/helpers - typeof";return am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},am(t)}function u0(){return u0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},u0.apply(this,arguments)}function Dbe(t,e){return Fbe(t)||Lbe(t,e)||$be(t,e)||Mbe()}function Mbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $be(t,e){if(t){if(typeof t=="string")return Nj(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Nj(t,e)}}function Nj(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Lbe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function Fbe(t){if(Array.isArray(t))return t}function jj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Rj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jj(Object(r),!0).forEach(function(n){Vbe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Vbe(t,e,r){return e=Bbe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Bbe(t){var e=Ube(t,"string");return am(e)=="symbol"?e:e+""}function Ube(t,e){if(am(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(am(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Dj=function(e,r,n,i,a){var s=Math.min(Math.abs(n)/2,Math.abs(i)/2),o=i>=0?1:-1,l=n>=0?1:-1,u=i>=0&&n>=0||i<0&&n<0?1:0,c;if(s>0&&a instanceof Array){for(var d=[0,0,0,0],h=0,p=4;h<p;h++)d[h]=a[h]>s?s:a[h];c="M".concat(e,",").concat(r+o*d[0]),d[0]>0&&(c+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(u,",").concat(e+l*d[0],",").concat(r)),c+="L ".concat(e+n-l*d[1],",").concat(r),d[1]>0&&(c+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(r+o*d[1])),c+="L ".concat(e+n,",").concat(r+i-o*d[2]),d[2]>0&&(c+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(u,`,
        `).concat(e+n-l*d[2],",").concat(r+i)),c+="L ".concat(e+l*d[3],",").concat(r+i),d[3]>0&&(c+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(r+i-o*d[3])),c+="Z"}else if(s>0&&a===+a&&a>0){var g=Math.min(s,a);c="M ".concat(e,",").concat(r+o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+l*g,",").concat(r,`
            L `).concat(e+n-l*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+n,",").concat(r+o*g,`
            L `).concat(e+n,",").concat(r+i-o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+n-l*g,",").concat(r+i,`
            L `).concat(e+l*g,",").concat(r+i,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e,",").concat(r+i-o*g," Z")}else c="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return c},zbe=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,a=r.x,s=r.y,o=r.width,l=r.height;if(Math.abs(o)>0&&Math.abs(l)>0){var u=Math.min(a,a+o),c=Math.max(a,a+o),d=Math.min(s,s+l),h=Math.max(s,s+l);return n>=u&&n<=c&&i>=d&&i<=h}return!1},Wbe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},PP=function(e){var r=Rj(Rj({},Wbe),e),n=T.useRef(),i=T.useState(-1),a=Dbe(i,2),s=a[0],o=a[1];T.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var O=n.current.getTotalLength();O&&o(O)}catch{}},[]);var l=r.x,u=r.y,c=r.width,d=r.height,h=r.radius,p=r.className,g=r.animationEasing,y=r.animationDuration,v=r.animationBegin,b=r.isAnimationActive,x=r.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||d!==+d||c===0||d===0)return null;var _=Be("recharts-rectangle",p);return x?M.createElement(ha,{canBegin:s>0,from:{width:c,height:d,x:l,y:u},to:{width:c,height:d,x:l,y:u},duration:y,animationEasing:g,isActive:x},function(O){var E=O.width,P=O.height,w=O.x,S=O.y;return M.createElement(ha,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:y,isActive:b,easing:g},M.createElement("path",u0({},$e(r,!0),{className:_,d:Dj(w,S,E,P,h),ref:n})))}):M.createElement("path",u0({},$e(r,!0),{className:_,d:Dj(l,u,c,d,h)}))},Hbe=["points","className","baseLinePoints","connectNulls"];function Rc(){return Rc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Rc.apply(this,arguments)}function qbe(t,e){if(t==null)return{};var r=Kbe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Kbe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Mj(t){return Xbe(t)||Qbe(t)||Ybe(t)||Gbe()}function Gbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ybe(t,e){if(t){if(typeof t=="string")return qE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qE(t,e)}}function Qbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Xbe(t){if(Array.isArray(t))return qE(t)}function qE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var $j=function(e){return e&&e.x===+e.x&&e.y===+e.y},Zbe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){$j(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),$j(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Xh=function(e,r){var n=Zbe(e);r&&(n=[n.reduce(function(a,s){return[].concat(Mj(a),Mj(s))},[])]);var i=n.map(function(a){return a.reduce(function(s,o,l){return"".concat(s).concat(l===0?"M":"L").concat(o.x,",").concat(o.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},Jbe=function(e,r,n){var i=Xh(e,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Xh(r.reverse(),n).slice(1))},ewe=function(e){var r=e.points,n=e.className,i=e.baseLinePoints,a=e.connectNulls,s=qbe(e,Hbe);if(!r||!r.length)return null;var o=Be("recharts-polygon",n);if(i&&i.length){var l=s.stroke&&s.stroke!=="none",u=Jbe(r,i,a);return M.createElement("g",{className:o},M.createElement("path",Rc({},$e(s,!0),{fill:u.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:u})),l?M.createElement("path",Rc({},$e(s,!0),{fill:"none",d:Xh(r,a)})):null,l?M.createElement("path",Rc({},$e(s,!0),{fill:"none",d:Xh(i,a)})):null)}var c=Xh(r,a);return M.createElement("path",Rc({},$e(s,!0),{fill:c.slice(-1)==="Z"?s.fill:"none",className:o,d:c}))};function KE(){return KE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},KE.apply(this,arguments)}var ey=function(e){var r=e.cx,n=e.cy,i=e.r,a=e.className,s=Be("recharts-dot",a);return r===+r&&n===+n&&i===+i?T.createElement("circle",KE({},$e(e,!1),Ov(e),{className:s,cx:r,cy:n,r:i})):null};function sm(t){"@babel/helpers - typeof";return sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sm(t)}var twe=["x","y","top","left","width","height","className"];function GE(){return GE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},GE.apply(this,arguments)}function Lj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rwe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Lj(Object(r),!0).forEach(function(n){nwe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Lj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nwe(t,e,r){return e=iwe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iwe(t){var e=awe(t,"string");return sm(e)=="symbol"?e:e+""}function awe(t,e){if(sm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function swe(t,e){if(t==null)return{};var r=owe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function owe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var lwe=function(e,r,n,i,a,s){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(s,",").concat(r,"h").concat(n)},uwe=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,s=e.top,o=s===void 0?0:s,l=e.left,u=l===void 0?0:l,c=e.width,d=c===void 0?0:c,h=e.height,p=h===void 0?0:h,g=e.className,y=swe(e,twe),v=rwe({x:n,y:a,top:o,left:u,width:d,height:p},y);return!ue(n)||!ue(a)||!ue(d)||!ue(p)||!ue(o)||!ue(u)?null:M.createElement("path",GE({},$e(v,!0),{className:Be("recharts-cross",g),d:lwe(n,a,d,p,o,u)}))},cwe=lb,dwe=cV,fwe=Ka;function hwe(t,e){return t&&t.length?cwe(t,fwe(e),dwe):void 0}var pwe=hwe;const mwe=wt(pwe);var ywe=lb,gwe=Ka,vwe=dV;function xwe(t,e){return t&&t.length?ywe(t,gwe(e),vwe):void 0}var bwe=xwe;const wwe=wt(bwe);var _we=["cx","cy","angle","ticks","axisLine"],Ewe=["ticks","tick","angle","tickFormatter","stroke"];function Ld(t){"@babel/helpers - typeof";return Ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ld(t)}function Zh(){return Zh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Zh.apply(this,arguments)}function Fj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Cl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Fj(Object(r),!0).forEach(function(n){fb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Fj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Vj(t,e){if(t==null)return{};var r=Swe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Swe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Awe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bj(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,eB(n.key),n)}}function Twe(t,e,r){return e&&Bj(t.prototype,e),r&&Bj(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pwe(t,e,r){return e=c0(e),Owe(t,JV()?Reflect.construct(e,r||[],c0(t).constructor):e.apply(t,r))}function Owe(t,e){if(e&&(Ld(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Iwe(t)}function Iwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JV=function(){return!!t})()}function c0(t){return c0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},c0(t)}function Cwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&YE(t,e)}function YE(t,e){return YE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},YE(t,e)}function fb(t,e,r){return e=eB(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eB(t){var e=kwe(t,"string");return Ld(e)=="symbol"?e:e+""}function kwe(t,e){if(Ld(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ld(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var hb=function(t){function e(){return Awe(this,e),Pwe(this,e,arguments)}return Cwe(e,t),Twe(e,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,a=this.props,s=a.angle,o=a.cx,l=a.cy;return Ht(o,l,i,s)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.angle,o=n.ticks,l=mwe(o,function(c){return c.coordinate||0}),u=wwe(o,function(c){return c.coordinate||0});return{cx:i,cy:a,startAngle:s,endAngle:s,innerRadius:u.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.angle,o=n.ticks,l=n.axisLine,u=Vj(n,_we),c=o.reduce(function(g,y){return[Math.min(g[0],y.coordinate),Math.max(g[1],y.coordinate)]},[1/0,-1/0]),d=Ht(i,a,c[0],s),h=Ht(i,a,c[1],s),p=Cl(Cl(Cl({},$e(u,!1)),{},{fill:"none"},$e(l,!1)),{},{x1:d.x,y1:d.y,x2:h.x,y2:h.y});return M.createElement("line",Zh({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,s=i.tick,o=i.angle,l=i.tickFormatter,u=i.stroke,c=Vj(i,Ewe),d=this.getTickTextAnchor(),h=$e(c,!1),p=$e(s,!1),g=a.map(function(y,v){var b=n.getTickValueCoord(y),x=Cl(Cl(Cl(Cl({textAnchor:d,transform:"rotate(".concat(90-o,", ").concat(b.x,", ").concat(b.y,")")},h),{},{stroke:"none",fill:u},p),{},{index:v},b),{},{payload:y});return M.createElement(ct,Zh({className:Be("recharts-polar-radius-axis-tick",FV(s)),key:"tick-".concat(y.coordinate)},Du(n.props,y,v)),e.renderTickItem(s,x,l?l(y.value,v):y.value))});return M.createElement(ct,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.axisLine,s=n.tick;return!i||!i.length?null:M.createElement(ct,{className:Be("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),s&&this.renderTicks(),Yr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,a){var s;return M.isValidElement(n)?s=M.cloneElement(n,i):ze(n)?s=n(i):s=M.createElement(Mu,Zh({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),s}}])}(T.PureComponent);fb(hb,"displayName","PolarRadiusAxis");fb(hb,"axisType","radiusAxis");fb(hb,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Fd(t){"@babel/helpers - typeof";return Fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fd(t)}function Bl(){return Bl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Bl.apply(this,arguments)}function Uj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Uj(Object(r),!0).forEach(function(n){pb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Uj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Nwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zj(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,rB(n.key),n)}}function jwe(t,e,r){return e&&zj(t.prototype,e),r&&zj(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Rwe(t,e,r){return e=d0(e),Dwe(t,tB()?Reflect.construct(e,r||[],d0(t).constructor):e.apply(t,r))}function Dwe(t,e){if(e&&(Fd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mwe(t)}function Mwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tB=function(){return!!t})()}function d0(t){return d0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},d0(t)}function $we(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QE(t,e)}function QE(t,e){return QE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},QE(t,e)}function pb(t,e,r){return e=rB(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rB(t){var e=Lwe(t,"string");return Fd(e)=="symbol"?e:e+""}function Lwe(t,e){if(Fd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Fwe=Math.PI/180,Wj=1e-5,mb=function(t){function e(){return Nwe(this,e),Rwe(this,e,arguments)}return $we(e,t),jwe(e,[{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.cx,s=i.cy,o=i.radius,l=i.orientation,u=i.tickSize,c=u||8,d=Ht(a,s,o,n.coordinate),h=Ht(a,s,o+(l==="inner"?-1:1)*c,n.coordinate);return{x1:d.x,y1:d.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,a=Math.cos(-n.coordinate*Fwe),s;return a>Wj?s=i==="outer"?"start":"end":a<-Wj?s=i==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.radius,o=n.axisLine,l=n.axisLineType,u=kl(kl({},$e(this.props,!1)),{},{fill:"none"},$e(o,!1));if(l==="circle")return M.createElement(ey,Bl({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:a,r:s}));var c=this.props.ticks,d=c.map(function(h){return Ht(i,a,s,h.coordinate)});return M.createElement(ewe,Bl({className:"recharts-polar-angle-axis-line"},u,{points:d}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,s=i.tick,o=i.tickLine,l=i.tickFormatter,u=i.stroke,c=$e(this.props,!1),d=$e(s,!1),h=kl(kl({},c),{},{fill:"none"},$e(o,!1)),p=a.map(function(g,y){var v=n.getTickLineCoord(g),b=n.getTickTextAnchor(g),x=kl(kl(kl({textAnchor:b},c),{},{stroke:"none",fill:u},d),{},{index:y,payload:g,x:v.x2,y:v.y2});return M.createElement(ct,Bl({className:Be("recharts-polar-angle-axis-tick",FV(s)),key:"tick-".concat(g.coordinate)},Du(n.props,g,y)),o&&M.createElement("line",Bl({className:"recharts-polar-angle-axis-tick-line"},h,v)),s&&e.renderTickItem(s,x,l?l(g.value,y):g.value))});return M.createElement(ct,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.radius,s=n.axisLine;return a<=0||!i||!i.length?null:M.createElement(ct,{className:Be("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,a){var s;return M.isValidElement(n)?s=M.cloneElement(n,i):ze(n)?s=n(i):s=M.createElement(Mu,Bl({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),s}}])}(T.PureComponent);pb(mb,"displayName","PolarAngleAxis");pb(mb,"axisType","angleAxis");pb(mb,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Vwe=s4,Bwe=Vwe(Object.getPrototypeOf,Object),Uwe=Bwe,zwe=Ks,Wwe=Uwe,Hwe=Gs,qwe="[object Object]",Kwe=Function.prototype,Gwe=Object.prototype,nB=Kwe.toString,Ywe=Gwe.hasOwnProperty,Qwe=nB.call(Object);function Xwe(t){if(!Hwe(t)||zwe(t)!=qwe)return!1;var e=Wwe(t);if(e===null)return!0;var r=Ywe.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&nB.call(r)==Qwe}var Zwe=Xwe;const Jwe=wt(Zwe);var e_e=Ks,t_e=Gs,r_e="[object Boolean]";function n_e(t){return t===!0||t===!1||t_e(t)&&e_e(t)==r_e}var i_e=n_e;const a_e=wt(i_e);function om(t){"@babel/helpers - typeof";return om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},om(t)}function f0(){return f0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},f0.apply(this,arguments)}function s_e(t,e){return c_e(t)||u_e(t,e)||l_e(t,e)||o_e()}function o_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l_e(t,e){if(t){if(typeof t=="string")return Hj(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Hj(t,e)}}function Hj(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function u_e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function c_e(t){if(Array.isArray(t))return t}function qj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Kj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qj(Object(r),!0).forEach(function(n){d_e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function d_e(t,e,r){return e=f_e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function f_e(t){var e=h_e(t,"string");return om(e)=="symbol"?e:e+""}function h_e(t,e){if(om(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(om(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gj=function(e,r,n,i,a){var s=n-i,o;return o="M ".concat(e,",").concat(r),o+="L ".concat(e+n,",").concat(r),o+="L ".concat(e+n-s/2,",").concat(r+a),o+="L ".concat(e+n-s/2-i,",").concat(r+a),o+="L ".concat(e,",").concat(r," Z"),o},p_e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},m_e=function(e){var r=Kj(Kj({},p_e),e),n=T.useRef(),i=T.useState(-1),a=s_e(i,2),s=a[0],o=a[1];T.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&o(_)}catch{}},[]);var l=r.x,u=r.y,c=r.upperWidth,d=r.lowerWidth,h=r.height,p=r.className,g=r.animationEasing,y=r.animationDuration,v=r.animationBegin,b=r.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||d!==+d||h!==+h||c===0&&d===0||h===0)return null;var x=Be("recharts-trapezoid",p);return b?M.createElement(ha,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:c,lowerWidth:d,height:h,x:l,y:u},duration:y,animationEasing:g,isActive:b},function(_){var O=_.upperWidth,E=_.lowerWidth,P=_.height,w=_.x,S=_.y;return M.createElement(ha,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:y,easing:g},M.createElement("path",f0({},$e(r,!0),{className:x,d:Gj(w,S,O,E,P),ref:n})))}):M.createElement("g",null,M.createElement("path",f0({},$e(r,!0),{className:x,d:Gj(l,u,c,d,h)})))},y_e=["option","shapeType","propTransformer","activeClassName","isActive"];function lm(t){"@babel/helpers - typeof";return lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lm(t)}function g_e(t,e){if(t==null)return{};var r=v_e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function v_e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Yj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function h0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Yj(Object(r),!0).forEach(function(n){x_e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Yj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function x_e(t,e,r){return e=b_e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function b_e(t){var e=w_e(t,"string");return lm(e)=="symbol"?e:e+""}function w_e(t,e){if(lm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(lm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function __e(t,e){return h0(h0({},e),t)}function E_e(t,e){return t==="symbols"}function Qj(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return M.createElement(PP,r);case"trapezoid":return M.createElement(m_e,r);case"sector":return M.createElement(UV,r);case"symbols":if(E_e(e))return M.createElement(qT,r);break;default:return null}}function S_e(t){return T.isValidElement(t)?t.props:t}function iB(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?__e:n,a=t.activeClassName,s=a===void 0?"recharts-active-shape":a,o=t.isActive,l=g_e(t,y_e),u;if(T.isValidElement(e))u=T.cloneElement(e,h0(h0({},l),S_e(e)));else if(ze(e))u=e(l);else if(Jwe(e)&&!a_e(e)){var c=i(e,l);u=M.createElement(Qj,{shapeType:r,elementProps:c})}else{var d=l;u=M.createElement(Qj,{shapeType:r,elementProps:d})}return o?M.createElement(ct,{className:s},u):u}function yb(t,e){return e!=null&&"trapezoids"in t.props}function gb(t,e){return e!=null&&"sectors"in t.props}function um(t,e){return e!=null&&"points"in t.props}function A_e(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,a=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&a}function T_e(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function P_e(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function O_e(t,e){var r;return yb(t,e)?r=A_e:gb(t,e)?r=T_e:um(t,e)&&(r=P_e),r}function I_e(t,e){var r;return yb(t,e)?r="trapezoids":gb(t,e)?r="sectors":um(t,e)&&(r="points"),r}function C_e(t,e){if(yb(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(gb(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return um(t,e)?e.payload:{}}function k_e(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=I_e(r,e),a=C_e(r,e),s=n.filter(function(l,u){var c=$u(a,l),d=r.props[i].filter(function(g){var y=O_e(r,e);return y(g,e)}),h=r.props[i].indexOf(d[d.length-1]),p=u===h;return c&&p}),o=n.indexOf(s[s.length-1]);return o}var Cg;function Vd(t){"@babel/helpers - typeof";return Vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vd(t)}function Dc(){return Dc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Dc.apply(this,arguments)}function Xj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ut(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Xj(Object(r),!0).forEach(function(n){Ni(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Xj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function N_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zj(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,sB(n.key),n)}}function j_e(t,e,r){return e&&Zj(t.prototype,e),r&&Zj(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function R_e(t,e,r){return e=p0(e),D_e(t,aB()?Reflect.construct(e,r||[],p0(t).constructor):e.apply(t,r))}function D_e(t,e){if(e&&(Vd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return M_e(t)}function M_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aB=function(){return!!t})()}function p0(t){return p0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},p0(t)}function $_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&XE(t,e)}function XE(t,e){return XE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},XE(t,e)}function Ni(t,e,r){return e=sB(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sB(t){var e=L_e(t,"string");return Vd(e)=="symbol"?e:e+""}function L_e(t,e){if(Vd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Qs=function(t){function e(r){var n;return N_e(this,e),n=R_e(this,e,[r]),Ni(n,"pieRef",null),Ni(n,"sectorRefs",[]),Ni(n,"id",Zu("recharts-pie-")),Ni(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),ze(i)&&i()}),Ni(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),ze(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return $_e(e,t),j_e(e,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.label,o=a.labelLine,l=a.dataKey,u=a.valueKey,c=$e(this.props,!1),d=$e(s,!1),h=$e(o,!1),p=s&&s.offsetRadius||20,g=n.map(function(y,v){var b=(y.startAngle+y.endAngle)/2,x=Ht(y.cx,y.cy,y.outerRadius+p,b),_=Ut(Ut(Ut(Ut({},c),y),{},{stroke:"none"},d),{},{index:v,textAnchor:e.getTextAnchor(x.x,y.cx)},x),O=Ut(Ut(Ut(Ut({},c),y),{},{fill:"none",stroke:y.fill},h),{},{index:v,points:[Ht(y.cx,y.cy,y.outerRadius,b),x]}),E=l;return Qe(l)&&Qe(u)?E="value":Qe(l)&&(E=u),M.createElement(ct,{key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(v)},o&&e.renderLabelLineItem(o,O,"line"),e.renderLabelItem(s,_,br(y,E)))});return M.createElement(ct,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(n){var i=this,a=this.props,s=a.activeShape,o=a.blendStroke,l=a.inactiveShape;return n.map(function(u,c){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var d=i.isActiveIndex(c),h=l&&i.hasActiveIndex()?l:null,p=d?s:h,g=Ut(Ut({},u),{},{stroke:o?u.fill:u.stroke,tabIndex:-1});return M.createElement(ct,Dc({ref:function(v){v&&!i.sectorRefs.includes(v)&&i.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},Du(i.props,u,c),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(c)}),M.createElement(iB,Dc({option:p,isActive:d,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,a=i.sectors,s=i.isAnimationActive,o=i.animationBegin,l=i.animationDuration,u=i.animationEasing,c=i.animationId,d=this.state,h=d.prevSectors,p=d.prevIsAnimationActive;return M.createElement(ha,{begin:o,duration:l,isActive:s,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(c,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var y=g.t,v=[],b=a&&a[0],x=b.startAngle;return a.forEach(function(_,O){var E=h&&h[O],P=O>0?gi(_,"paddingAngle",0):0;if(E){var w=Lr(E.endAngle-E.startAngle,_.endAngle-_.startAngle),S=Ut(Ut({},_),{},{startAngle:x+P,endAngle:x+w(y)+P});v.push(S),x=S.endAngle}else{var I=_.endAngle,k=_.startAngle,N=Lr(0,I-k),R=N(y),j=Ut(Ut({},_),{},{startAngle:x+P,endAngle:x+R+P});v.push(j),x=j.endAngle}}),M.createElement(ct,null,n.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var s=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"ArrowRight":{var o=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,a=n.isAnimationActive,s=this.state.prevSectors;return a&&i&&i.length&&(!s||!$u(s,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,a=i.hide,s=i.sectors,o=i.className,l=i.label,u=i.cx,c=i.cy,d=i.innerRadius,h=i.outerRadius,p=i.isAnimationActive,g=this.state.isAnimationFinished;if(a||!s||!s.length||!ue(u)||!ue(c)||!ue(d)||!ue(h))return null;var y=Be("recharts-pie",o);return M.createElement(ct,{tabIndex:this.props.rootTabIndex,className:y,ref:function(b){n.pieRef=b}},this.renderSectors(),l&&this.renderLabels(s),Yr.renderCallByParent(this.props,null,!1),(!p||g)&&$a.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,a){if(M.isValidElement(n))return M.cloneElement(n,i);if(ze(n))return n(i);var s=Be("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return M.createElement(gu,Dc({},i,{key:a,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(n,i,a){if(M.isValidElement(n))return M.cloneElement(n,i);var s=a;if(ze(n)&&(s=n(i),M.isValidElement(s)))return s;var o=Be("recharts-pie-label-text",typeof n!="boolean"&&!ze(n)?n.className:"");return M.createElement(Mu,Dc({},i,{alignmentBaseline:"middle",className:o}),s)}}])}(T.PureComponent);Cg=Qs;Ni(Qs,"displayName","Pie");Ni(Qs,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!bl.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Ni(Qs,"parseDeltaAngle",function(t,e){var r=Dn(e-t),n=Math.min(Math.abs(e-t),360);return r*n});Ni(Qs,"getRealPieData",function(t){var e=t.data,r=t.children,n=$e(t,!1),i=vi(r,tb);return e&&e.length?e.map(function(a,s){return Ut(Ut(Ut({payload:a},n),a),i&&i[s]&&i[s].props)}):i&&i.length?i.map(function(a){return Ut(Ut({},n),a.props)}):[]});Ni(Qs,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,i=e.width,a=e.height,s=LV(i,a),o=n+Mn(t.cx,i,i/2),l=r+Mn(t.cy,a,a/2),u=Mn(t.innerRadius,s,0),c=Mn(t.outerRadius,s,s*.8),d=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:o,cy:l,innerRadius:u,outerRadius:c,maxRadius:d}});Ni(Qs,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?Ut(Ut({},e.type.defaultProps),e.props):e.props,i=Cg.getRealPieData(n);if(!i||!i.length)return null;var a=n.cornerRadius,s=n.startAngle,o=n.endAngle,l=n.paddingAngle,u=n.dataKey,c=n.nameKey,d=n.valueKey,h=n.tooltipType,p=Math.abs(n.minAngle),g=Cg.parseCoordinateOfPie(n,r),y=Cg.parseDeltaAngle(s,o),v=Math.abs(y),b=u;Qe(u)&&Qe(d)?(la(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):Qe(u)&&(la(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=d);var x=i.filter(function(S){return br(S,b,0)!==0}).length,_=(v>=360?x:x-1)*l,O=v-x*p-_,E=i.reduce(function(S,I){var k=br(I,b,0);return S+(ue(k)?k:0)},0),P;if(E>0){var w;P=i.map(function(S,I){var k=br(S,b,0),N=br(S,c,I),R=(ue(k)?k:0)/E,j;I?j=w.endAngle+Dn(y)*l*(k!==0?1:0):j=s;var B=j+Dn(y)*((k!==0?p:0)+R*O),L=(j+B)/2,U=(g.innerRadius+g.outerRadius)/2,W=[{name:N,value:k,payload:S,dataKey:b,type:h}],$=Ht(g.cx,g.cy,U,L);return w=Ut(Ut(Ut({percent:R,cornerRadius:a,name:N,tooltipPayload:W,midAngle:L,middleRadius:U,tooltipPosition:$},S),g),{},{value:br(S,b),startAngle:j,endAngle:B,payload:S,paddingAngle:Dn(y)*l}),w})}return Ut(Ut({},g),{},{sectors:P,data:i})});var F_e=Math.ceil,V_e=Math.max;function B_e(t,e,r,n){for(var i=-1,a=V_e(F_e((e-t)/(r||1)),0),s=Array(a);a--;)s[n?a:++i]=t,t+=r;return s}var U_e=B_e,z_e=A4,Jj=1/0,W_e=17976931348623157e292;function H_e(t){if(!t)return t===0?t:0;if(t=z_e(t),t===Jj||t===-Jj){var e=t<0?-1:1;return e*W_e}return t===t?t:0}var oB=H_e,q_e=U_e,K_e=eb,Gw=oB;function G_e(t){return function(e,r,n){return n&&typeof n!="number"&&K_e(e,r,n)&&(r=n=void 0),e=Gw(e),r===void 0?(r=e,e=0):r=Gw(r),n=n===void 0?e<r?1:-1:Gw(n),q_e(e,r,n,t)}}var Y_e=G_e,Q_e=Y_e,X_e=Q_e(),Z_e=X_e;const m0=wt(Z_e);function cm(t){"@babel/helpers - typeof";return cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cm(t)}function eR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eR(Object(r),!0).forEach(function(n){lB(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lB(t,e,r){return e=J_e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function J_e(t){var e=e1e(t,"string");return cm(e)=="symbol"?e:e+""}function e1e(t,e){if(cm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var t1e=["Webkit","Moz","O","ms"],r1e=function(e,r){var n=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=t1e.reduce(function(a,s){return tR(tR({},a),{},lB({},s+n,r))},{});return i[e]=r,i};function Bd(t){"@babel/helpers - typeof";return Bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bd(t)}function y0(){return y0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},y0.apply(this,arguments)}function rR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Yw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rR(Object(r),!0).forEach(function(n){ui(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function n1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nR(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,cB(n.key),n)}}function i1e(t,e,r){return e&&nR(t.prototype,e),r&&nR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function a1e(t,e,r){return e=g0(e),s1e(t,uB()?Reflect.construct(e,r||[],g0(t).constructor):e.apply(t,r))}function s1e(t,e){if(e&&(Bd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return o1e(t)}function o1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uB=function(){return!!t})()}function g0(t){return g0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},g0(t)}function l1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ZE(t,e)}function ZE(t,e){return ZE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ZE(t,e)}function ui(t,e,r){return e=cB(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cB(t){var e=u1e(t,"string");return Bd(e)=="symbol"?e:e+""}function u1e(t,e){if(Bd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var c1e=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,a=e.x,s=e.width,o=e.travellerWidth;if(!r||!r.length)return{};var l=r.length,u=Gh().domain(m0(0,l)).range([a,a+s-o]),c=u.domain().map(function(d){return u(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(i),scale:u,scaleValues:c}},iR=function(e){return e.changedTouches&&!!e.changedTouches.length},Ud=function(t){function e(r){var n;return n1e(this,e),n=a1e(this,e,[r]),ui(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),ui(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),ui(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,s=i.onDragEnd,o=i.startIndex;s==null||s({endIndex:a,startIndex:o})}),n.detachDragEndListener()}),ui(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),ui(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),ui(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),ui(n,"handleSlideDragStart",function(i){var a=iR(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return l1e(e,t),i1e(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,s=this.state.scaleValues,o=this.props,l=o.gap,u=o.data,c=u.length-1,d=Math.min(i,a),h=Math.max(i,a),p=e.getIndexInRange(s,d),g=e.getIndexInRange(s,h);return{startIndex:p-p%l,endIndex:g===c?c:g-g%l}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,s=i.tickFormatter,o=i.dataKey,l=br(a[n],o,n);return ze(s)?s(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,s=i.startX,o=i.endX,l=this.props,u=l.x,c=l.width,d=l.travellerWidth,h=l.startIndex,p=l.endIndex,g=l.onChange,y=n.pageX-a;y>0?y=Math.min(y,u+c-d-o,u+c-d-s):y<0&&(y=Math.max(y,u-s,u-o));var v=this.getIndex({startX:s+y,endX:o+y});(v.startIndex!==h||v.endIndex!==p)&&g&&g(v),this.setState({startX:s+y,endX:o+y,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=iR(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,o=i.endX,l=i.startX,u=this.state[s],c=this.props,d=c.x,h=c.width,p=c.travellerWidth,g=c.onChange,y=c.gap,v=c.data,b={startX:this.state.startX,endX:this.state.endX},x=n.pageX-a;x>0?x=Math.min(x,d+h-p-u):x<0&&(x=Math.max(x,d-u)),b[s]=u+x;var _=this.getIndex(b),O=_.startIndex,E=_.endIndex,P=function(){var S=v.length-1;return s==="startX"&&(o>l?O%y===0:E%y===0)||o<l&&E===S||s==="endX"&&(o>l?E%y===0:O%y===0)||o>l&&E===S};this.setState(ui(ui({},s,u+x),"brushMoveStartX",n.pageX),function(){g&&P()&&g(_)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,s=this.state,o=s.scaleValues,l=s.startX,u=s.endX,c=this.state[i],d=o.indexOf(c);if(d!==-1){var h=d+n;if(!(h===-1||h>=o.length)){var p=o[h];i==="startX"&&p>=u||i==="endX"&&p<=l||this.setState(ui({},i,p),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,o=n.height,l=n.fill,u=n.stroke;return M.createElement("rect",{stroke:u,fill:l,x:i,y:a,width:s,height:o})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,o=n.height,l=n.data,u=n.children,c=n.padding,d=T.Children.only(u);return d?M.cloneElement(d,{x:i,y:a,width:s,height:o,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,s,o=this,l=this.props,u=l.y,c=l.travellerWidth,d=l.height,h=l.traveller,p=l.ariaLabel,g=l.data,y=l.startIndex,v=l.endIndex,b=Math.max(n,this.props.x),x=Yw(Yw({},$e(this.props,!1)),{},{x:b,y:u,width:c,height:d}),_=p||"Min value: ".concat((a=g[y])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=g[v])===null||s===void 0?void 0:s.name);return M.createElement(ct,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(E){["ArrowLeft","ArrowRight"].includes(E.key)&&(E.preventDefault(),E.stopPropagation(),o.handleTravellerMoveKeyboard(E.key==="ArrowRight"?1:-1,i))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,x))}},{key:"renderSlide",value:function(n,i){var a=this.props,s=a.y,o=a.height,l=a.stroke,u=a.travellerWidth,c=Math.min(n,i)+u,d=Math.max(Math.abs(i-n)-u,0);return M.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:s,width:d,height:o})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,s=n.y,o=n.height,l=n.travellerWidth,u=n.stroke,c=this.state,d=c.startX,h=c.endX,p=5,g={pointerEvents:"none",fill:u};return M.createElement(ct,{className:"recharts-brush-texts"},M.createElement(Mu,y0({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-p,y:s+o/2},g),this.getTextOfTick(i)),M.createElement(Mu,y0({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+l+p,y:s+o/2},g),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,s=n.children,o=n.x,l=n.y,u=n.width,c=n.height,d=n.alwaysShowText,h=this.state,p=h.startX,g=h.endX,y=h.isTextActive,v=h.isSlideMoving,b=h.isTravellerMoving,x=h.isTravellerFocused;if(!i||!i.length||!ue(o)||!ue(l)||!ue(u)||!ue(c)||u<=0||c<=0)return null;var _=Be("recharts-brush",a),O=M.Children.count(s)===1,E=r1e("userSelect","none");return M.createElement(ct,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:E},this.renderBackground(),O&&this.renderPanorama(),this.renderSlide(p,g),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(g,"endX"),(y||v||b||x||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,s=n.width,o=n.height,l=n.stroke,u=Math.floor(a+o/2)-1;return M.createElement(M.Fragment,null,M.createElement("rect",{x:i,y:a,width:s,height:o,fill:l,stroke:"none"}),M.createElement("line",{x1:i+1,y1:u,x2:i+s-1,y2:u,fill:"none",stroke:"#fff"}),M.createElement("line",{x1:i+1,y1:u+2,x2:i+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return M.isValidElement(n)?a=M.cloneElement(n,i):ze(n)?a=n(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,s=n.width,o=n.x,l=n.travellerWidth,u=n.updateId,c=n.startIndex,d=n.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return Yw({prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:o,prevWidth:s},a&&a.length?c1e({data:a,width:s,x:o,travellerWidth:l,startIndex:c,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||o!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([o,o+s-l]);var h=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:o,prevWidth:s,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,s=0,o=a-1;o-s>1;){var l=Math.floor((s+o)/2);n[l]>i?o=l:s=l}return i>=n[o]?o:s}}])}(T.PureComponent);ui(Ud,"displayName","Brush");ui(Ud,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var d1e=JT;function f1e(t,e){var r;return d1e(t,function(n,i,a){return r=e(n,i,a),!r}),!!r}var h1e=f1e,p1e=Z5,m1e=Ka,y1e=h1e,g1e=ri,v1e=eb;function x1e(t,e,r){var n=g1e(t)?p1e:y1e;return r&&v1e(t,e,r)&&(e=void 0),n(t,m1e(e))}var b1e=x1e;const w1e=wt(b1e);var La=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},aR=b4;function _1e(t,e,r){e=="__proto__"&&aR?aR(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var E1e=_1e,S1e=E1e,A1e=v4,T1e=Ka;function P1e(t,e){var r={};return e=T1e(e),A1e(t,function(n,i,a){S1e(r,i,e(n,i,a))}),r}var O1e=P1e;const I1e=wt(O1e);function C1e(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}var k1e=C1e,N1e=JT;function j1e(t,e){var r=!0;return N1e(t,function(n,i,a){return r=!!e(n,i,a),r}),r}var R1e=j1e,D1e=k1e,M1e=R1e,$1e=Ka,L1e=ri,F1e=eb;function V1e(t,e,r){var n=L1e(t)?D1e:M1e;return r&&F1e(t,e,r)&&(e=void 0),n(t,$1e(e))}var B1e=V1e;const dB=wt(B1e);var U1e=["x","y"];function dm(t){"@babel/helpers - typeof";return dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dm(t)}function JE(){return JE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},JE.apply(this,arguments)}function sR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sR(Object(r),!0).forEach(function(n){z1e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function z1e(t,e,r){return e=W1e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function W1e(t){var e=H1e(t,"string");return dm(e)=="symbol"?e:e+""}function H1e(t,e){if(dm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function q1e(t,e){if(t==null)return{};var r=K1e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function K1e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function G1e(t,e){var r=t.x,n=t.y,i=q1e(t,U1e),a="".concat(r),s=parseInt(a,10),o="".concat(n),l=parseInt(o,10),u="".concat(e.height||i.height),c=parseInt(u,10),d="".concat(e.width||i.width),h=parseInt(d,10);return yh(yh(yh(yh(yh({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:c,width:h,name:e.name,radius:e.radius})}function oR(t){return M.createElement(iB,JE({shapeType:"rectangle",propTransformer:G1e,activeClassName:"recharts-active-bar"},t))}var Y1e=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var a=ue(n)||gne(n);return a?e(n,i):(a||Fu(),r)}},Q1e=["value","background"],fB;function zd(t){"@babel/helpers - typeof";return zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zd(t)}function X1e(t,e){if(t==null)return{};var r=Z1e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Z1e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function v0(){return v0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},v0.apply(this,arguments)}function lR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ar(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lR(Object(r),!0).forEach(function(n){Vo(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function J1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uR(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,pB(n.key),n)}}function eEe(t,e,r){return e&&uR(t.prototype,e),r&&uR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function tEe(t,e,r){return e=x0(e),rEe(t,hB()?Reflect.construct(e,r||[],x0(t).constructor):e.apply(t,r))}function rEe(t,e){if(e&&(zd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nEe(t)}function nEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hB=function(){return!!t})()}function x0(t){return x0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},x0(t)}function iEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eS(t,e)}function eS(t,e){return eS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},eS(t,e)}function Vo(t,e,r){return e=pB(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pB(t){var e=aEe(t,"string");return zd(e)=="symbol"?e:e+""}function aEe(t,e){if(zd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ul=function(t){function e(){var r;J1e(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=tEe(this,e,[].concat(i)),Vo(r,"state",{isAnimationFinished:!1}),Vo(r,"id",Zu("recharts-bar-")),Vo(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),Vo(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return iEe(e,t),eEe(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,s=a.shape,o=a.dataKey,l=a.activeIndex,u=a.activeBar,c=$e(this.props,!1);return n&&n.map(function(d,h){var p=h===l,g=p?u:s,y=Ar(Ar(Ar({},c),d),{},{isActive:p,option:g,index:h,dataKey:o,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return M.createElement(ct,v0({className:"recharts-bar-rectangle"},Du(i.props,d,h),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(h)}),M.createElement(oR,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,s=i.layout,o=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,d=i.animationId,h=this.state.prevData;return M.createElement(ha,{begin:l,duration:u,isActive:o,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var g=p.t,y=a.map(function(v,b){var x=h&&h[b];if(x){var _=Lr(x.x,v.x),O=Lr(x.y,v.y),E=Lr(x.width,v.width),P=Lr(x.height,v.height);return Ar(Ar({},v),{},{x:_(g),y:O(g),width:E(g),height:P(g)})}if(s==="horizontal"){var w=Lr(0,v.height),S=w(g);return Ar(Ar({},v),{},{y:v.y+v.height-S,height:S})}var I=Lr(0,v.width),k=I(g);return Ar(Ar({},v),{},{width:k})});return M.createElement(ct,null,n.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,s=this.state.prevData;return a&&i&&i.length&&(!s||!$u(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,s=i.dataKey,o=i.activeIndex,l=$e(this.props.background,!1);return a.map(function(u,c){u.value;var d=u.background,h=X1e(u,Q1e);if(!d)return null;var p=Ar(Ar(Ar(Ar(Ar({},h),{},{fill:"#eee"},d),l),Du(n.props,u,c)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:c,className:"recharts-bar-background-rectangle"});return M.createElement(oR,v0({key:"background-bar-".concat(c),option:n.props.background,isActive:c===o},p))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,o=a.xAxis,l=a.yAxis,u=a.layout,c=a.children,d=vi(c,Jm);if(!d)return null;var h=u==="vertical"?s[0].height/2:s[0].width/2,p=function(v,b){var x=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:x,errorVal:br(v,b)}},g={clipPath:n?"url(#clipPath-".concat(i,")"):null};return M.createElement(ct,g,d.map(function(y){return M.cloneElement(y,{key:"error-bar-".concat(i,"-").concat(y.props.dataKey),data:s,xAxis:o,yAxis:l,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,s=n.className,o=n.xAxis,l=n.yAxis,u=n.left,c=n.top,d=n.width,h=n.height,p=n.isAnimationActive,g=n.background,y=n.id;if(i||!a||!a.length)return null;var v=this.state.isAnimationFinished,b=Be("recharts-bar",s),x=o&&o.allowDataOverflow,_=l&&l.allowDataOverflow,O=x||_,E=Qe(y)?this.id:y;return M.createElement(ct,{className:b},x||_?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(E)},M.createElement("rect",{x:x?u:u-d/2,y:_?c:c-h/2,width:x?d:d*2,height:_?h:h*2}))):null,M.createElement(ct,{className:"recharts-bar-rectangles",clipPath:O?"url(#clipPath-".concat(E,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(O,E),(!p||v)&&$a.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(T.PureComponent);fB=ul;Vo(ul,"displayName","Bar");Vo(ul,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!bl.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Vo(ul,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,a=t.xAxis,s=t.yAxis,o=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,d=t.displayedData,h=t.offset,p=Dve(n,r);if(!p)return null;var g=e.layout,y=r.type.defaultProps,v=y!==void 0?Ar(Ar({},y),r.props):r.props,b=v.dataKey,x=v.children,_=v.minPointSize,O=g==="horizontal"?s:a,E=u?O.scale.domain():null,P=Uve({numericAxis:O}),w=vi(x,tb),S=d.map(function(I,k){var N,R,j,B,L,U;u?N=Mve(u[c+k],E):(N=br(I,b),Array.isArray(N)||(N=[P,N]));var W=Y1e(_,fB.defaultProps.minPointSize)(N[1],k);if(g==="horizontal"){var $,H=[s.scale(N[0]),s.scale(N[1])],Y=H[0],re=H[1];R=tj({axis:a,ticks:o,bandSize:i,offset:p.offset,entry:I,index:k}),j=($=re??Y)!==null&&$!==void 0?$:void 0,B=p.size;var X=Y-re;if(L=Number.isNaN(X)?0:X,U={x:R,y:s.y,width:B,height:s.height},Math.abs(W)>0&&Math.abs(L)<Math.abs(W)){var ae=Dn(L||W)*(Math.abs(W)-Math.abs(L));j-=ae,L+=ae}}else{var se=[a.scale(N[0]),a.scale(N[1])],me=se[0],De=se[1];if(R=me,j=tj({axis:s,ticks:l,bandSize:i,offset:p.offset,entry:I,index:k}),B=De-me,L=p.size,U={x:a.x,y:j,width:a.width,height:L},Math.abs(W)>0&&Math.abs(B)<Math.abs(W)){var nt=Dn(B||W)*(Math.abs(W)-Math.abs(B));B+=nt}}return Ar(Ar(Ar({},I),{},{x:R,y:j,width:B,height:L,value:u?N:N[1],payload:I,background:U},w&&w[k]&&w[k].props),{},{tooltipPayload:[MV(r,I)],tooltipPosition:{x:R+B/2,y:j+L/2}})});return Ar({data:S,layout:g},h)});function fm(t){"@babel/helpers - typeof";return fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fm(t)}function sEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cR(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,mB(n.key),n)}}function oEe(t,e,r){return e&&cR(t.prototype,e),r&&cR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function dR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Zi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dR(Object(r),!0).forEach(function(n){vb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vb(t,e,r){return e=mB(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mB(t){var e=lEe(t,"string");return fm(e)=="symbol"?e:e+""}function lEe(t,e){if(fm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var OP=function(e,r,n,i,a){var s=e.width,o=e.height,l=e.layout,u=e.children,c=Object.keys(r),d={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:o-n.bottom,bottomMirror:o-n.bottom},h=!!di(u,ul);return c.reduce(function(p,g){var y=r[g],v=y.orientation,b=y.domain,x=y.padding,_=x===void 0?{}:x,O=y.mirror,E=y.reversed,P="".concat(v).concat(O?"Mirror":""),w,S,I,k,N;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var R=b[1]-b[0],j=1/0,B=y.categoricalDomain.sort(bne);if(B.forEach(function(se,me){me>0&&(j=Math.min((se||0)-(B[me-1]||0),j))}),Number.isFinite(j)){var L=j/R,U=y.layout==="vertical"?n.height:n.width;if(y.padding==="gap"&&(w=L*U/2),y.padding==="no-gap"){var W=Mn(e.barCategoryGap,L*U),$=L*U/2;w=$-W-($-W)/U*W}}}i==="xAxis"?S=[n.left+(_.left||0)+(w||0),n.left+n.width-(_.right||0)-(w||0)]:i==="yAxis"?S=l==="horizontal"?[n.top+n.height-(_.bottom||0),n.top+(_.top||0)]:[n.top+(_.top||0)+(w||0),n.top+n.height-(_.bottom||0)-(w||0)]:S=y.range,E&&(S=[S[1],S[0]]);var H=NV(y,a,h),Y=H.scale,re=H.realScaleType;Y.domain(b).range(S),jV(Y);var X=RV(Y,Zi(Zi({},y),{},{realScaleType:re}));i==="xAxis"?(N=v==="top"&&!O||v==="bottom"&&O,I=n.left,k=d[P]-N*y.height):i==="yAxis"&&(N=v==="left"&&!O||v==="right"&&O,I=d[P]-N*y.width,k=n.top);var ae=Zi(Zi(Zi({},y),X),{},{realScaleType:re,x:I,y:k,scale:Y,width:i==="xAxis"?n.width:y.width,height:i==="yAxis"?n.height:y.height});return ae.bandSize=r0(ae,X),!y.hide&&i==="xAxis"?d[P]+=(N?-1:1)*ae.height:y.hide||(d[P]+=(N?-1:1)*ae.width),Zi(Zi({},p),{},vb({},g,ae))},{})},yB=function(e,r){var n=e.x,i=e.y,a=r.x,s=r.y;return{x:Math.min(n,a),y:Math.min(i,s),width:Math.abs(a-n),height:Math.abs(s-i)}},uEe=function(e){var r=e.x1,n=e.y1,i=e.x2,a=e.y2;return yB({x:r,y:n},{x:i,y:a})},gB=function(){function t(e){sEe(this,t),this.scale=e}return oEe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(r)+o}default:return this.scale(r)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])}();vb(gB,"EPS",1e-4);var IP=function(e){var r=Object.keys(e).reduce(function(n,i){return Zi(Zi({},n),{},vb({},i,gB.create(e[i])))},{});return Zi(Zi({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,o=a.position;return I1e(i,function(l,u){return r[u].apply(l,{bandAware:s,position:o})})},isInRange:function(i){return dB(i,function(a,s){return r[s].isInRange(a)})}})};function cEe(t){return(t%180+180)%180}var dEe=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=cEe(i),s=a*Math.PI/180,o=Math.atan(n/r),l=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(l)},fEe=Ka,hEe=Km,pEe=Zx;function mEe(t){return function(e,r,n){var i=Object(e);if(!hEe(e)){var a=fEe(r);e=pEe(e),r=function(o){return a(i[o],o,i)}}var s=t(e,r,n);return s>-1?i[a?e[s]:s]:void 0}}var yEe=mEe,gEe=oB;function vEe(t){var e=gEe(t),r=e%1;return e===e?r?e-r:e:0}var xEe=vEe,bEe=f4,wEe=Ka,_Ee=xEe,EEe=Math.max;function SEe(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var i=r==null?0:_Ee(r);return i<0&&(i=EEe(n+i,0)),bEe(t,wEe(e),i)}var AEe=SEe,TEe=yEe,PEe=AEe,OEe=TEe(PEe),IEe=OEe;const CEe=wt(IEe);var kEe=Ere(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),CP=T.createContext(void 0),kP=T.createContext(void 0),vB=T.createContext(void 0),xB=T.createContext({}),bB=T.createContext(void 0),wB=T.createContext(0),_B=T.createContext(0),fR=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,s=e.clipPathId,o=e.children,l=e.width,u=e.height,c=kEe(a);return M.createElement(CP.Provider,{value:n},M.createElement(kP.Provider,{value:i},M.createElement(xB.Provider,{value:a},M.createElement(vB.Provider,{value:c},M.createElement(bB.Provider,{value:s},M.createElement(wB.Provider,{value:u},M.createElement(_B.Provider,{value:l},o)))))))},NEe=function(){return T.useContext(bB)},EB=function(e){var r=T.useContext(CP);r==null&&Fu();var n=r[e];return n==null&&Fu(),n},jEe=function(){var e=T.useContext(CP);return Eo(e)},REe=function(){var e=T.useContext(kP),r=CEe(e,function(n){return dB(n.domain,Number.isFinite)});return r||Eo(e)},SB=function(e){var r=T.useContext(kP);r==null&&Fu();var n=r[e];return n==null&&Fu(),n},DEe=function(){var e=T.useContext(vB);return e},MEe=function(){return T.useContext(xB)},NP=function(){return T.useContext(_B)},jP=function(){return T.useContext(wB)};function Wd(t){"@babel/helpers - typeof";return Wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wd(t)}function $Ee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LEe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,TB(n.key),n)}}function FEe(t,e,r){return e&&LEe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function VEe(t,e,r){return e=b0(e),BEe(t,AB()?Reflect.construct(e,r||[],b0(t).constructor):e.apply(t,r))}function BEe(t,e){if(e&&(Wd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UEe(t)}function UEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function AB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AB=function(){return!!t})()}function b0(t){return b0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},b0(t)}function zEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tS(t,e)}function tS(t,e){return tS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},tS(t,e)}function hR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hR(Object(r),!0).forEach(function(n){RP(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function RP(t,e,r){return e=TB(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TB(t){var e=WEe(t,"string");return Wd(e)=="symbol"?e:e+""}function WEe(t,e){if(Wd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function HEe(t,e){return YEe(t)||GEe(t,e)||KEe(t,e)||qEe()}function qEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KEe(t,e){if(t){if(typeof t=="string")return mR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mR(t,e)}}function mR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function GEe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function YEe(t){if(Array.isArray(t))return t}function rS(){return rS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rS.apply(this,arguments)}var QEe=function(e,r){var n;return M.isValidElement(e)?n=M.cloneElement(e,r):ze(e)?n=e(r):n=M.createElement("line",rS({},r,{className:"recharts-reference-line-line"})),n},XEe=function(e,r,n,i,a,s,o,l,u){var c=a.x,d=a.y,h=a.width,p=a.height;if(n){var g=u.y,y=e.y.apply(g,{position:s});if(La(u,"discard")&&!e.y.isInRange(y))return null;var v=[{x:c+h,y},{x:c,y}];return l==="left"?v.reverse():v}if(r){var b=u.x,x=e.x.apply(b,{position:s});if(La(u,"discard")&&!e.x.isInRange(x))return null;var _=[{x,y:d+p},{x,y:d}];return o==="top"?_.reverse():_}if(i){var O=u.segment,E=O.map(function(P){return e.apply(P,{position:s})});return La(u,"discard")&&w1e(E,function(P){return!e.isInRange(P)})?null:E}return null};function ZEe(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,a=t.yAxisId,s=t.shape,o=t.className,l=t.alwaysShow,u=NEe(),c=EB(i),d=SB(a),h=DEe();if(!u||!h)return null;la(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=IP({x:c.scale,y:d.scale}),g=Vr(e),y=Vr(r),v=n&&n.length===2,b=XEe(p,g,y,v,h,t.position,c.orientation,d.orientation,t);if(!b)return null;var x=HEe(b,2),_=x[0],O=_.x,E=_.y,P=x[1],w=P.x,S=P.y,I=La(t,"hidden")?"url(#".concat(u,")"):void 0,k=pR(pR({clipPath:I},$e(t,!0)),{},{x1:O,y1:E,x2:w,y2:S});return M.createElement(ct,{className:Be("recharts-reference-line",o)},QEe(s,k),Yr.renderCallByParent(t,uEe({x1:O,y1:E,x2:w,y2:S})))}var DP=function(t){function e(){return $Ee(this,e),VEe(this,e,arguments)}return zEe(e,t),FEe(e,[{key:"render",value:function(){return M.createElement(ZEe,this.props)}}])}(M.Component);RP(DP,"displayName","ReferenceLine");RP(DP,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function nS(){return nS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nS.apply(this,arguments)}function Hd(t){"@babel/helpers - typeof";return Hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hd(t)}function yR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yR(Object(r),!0).forEach(function(n){xb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function JEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eSe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,OB(n.key),n)}}function tSe(t,e,r){return e&&eSe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function rSe(t,e,r){return e=w0(e),nSe(t,PB()?Reflect.construct(e,r||[],w0(t).constructor):e.apply(t,r))}function nSe(t,e){if(e&&(Hd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iSe(t)}function iSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function PB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PB=function(){return!!t})()}function w0(t){return w0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},w0(t)}function aSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iS(t,e)}function iS(t,e){return iS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},iS(t,e)}function xb(t,e,r){return e=OB(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function OB(t){var e=sSe(t,"string");return Hd(e)=="symbol"?e:e+""}function sSe(t,e){if(Hd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var oSe=function(e){var r=e.x,n=e.y,i=e.xAxis,a=e.yAxis,s=IP({x:i.scale,y:a.scale}),o=s.apply({x:r,y:n},{bandAware:!0});return La(e,"discard")&&!s.isInRange(o)?null:o},bb=function(t){function e(){return JEe(this,e),rSe(this,e,arguments)}return aSe(e,t),tSe(e,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,s=n.r,o=n.alwaysShow,l=n.clipPathId,u=Vr(i),c=Vr(a);if(la(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var d=oSe(this.props);if(!d)return null;var h=d.x,p=d.y,g=this.props,y=g.shape,v=g.className,b=La(this.props,"hidden")?"url(#".concat(l,")"):void 0,x=gR(gR({clipPath:b},$e(this.props,!0)),{},{cx:h,cy:p});return M.createElement(ct,{className:Be("recharts-reference-dot",v)},e.renderDot(y,x),Yr.renderCallByParent(this.props,{x:h-s,y:p-s,width:2*s,height:2*s}))}}])}(M.Component);xb(bb,"displayName","ReferenceDot");xb(bb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});xb(bb,"renderDot",function(t,e){var r;return M.isValidElement(t)?r=M.cloneElement(t,e):ze(t)?r=t(e):r=M.createElement(ey,nS({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function aS(){return aS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},aS.apply(this,arguments)}function qd(t){"@babel/helpers - typeof";return qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qd(t)}function vR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vR(Object(r),!0).forEach(function(n){wb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uSe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,CB(n.key),n)}}function cSe(t,e,r){return e&&uSe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dSe(t,e,r){return e=_0(e),fSe(t,IB()?Reflect.construct(e,r||[],_0(t).constructor):e.apply(t,r))}function fSe(t,e){if(e&&(qd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hSe(t)}function hSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function IB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IB=function(){return!!t})()}function _0(t){return _0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_0(t)}function pSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sS(t,e)}function sS(t,e){return sS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},sS(t,e)}function wb(t,e,r){return e=CB(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function CB(t){var e=mSe(t,"string");return qd(e)=="symbol"?e:e+""}function mSe(t,e){if(qd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ySe=function(e,r,n,i,a){var s=a.x1,o=a.x2,l=a.y1,u=a.y2,c=a.xAxis,d=a.yAxis;if(!c||!d)return null;var h=IP({x:c.scale,y:d.scale}),p={x:e?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},g={x:r?h.x.apply(o,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return La(a,"discard")&&(!h.isInRange(p)||!h.isInRange(g))?null:yB(p,g)},_b=function(t){function e(){return lSe(this,e),dSe(this,e,arguments)}return pSe(e,t),cSe(e,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,s=n.y1,o=n.y2,l=n.className,u=n.alwaysShow,c=n.clipPathId;la(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=Vr(i),h=Vr(a),p=Vr(s),g=Vr(o),y=this.props.shape;if(!d&&!h&&!p&&!g&&!y)return null;var v=ySe(d,h,p,g,this.props);if(!v&&!y)return null;var b=La(this.props,"hidden")?"url(#".concat(c,")"):void 0;return M.createElement(ct,{className:Be("recharts-reference-area",l)},e.renderRect(y,xR(xR({clipPath:b},$e(this.props,!0)),v)),Yr.renderCallByParent(this.props,v))}}])}(M.Component);wb(_b,"displayName","ReferenceArea");wb(_b,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});wb(_b,"renderRect",function(t,e){var r;return M.isValidElement(t)?r=M.cloneElement(t,e):ze(t)?r=t(e):r=M.createElement(PP,aS({},e,{className:"recharts-reference-area-rect"})),r});function kB(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function gSe(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return dEe(n,r)}function vSe(t,e,r){var n=r==="width",i=t.x,a=t.y,s=t.width,o=t.height;return e===1?{start:n?i:a,end:n?i+s:a+o}:{start:n?i+s:a+o,end:n?i:a}}function E0(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function xSe(t,e){return kB(t,e+1)}function bSe(t,e,r,n,i){for(var a=(n||[]).slice(),s=e.start,o=e.end,l=0,u=1,c=s,d=function(){var g=n==null?void 0:n[l];if(g===void 0)return{v:kB(n,u)};var y=l,v,b=function(){return v===void 0&&(v=r(g,y)),v},x=g.coordinate,_=l===0||E0(t,x,b,c,o);_||(l=0,c=s,u+=1),_&&(c=x+t*(b()/2+i),l+=u)},h;u<=a.length;)if(h=d(),h)return h.v;return[]}function hm(t){"@babel/helpers - typeof";return hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hm(t)}function bR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bR(Object(r),!0).forEach(function(n){wSe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wSe(t,e,r){return e=_Se(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _Se(t){var e=ESe(t,"string");return hm(e)=="symbol"?e:e+""}function ESe(t,e){if(hm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SSe(t,e,r,n,i){for(var a=(n||[]).slice(),s=a.length,o=e.start,l=e.end,u=function(h){var p=a[h],g,y=function(){return g===void 0&&(g=r(p,h)),g};if(h===s-1){var v=t*(p.coordinate+t*y()/2-l);a[h]=p=bn(bn({},p),{},{tickCoord:v>0?p.coordinate-v*t:p.coordinate})}else a[h]=p=bn(bn({},p),{},{tickCoord:p.coordinate});var b=E0(t,p.tickCoord,y,o,l);b&&(l=p.tickCoord-t*(y()/2+i),a[h]=bn(bn({},p),{},{isShow:!0}))},c=s-1;c>=0;c--)u(c);return a}function ASe(t,e,r,n,i,a){var s=(n||[]).slice(),o=s.length,l=e.start,u=e.end;if(a){var c=n[o-1],d=r(c,o-1),h=t*(c.coordinate+t*d/2-u);s[o-1]=c=bn(bn({},c),{},{tickCoord:h>0?c.coordinate-h*t:c.coordinate});var p=E0(t,c.tickCoord,function(){return d},l,u);p&&(u=c.tickCoord-t*(d/2+i),s[o-1]=bn(bn({},c),{},{isShow:!0}))}for(var g=a?o-1:o,y=function(x){var _=s[x],O,E=function(){return O===void 0&&(O=r(_,x)),O};if(x===0){var P=t*(_.coordinate-t*E()/2-l);s[x]=_=bn(bn({},_),{},{tickCoord:P<0?_.coordinate-P*t:_.coordinate})}else s[x]=_=bn(bn({},_),{},{tickCoord:_.coordinate});var w=E0(t,_.tickCoord,E,l,u);w&&(l=_.tickCoord+t*(E()/2+i),s[x]=bn(bn({},_),{},{isShow:!0}))},v=0;v<g;v++)y(v);return s}function MP(t,e,r){var n=t.tick,i=t.ticks,a=t.viewBox,s=t.minTickGap,o=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,d=t.angle;if(!i||!i.length||!n)return[];if(ue(l)||bl.isSsr)return xSe(i,typeof l=="number"&&ue(l)?l:0);var h=[],p=o==="top"||o==="bottom"?"width":"height",g=c&&p==="width"?Kh(c,{fontSize:e,letterSpacing:r}):{width:0,height:0},y=function(_,O){var E=ze(u)?u(_.value,O):_.value;return p==="width"?gSe(Kh(E,{fontSize:e,letterSpacing:r}),g,d):Kh(E,{fontSize:e,letterSpacing:r})[p]},v=i.length>=2?Dn(i[1].coordinate-i[0].coordinate):1,b=vSe(a,v,p);return l==="equidistantPreserveStart"?bSe(v,b,y,i,s):(l==="preserveStart"||l==="preserveStartEnd"?h=ASe(v,b,y,i,s,l==="preserveStartEnd"):h=SSe(v,b,y,i,s),h.filter(function(x){return x.isShow}))}var TSe=["viewBox"],PSe=["viewBox"],OSe=["ticks"];function Kd(t){"@babel/helpers - typeof";return Kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kd(t)}function Mc(){return Mc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Mc.apply(this,arguments)}function wR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wR(Object(r),!0).forEach(function(n){$P(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Qw(t,e){if(t==null)return{};var r=ISe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ISe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function CSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _R(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,jB(n.key),n)}}function kSe(t,e,r){return e&&_R(t.prototype,e),r&&_R(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function NSe(t,e,r){return e=S0(e),jSe(t,NB()?Reflect.construct(e,r||[],S0(t).constructor):e.apply(t,r))}function jSe(t,e){if(e&&(Kd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RSe(t)}function RSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function NB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NB=function(){return!!t})()}function S0(t){return S0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},S0(t)}function DSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oS(t,e)}function oS(t,e){return oS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},oS(t,e)}function $P(t,e,r){return e=jB(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jB(t){var e=MSe(t,"string");return Kd(e)=="symbol"?e:e+""}function MSe(t,e){if(Kd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var jf=function(t){function e(r){var n;return CSe(this,e),n=NSe(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return DSe(e,t),kSe(e,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,s=Qw(n,TSe),o=this.props,l=o.viewBox,u=Qw(o,PSe);return!Gc(a,l)||!Gc(s,u)||!Gc(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,s=i.y,o=i.width,l=i.height,u=i.orientation,c=i.tickSize,d=i.mirror,h=i.tickMargin,p,g,y,v,b,x,_=d?-1:1,O=n.tickSize||c,E=ue(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=g=n.coordinate,v=s+ +!d*l,y=v-_*O,x=y-_*h,b=E;break;case"left":y=v=n.coordinate,g=a+ +!d*o,p=g-_*O,b=p-_*h,x=E;break;case"right":y=v=n.coordinate,g=a+ +d*o,p=g+_*O,b=p+_*h,x=E;break;default:p=g=n.coordinate,v=s+ +d*l,y=v+_*O,x=y+_*h,b=E;break}return{line:{x1:p,y1:y,x2:g,y2:v},tick:{x:b,y:x}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s;switch(i){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,o=n.height,l=n.orientation,u=n.mirror,c=n.axisLine,d=jr(jr(jr({},$e(this.props,!1)),$e(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);d=jr(jr({},d),{},{x1:i,y1:a+h*o,x2:i+s,y2:a+h*o})}else{var p=+(l==="left"&&!u||l==="right"&&u);d=jr(jr({},d),{},{x1:i+p*s,y1:a,x2:i+p*s,y2:a+o})}return M.createElement("line",Mc({},d,{className:Be("recharts-cartesian-axis-line",gi(c,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var s=this,o=this.props,l=o.tickLine,u=o.stroke,c=o.tick,d=o.tickFormatter,h=o.unit,p=MP(jr(jr({},this.props),{},{ticks:n}),i,a),g=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),v=$e(this.props,!1),b=$e(c,!1),x=jr(jr({},v),{},{fill:"none"},$e(l,!1)),_=p.map(function(O,E){var P=s.getTickLineCoord(O),w=P.line,S=P.tick,I=jr(jr(jr(jr({textAnchor:g,verticalAnchor:y},v),{},{stroke:"none",fill:u},b),S),{},{index:E,payload:O,visibleTicksCount:p.length,tickFormatter:d});return M.createElement(ct,Mc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(O.value,"-").concat(O.coordinate,"-").concat(O.tickCoord)},Du(s.props,O,E)),l&&M.createElement("line",Mc({},x,w,{className:Be("recharts-cartesian-axis-tick-line",gi(l,"className"))})),c&&e.renderTickItem(c,I,"".concat(ze(d)?d(O.value,E):O.value).concat(h||"")))});return M.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,s=i.width,o=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var d=this.props,h=d.ticks,p=Qw(d,OSe),g=h;return ze(l)&&(g=h&&h.length>0?l(this.props):l(p)),s<=0||o<=0||!g||!g.length?null:M.createElement(ct,{className:Be("recharts-cartesian-axis",u),ref:function(v){n.layerReference=v}},a&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),Yr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var s,o=Be(i.className,"recharts-cartesian-axis-tick-value");return M.isValidElement(n)?s=M.cloneElement(n,jr(jr({},i),{},{className:o})):ze(n)?s=n(jr(jr({},i),{},{className:o})):s=M.createElement(Mu,Mc({},i,{className:"recharts-cartesian-axis-tick-value"}),a),s}}])}(T.Component);$P(jf,"displayName","CartesianAxis");$P(jf,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var $Se=["x1","y1","x2","y2","key"],LSe=["offset"];function Vu(t){"@babel/helpers - typeof";return Vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vu(t)}function ER(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Sn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ER(Object(r),!0).forEach(function(n){FSe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ER(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function FSe(t,e,r){return e=VSe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VSe(t){var e=BSe(t,"string");return Vu(e)=="symbol"?e:e+""}function BSe(t,e){if(Vu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jl(){return Jl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Jl.apply(this,arguments)}function SR(t,e){if(t==null)return{};var r=USe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function USe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var zSe=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,a=e.y,s=e.width,o=e.height,l=e.ry;return M.createElement("rect",{x:i,y:a,ry:l,width:s,height:o,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function RB(t,e){var r;if(M.isValidElement(t))r=M.cloneElement(t,e);else if(ze(t))r=t(e);else{var n=e.x1,i=e.y1,a=e.x2,s=e.y2,o=e.key,l=SR(e,$Se),u=$e(l,!1);u.offset;var c=SR(u,LSe);r=M.createElement("line",Jl({},c,{x1:n,y1:i,x2:a,y2:s,fill:"none",key:o}))}return r}function WSe(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,l){var u=Sn(Sn({},t),{},{x1:e,y1:o,x2:e+r,y2:o,key:"line-".concat(l),index:l});return RB(i,u)});return M.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function HSe(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,a=t.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,l){var u=Sn(Sn({},t),{},{x1:o,y1:e,x2:o,y2:e+r,key:"line-".concat(l),index:l});return RB(i,u)});return M.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function qSe(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,a=t.width,s=t.height,o=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var c=o.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==c[0]&&c.unshift(0);var d=c.map(function(h,p){var g=!c[p+1],y=g?i+s-h:c[p+1]-h;if(y<=0)return null;var v=p%e.length;return M.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:y,width:a,stroke:"none",fill:e[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function KSe(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,a=t.x,s=t.y,o=t.width,l=t.height,u=t.verticalPoints;if(!r||!n||!n.length)return null;var c=u.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==c[0]&&c.unshift(0);var d=c.map(function(h,p){var g=!c[p+1],y=g?a+o-h:c[p+1]-h;if(y<=0)return null;var v=p%n.length;return M.createElement("rect",{key:"react-".concat(p),x:h,y:s,width:y,height:l,stroke:"none",fill:n[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var GSe=function(e,r){var n=e.xAxis,i=e.width,a=e.height,s=e.offset;return kV(MP(Sn(Sn(Sn({},jf.defaultProps),n),{},{ticks:xs(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.left,s.left+s.width,r)},YSe=function(e,r){var n=e.yAxis,i=e.width,a=e.height,s=e.offset;return kV(MP(Sn(Sn(Sn({},jf.defaultProps),n),{},{ticks:xs(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.top,s.top+s.height,r)},fc={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function ty(t){var e,r,n,i,a,s,o=NP(),l=jP(),u=MEe(),c=Sn(Sn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:fc.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:fc.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:fc.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:fc.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:fc.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:fc.verticalFill,x:ue(t.x)?t.x:u.left,y:ue(t.y)?t.y:u.top,width:ue(t.width)?t.width:u.width,height:ue(t.height)?t.height:u.height}),d=c.x,h=c.y,p=c.width,g=c.height,y=c.syncWithTicks,v=c.horizontalValues,b=c.verticalValues,x=jEe(),_=REe();if(!ue(p)||p<=0||!ue(g)||g<=0||!ue(d)||d!==+d||!ue(h)||h!==+h)return null;var O=c.verticalCoordinatesGenerator||GSe,E=c.horizontalCoordinatesGenerator||YSe,P=c.horizontalPoints,w=c.verticalPoints;if((!P||!P.length)&&ze(E)){var S=v&&v.length,I=E({yAxis:_?Sn(Sn({},_),{},{ticks:S?v:_.ticks}):void 0,width:o,height:l,offset:u},S?!0:y);la(Array.isArray(I),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Vu(I),"]")),Array.isArray(I)&&(P=I)}if((!w||!w.length)&&ze(O)){var k=b&&b.length,N=O({xAxis:x?Sn(Sn({},x),{},{ticks:k?b:x.ticks}):void 0,width:o,height:l,offset:u},k?!0:y);la(Array.isArray(N),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Vu(N),"]")),Array.isArray(N)&&(w=N)}return M.createElement("g",{className:"recharts-cartesian-grid"},M.createElement(zSe,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height,ry:c.ry}),M.createElement(WSe,Jl({},c,{offset:u,horizontalPoints:P,xAxis:x,yAxis:_})),M.createElement(HSe,Jl({},c,{offset:u,verticalPoints:w,xAxis:x,yAxis:_})),M.createElement(qSe,Jl({},c,{horizontalPoints:P})),M.createElement(KSe,Jl({},c,{verticalPoints:w})))}ty.displayName="CartesianGrid";var QSe=["type","layout","connectNulls","ref"],XSe=["key"];function Gd(t){"@babel/helpers - typeof";return Gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gd(t)}function AR(t,e){if(t==null)return{};var r=ZSe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ZSe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Jh(){return Jh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Jh.apply(this,arguments)}function TR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function li(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TR(Object(r),!0).forEach(function(n){Ji(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hc(t){return rAe(t)||tAe(t)||eAe(t)||JSe()}function JSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eAe(t,e){if(t){if(typeof t=="string")return lS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lS(t,e)}}function tAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rAe(t){if(Array.isArray(t))return lS(t)}function lS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function nAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PR(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,MB(n.key),n)}}function iAe(t,e,r){return e&&PR(t.prototype,e),r&&PR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function aAe(t,e,r){return e=A0(e),sAe(t,DB()?Reflect.construct(e,r||[],A0(t).constructor):e.apply(t,r))}function sAe(t,e){if(e&&(Gd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oAe(t)}function oAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DB=function(){return!!t})()}function A0(t){return A0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},A0(t)}function lAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uS(t,e)}function uS(t,e){return uS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},uS(t,e)}function Ji(t,e,r){return e=MB(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function MB(t){var e=uAe(t,"string");return Gd(e)=="symbol"?e:e+""}function uAe(t,e){if(Gd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var rl=function(t){function e(){var r;nAe(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=aAe(this,e,[].concat(i)),Ji(r,"state",{isAnimationFinished:!0,totalLength:0}),Ji(r,"generateSimpleStrokeDasharray",function(s,o){return"".concat(o,"px ").concat(s-o,"px")}),Ji(r,"getStrokeDasharray",function(s,o,l){var u=l.reduce(function(b,x){return b+x});if(!u)return r.generateSimpleStrokeDasharray(o,s);for(var c=Math.floor(s/u),d=s%u,h=o-s,p=[],g=0,y=0;g<l.length;y+=l[g],++g)if(y+l[g]>d){p=[].concat(hc(l.slice(0,g)),[d-y]);break}var v=p.length%2===0?[0,h]:[h];return[].concat(hc(e.repeat(l,c)),hc(p),v).map(function(b){return"".concat(b,"px")}).join(", ")}),Ji(r,"id",Zu("recharts-line-")),Ji(r,"pathRef",function(s){r.mainCurve=s}),Ji(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Ji(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return lAe(e,t),iAe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.points,o=a.xAxis,l=a.yAxis,u=a.layout,c=a.children,d=vi(c,Jm);if(!d)return null;var h=function(y,v){return{x:y.x,y:y.y,value:y.value,errorVal:br(y.payload,v)}},p={clipPath:n?"url(#clipPath-".concat(i,")"):null};return M.createElement(ct,p,d.map(function(g){return M.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:s,xAxis:o,yAxis:l,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,i,a){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.dot,u=o.points,c=o.dataKey,d=$e(this.props,!1),h=$e(l,!0),p=u.map(function(y,v){var b=li(li(li({key:"dot-".concat(v),r:3},d),h),{},{index:v,cx:y.x,cy:y.y,value:y.value,dataKey:c,payload:y.payload,points:u});return e.renderDotItem(l,b)}),g={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return M.createElement(ct,Jh({className:"recharts-line-dots",key:"dots"},g),p)}},{key:"renderCurveStatically",value:function(n,i,a,s){var o=this.props,l=o.type,u=o.layout,c=o.connectNulls;o.ref;var d=AR(o,QSe),h=li(li(li({},$e(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:n},s),{},{type:l,layout:u,connectNulls:c});return M.createElement(gu,Jh({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var a=this,s=this.props,o=s.points,l=s.strokeDasharray,u=s.isAnimationActive,c=s.animationBegin,d=s.animationDuration,h=s.animationEasing,p=s.animationId,g=s.animateNewValues,y=s.width,v=s.height,b=this.state,x=b.prevPoints,_=b.totalLength;return M.createElement(ha,{begin:c,duration:d,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(O){var E=O.t;if(x){var P=x.length/o.length,w=o.map(function(R,j){var B=Math.floor(j*P);if(x[B]){var L=x[B],U=Lr(L.x,R.x),W=Lr(L.y,R.y);return li(li({},R),{},{x:U(E),y:W(E)})}if(g){var $=Lr(y*2,R.x),H=Lr(v/2,R.y);return li(li({},R),{},{x:$(E),y:H(E)})}return li(li({},R),{},{x:R.x,y:R.y})});return a.renderCurveStatically(w,n,i)}var S=Lr(0,_),I=S(E),k;if(l){var N="".concat(l).split(/[,\s]+/gim).map(function(R){return parseFloat(R)});k=a.getStrokeDasharray(I,_,N)}else k=a.generateSimpleStrokeDasharray(_,I);return a.renderCurveStatically(o,n,i,{strokeDasharray:k})})}},{key:"renderCurve",value:function(n,i){var a=this.props,s=a.points,o=a.isAnimationActive,l=this.state,u=l.prevPoints,c=l.totalLength;return o&&s&&s.length&&(!u&&c>0||!$u(u,s))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(s,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,s=i.dot,o=i.points,l=i.className,u=i.xAxis,c=i.yAxis,d=i.top,h=i.left,p=i.width,g=i.height,y=i.isAnimationActive,v=i.id;if(a||!o||!o.length)return null;var b=this.state.isAnimationFinished,x=o.length===1,_=Be("recharts-line",l),O=u&&u.allowDataOverflow,E=c&&c.allowDataOverflow,P=O||E,w=Qe(v)?this.id:v,S=(n=$e(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},I=S.r,k=I===void 0?3:I,N=S.strokeWidth,R=N===void 0?2:N,j=E5(s)?s:{},B=j.clipDot,L=B===void 0?!0:B,U=k*2+R;return M.createElement(ct,{className:_},O||E?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(w)},M.createElement("rect",{x:O?h:h-p/2,y:E?d:d-g/2,width:O?p:p*2,height:E?g:g*2})),!L&&M.createElement("clipPath",{id:"clipPath-dots-".concat(w)},M.createElement("rect",{x:h-U/2,y:d-U/2,width:p+U,height:g+U}))):null,!x&&this.renderCurve(P,w),this.renderErrorBar(P,w),(x||s)&&this.renderDots(P,L,w),(!y||b)&&$a.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var a=n.length%2!==0?[].concat(hc(n),[0]):n,s=[],o=0;o<i;++o)s=[].concat(hc(s),hc(a));return s}},{key:"renderDotItem",value:function(n,i){var a;if(M.isValidElement(n))a=M.cloneElement(n,i);else if(ze(n))a=n(i);else{var s=i.key,o=AR(i,XSe),l=Be("recharts-line-dot",typeof n!="boolean"?n.className:"");a=M.createElement(ey,Jh({key:s},o,{className:l}))}return a}}])}(T.PureComponent);Ji(rl,"displayName","Line");Ji(rl,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!bl.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Ji(rl,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,s=t.dataKey,o=t.bandSize,l=t.displayedData,u=t.offset,c=e.layout,d=l.map(function(h,p){var g=br(h,s);return c==="horizontal"?{x:t0({axis:r,ticks:i,bandSize:o,entry:h,index:p}),y:Qe(g)?null:n.scale(g),value:g,payload:h}:{x:Qe(g)?null:r.scale(g),y:t0({axis:n,ticks:a,bandSize:o,entry:h,index:p}),value:g,payload:h}});return li({points:d,layout:c},u)});var cAe=["layout","type","stroke","connectNulls","isRange","ref"],dAe=["key"],$B;function Yd(t){"@babel/helpers - typeof";return Yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yd(t)}function LB(t,e){if(t==null)return{};var r=fAe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function fAe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function eu(){return eu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},eu.apply(this,arguments)}function OR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function co(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OR(Object(r),!0).forEach(function(n){Ia(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function IR(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,VB(n.key),n)}}function pAe(t,e,r){return e&&IR(t.prototype,e),r&&IR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function mAe(t,e,r){return e=T0(e),yAe(t,FB()?Reflect.construct(e,r||[],T0(t).constructor):e.apply(t,r))}function yAe(t,e){if(e&&(Yd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gAe(t)}function gAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FB=function(){return!!t})()}function T0(t){return T0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},T0(t)}function vAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cS(t,e)}function cS(t,e){return cS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},cS(t,e)}function Ia(t,e,r){return e=VB(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VB(t){var e=xAe(t,"string");return Yd(e)=="symbol"?e:e+""}function xAe(t,e){if(Yd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Bs=function(t){function e(){var r;hAe(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=mAe(this,e,[].concat(i)),Ia(r,"state",{isAnimationFinished:!0}),Ia(r,"id",Zu("recharts-area-")),Ia(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),ze(s)&&s()}),Ia(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),ze(s)&&s()}),r}return vAe(e,t),pAe(e,[{key:"renderDots",value:function(n,i,a){var s=this.props.isAnimationActive,o=this.state.isAnimationFinished;if(s&&!o)return null;var l=this.props,u=l.dot,c=l.points,d=l.dataKey,h=$e(this.props,!1),p=$e(u,!0),g=c.map(function(v,b){var x=co(co(co({key:"dot-".concat(b),r:3},h),p),{},{index:b,cx:v.x,cy:v.y,dataKey:d,value:v.value,payload:v.payload,points:c});return e.renderDotItem(u,x)}),y={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return M.createElement(ct,eu({className:"recharts-area-dots"},y),g)}},{key:"renderHorizontalRect",value:function(n){var i=this.props,a=i.baseLine,s=i.points,o=i.strokeWidth,l=s[0].x,u=s[s.length-1].x,c=n*Math.abs(l-u),d=Fo(s.map(function(h){return h.y||0}));return ue(a)&&typeof a=="number"?d=Math.max(a,d):a&&Array.isArray(a)&&a.length&&(d=Math.max(Fo(a.map(function(h){return h.y||0})),d)),ue(d)?M.createElement("rect",{x:l<u?l:l-c,y:0,width:c,height:Math.floor(d+(o?parseInt("".concat(o),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var i=this.props,a=i.baseLine,s=i.points,o=i.strokeWidth,l=s[0].y,u=s[s.length-1].y,c=n*Math.abs(l-u),d=Fo(s.map(function(h){return h.x||0}));return ue(a)&&typeof a=="number"?d=Math.max(a,d):a&&Array.isArray(a)&&a.length&&(d=Math.max(Fo(a.map(function(h){return h.x||0})),d)),ue(d)?M.createElement("rect",{x:0,y:l<u?l:l-c,width:d+(o?parseInt("".concat(o),10):1),height:Math.floor(c)}):null}},{key:"renderClipRect",value:function(n){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,i,a,s){var o=this.props,l=o.layout,u=o.type,c=o.stroke,d=o.connectNulls,h=o.isRange;o.ref;var p=LB(o,cAe);return M.createElement(ct,{clipPath:a?"url(#clipPath-".concat(s,")"):null},M.createElement(gu,eu({},$e(p,!0),{points:n,connectNulls:d,type:u,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),c!=="none"&&M.createElement(gu,eu({},$e(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:d,fill:"none",points:n})),c!=="none"&&h&&M.createElement(gu,eu({},$e(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:d,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(n,i){var a=this,s=this.props,o=s.points,l=s.baseLine,u=s.isAnimationActive,c=s.animationBegin,d=s.animationDuration,h=s.animationEasing,p=s.animationId,g=this.state,y=g.prevPoints,v=g.prevBaseLine;return M.createElement(ha,{begin:c,duration:d,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var x=b.t;if(y){var _=y.length/o.length,O=o.map(function(S,I){var k=Math.floor(I*_);if(y[k]){var N=y[k],R=Lr(N.x,S.x),j=Lr(N.y,S.y);return co(co({},S),{},{x:R(x),y:j(x)})}return S}),E;if(ue(l)&&typeof l=="number"){var P=Lr(v,l);E=P(x)}else if(Qe(l)||Tf(l)){var w=Lr(v,0);E=w(x)}else E=l.map(function(S,I){var k=Math.floor(I*_);if(v[k]){var N=v[k],R=Lr(N.x,S.x),j=Lr(N.y,S.y);return co(co({},S),{},{x:R(x),y:j(x)})}return S});return a.renderAreaStatically(O,E,n,i)}return M.createElement(ct,null,M.createElement("defs",null,M.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(x))),M.createElement(ct,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(o,l,n,i)))})}},{key:"renderArea",value:function(n,i){var a=this.props,s=a.points,o=a.baseLine,l=a.isAnimationActive,u=this.state,c=u.prevPoints,d=u.prevBaseLine,h=u.totalLength;return l&&s&&s.length&&(!c&&h>0||!$u(c,s)||!$u(d,o))?this.renderAreaWithAnimation(n,i):this.renderAreaStatically(s,o,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,s=i.dot,o=i.points,l=i.className,u=i.top,c=i.left,d=i.xAxis,h=i.yAxis,p=i.width,g=i.height,y=i.isAnimationActive,v=i.id;if(a||!o||!o.length)return null;var b=this.state.isAnimationFinished,x=o.length===1,_=Be("recharts-area",l),O=d&&d.allowDataOverflow,E=h&&h.allowDataOverflow,P=O||E,w=Qe(v)?this.id:v,S=(n=$e(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},I=S.r,k=I===void 0?3:I,N=S.strokeWidth,R=N===void 0?2:N,j=E5(s)?s:{},B=j.clipDot,L=B===void 0?!0:B,U=k*2+R;return M.createElement(ct,{className:_},O||E?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(w)},M.createElement("rect",{x:O?c:c-p/2,y:E?u:u-g/2,width:O?p:p*2,height:E?g:g*2})),!L&&M.createElement("clipPath",{id:"clipPath-dots-".concat(w)},M.createElement("rect",{x:c-U/2,y:u-U/2,width:p+U,height:g+U}))):null,x?null:this.renderArea(P,w),(s||x)&&this.renderDots(P,L,w),(!y||b)&&$a.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:n.points!==i.curPoints||n.baseLine!==i.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(T.PureComponent);$B=Bs;Ia(Bs,"displayName","Area");Ia(Bs,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!bl.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Ia(Bs,"getBaseValue",function(t,e,r,n){var i=t.layout,a=t.baseValue,s=e.props.baseValue,o=s??a;if(ue(o)&&typeof o=="number")return o;var l=i==="horizontal"?n:r,u=l.scale.domain();if(l.type==="number"){var c=Math.max(u[0],u[1]),d=Math.min(u[0],u[1]);return o==="dataMin"?d:o==="dataMax"||c<0?c:Math.max(Math.min(u[0],u[1]),0)}return o==="dataMin"?u[0]:o==="dataMax"?u[1]:u[0]});Ia(Bs,"getComposedData",function(t){var e=t.props,r=t.item,n=t.xAxis,i=t.yAxis,a=t.xAxisTicks,s=t.yAxisTicks,o=t.bandSize,l=t.dataKey,u=t.stackedData,c=t.dataStartIndex,d=t.displayedData,h=t.offset,p=e.layout,g=u&&u.length,y=$B.getBaseValue(e,r,n,i),v=p==="horizontal",b=!1,x=d.map(function(O,E){var P;g?P=u[c+E]:(P=br(O,l),Array.isArray(P)?b=!0:P=[y,P]);var w=P[1]==null||g&&br(O,l)==null;return v?{x:t0({axis:n,ticks:a,bandSize:o,entry:O,index:E}),y:w?null:i.scale(P[1]),value:P,payload:O}:{x:w?null:n.scale(P[1]),y:t0({axis:i,ticks:s,bandSize:o,entry:O,index:E}),value:P,payload:O}}),_;return g||b?_=x.map(function(O){var E=Array.isArray(O.value)?O.value[0]:null;return v?{x:O.x,y:E!=null&&O.y!=null?i.scale(E):null}:{x:E!=null?n.scale(E):null,y:O.y}}):_=v?i.scale(y):n.scale(y),co({points:x,baseLine:_,layout:p,isRange:b},h)});Ia(Bs,"renderDotItem",function(t,e){var r;if(M.isValidElement(t))r=M.cloneElement(t,e);else if(ze(t))r=t(e);else{var n=Be("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,a=LB(e,dAe);r=M.createElement(ey,eu({},a,{key:i,className:n}))}return r});function Qd(t){"@babel/helpers - typeof";return Qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qd(t)}function bAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wAe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,zB(n.key),n)}}function _Ae(t,e,r){return e&&wAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function EAe(t,e,r){return e=P0(e),SAe(t,BB()?Reflect.construct(e,r||[],P0(t).constructor):e.apply(t,r))}function SAe(t,e){if(e&&(Qd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AAe(t)}function AAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BB=function(){return!!t})()}function P0(t){return P0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},P0(t)}function TAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dS(t,e)}function dS(t,e){return dS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},dS(t,e)}function UB(t,e,r){return e=zB(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zB(t){var e=PAe(t,"string");return Qd(e)=="symbol"?e:e+""}function PAe(t,e){if(Qd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function fS(){return fS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fS.apply(this,arguments)}function OAe(t){var e=t.xAxisId,r=NP(),n=jP(),i=EB(e);return i==null?null:T.createElement(jf,fS({},i,{className:Be("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return xs(s,!0)}}))}var Xs=function(t){function e(){return bAe(this,e),EAe(this,e,arguments)}return TAe(e,t),_Ae(e,[{key:"render",value:function(){return T.createElement(OAe,this.props)}}])}(T.Component);UB(Xs,"displayName","XAxis");UB(Xs,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Xd(t){"@babel/helpers - typeof";return Xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xd(t)}function IAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CAe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,qB(n.key),n)}}function kAe(t,e,r){return e&&CAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function NAe(t,e,r){return e=O0(e),jAe(t,WB()?Reflect.construct(e,r||[],O0(t).constructor):e.apply(t,r))}function jAe(t,e){if(e&&(Xd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RAe(t)}function RAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function WB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WB=function(){return!!t})()}function O0(t){return O0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},O0(t)}function DAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hS(t,e)}function hS(t,e){return hS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},hS(t,e)}function HB(t,e,r){return e=qB(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qB(t){var e=MAe(t,"string");return Xd(e)=="symbol"?e:e+""}function MAe(t,e){if(Xd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function pS(){return pS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pS.apply(this,arguments)}var $Ae=function(e){var r=e.yAxisId,n=NP(),i=jP(),a=SB(r);return a==null?null:T.createElement(jf,pS({},a,{className:Be("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(o){return xs(o,!0)}}))},Zs=function(t){function e(){return IAe(this,e),NAe(this,e,arguments)}return DAe(e,t),kAe(e,[{key:"render",value:function(){return T.createElement($Ae,this.props)}}])}(T.Component);HB(Zs,"displayName","YAxis");HB(Zs,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function CR(t){return BAe(t)||VAe(t)||FAe(t)||LAe()}function LAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FAe(t,e){if(t){if(typeof t=="string")return mS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mS(t,e)}}function VAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function BAe(t){if(Array.isArray(t))return mS(t)}function mS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var yS=function(e,r,n,i,a){var s=vi(e,DP),o=vi(e,bb),l=[].concat(CR(s),CR(o)),u=vi(e,_b),c="".concat(i,"Id"),d=i[0],h=r;if(l.length&&(h=l.reduce(function(y,v){if(v.props[c]===n&&La(v.props,"extendDomain")&&ue(v.props[d])){var b=v.props[d];return[Math.min(y[0],b),Math.max(y[1],b)]}return y},h)),u.length){var p="".concat(d,"1"),g="".concat(d,"2");h=u.reduce(function(y,v){if(v.props[c]===n&&La(v.props,"extendDomain")&&ue(v.props[p])&&ue(v.props[g])){var b=v.props[p],x=v.props[g];return[Math.min(y[0],b,x),Math.max(y[1],b,x)]}return y},h)}return a&&a.length&&(h=a.reduce(function(y,v){return ue(v)?[Math.min(y[0],v),Math.max(y[1],v)]:y},h)),h},KB={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function a(l,u,c,d,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var p=new i(c,d||l,h),g=r?r+u:u;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],p]:l._events[g].push(p):(l._events[g]=p,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],c,d;if(this._eventsCount===0)return u;for(d in c=this._events)e.call(c,d)&&u.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},o.prototype.listeners=function(u){var c=r?r+u:u,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,p=d.length,g=new Array(p);h<p;h++)g[h]=d[h].fn;return g},o.prototype.listenerCount=function(u){var c=r?r+u:u,d=this._events[c];return d?d.fn?1:d.length:0},o.prototype.emit=function(u,c,d,h,p,g){var y=r?r+u:u;if(!this._events[y])return!1;var v=this._events[y],b=arguments.length,x,_;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),b){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,c),!0;case 3:return v.fn.call(v.context,c,d),!0;case 4:return v.fn.call(v.context,c,d,h),!0;case 5:return v.fn.call(v.context,c,d,h,p),!0;case 6:return v.fn.call(v.context,c,d,h,p,g),!0}for(_=1,x=new Array(b-1);_<b;_++)x[_-1]=arguments[_];v.fn.apply(v.context,x)}else{var O=v.length,E;for(_=0;_<O;_++)switch(v[_].once&&this.removeListener(u,v[_].fn,void 0,!0),b){case 1:v[_].fn.call(v[_].context);break;case 2:v[_].fn.call(v[_].context,c);break;case 3:v[_].fn.call(v[_].context,c,d);break;case 4:v[_].fn.call(v[_].context,c,d,h);break;default:if(!x)for(E=1,x=new Array(b-1);E<b;E++)x[E-1]=arguments[E];v[_].fn.apply(v[_].context,x)}}return!0},o.prototype.on=function(u,c,d){return a(this,u,c,d,!1)},o.prototype.once=function(u,c,d){return a(this,u,c,d,!0)},o.prototype.removeListener=function(u,c,d,h){var p=r?r+u:u;if(!this._events[p])return this;if(!c)return s(this,p),this;var g=this._events[p];if(g.fn)g.fn===c&&(!h||g.once)&&(!d||g.context===d)&&s(this,p);else{for(var y=0,v=[],b=g.length;y<b;y++)(g[y].fn!==c||h&&!g[y].once||d&&g[y].context!==d)&&v.push(g[y]);v.length?this._events[p]=v.length===1?v[0]:v:s(this,p)}return this},o.prototype.removeAllListeners=function(u){var c;return u?(c=r?r+u:u,this._events[c]&&s(this,c)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,t.exports=o})(KB);var UAe=KB.exports;const zAe=wt(UAe);var Xw=new zAe,Zw="recharts.syncMouseEvents";function pm(t){"@babel/helpers - typeof";return pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pm(t)}function WAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HAe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,GB(n.key),n)}}function qAe(t,e,r){return e&&HAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Jw(t,e,r){return e=GB(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GB(t){var e=KAe(t,"string");return pm(e)=="symbol"?e:e+""}function KAe(t,e){if(pm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(pm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var GAe=function(){function t(){WAe(this,t),Jw(this,"activeIndex",0),Jw(this,"coordinateList",[]),Jw(this,"layout","horizontal")}return qAe(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,s=r.container,o=s===void 0?null:s,l=r.layout,u=l===void 0?null:l,c=r.offset,d=c===void 0?null:c,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=o??this.container,this.layout=u??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,o=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,c=((n=window)===null||n===void 0?void 0:n.scrollY)||0,d=a+l+u,h=s+this.offset.top+o/2+c;this.mouseHandlerCallback({pageX:d,pageY:h})}}}])}();function YAe(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],i=t==null?void 0:t[1];if(n&&i&&ue(n)&&ue(i))return!0}return!1}function QAe(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function YB(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,a=t.endAngle,s=Ht(e,r,n,i),o=Ht(e,r,n,a);return{points:[s,o],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function XAe(t,e,r){var n,i,a,s;if(t==="horizontal")n=e.x,a=n,i=r.top,s=r.top+r.height;else if(t==="vertical")i=e.y,s=i,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var o=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,d=e.angle,h=Ht(o,l,u,d),p=Ht(o,l,c,d);n=h.x,i=h.y,a=p.x,s=p.y}else return YB(e);return[{x:n,y:i},{x:a,y:s}]}function mm(t){"@babel/helpers - typeof";return mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mm(t)}function kR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ng(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kR(Object(r),!0).forEach(function(n){ZAe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ZAe(t,e,r){return e=JAe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JAe(t){var e=eTe(t,"string");return mm(e)=="symbol"?e:e+""}function eTe(t,e){if(mm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tTe(t){var e,r,n=t.element,i=t.tooltipEventType,a=t.isActive,s=t.activeCoordinate,o=t.activePayload,l=t.offset,u=t.activeTooltipIndex,c=t.tooltipAxisBandSize,d=t.layout,h=t.chartName,p=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!a||!s||h!=="ScatterChart"&&i!=="axis")return null;var g,y=gu;if(h==="ScatterChart")g=s,y=uwe;else if(h==="BarChart")g=QAe(d,s,l,c),y=PP;else if(d==="radial"){var v=YB(s),b=v.cx,x=v.cy,_=v.radius,O=v.startAngle,E=v.endAngle;g={cx:b,cy:x,startAngle:O,endAngle:E,innerRadius:_,outerRadius:_},y=UV}else g={points:XAe(d,s,l)},y=gu;var P=ng(ng(ng(ng({stroke:"#ccc",pointerEvents:"none"},l),g),$e(p,!1)),{},{payload:o,payloadIndex:u,className:Be("recharts-tooltip-cursor",p.className)});return T.isValidElement(p)?T.cloneElement(p,P):T.createElement(y,P)}var rTe=["item"],nTe=["children","className","width","height","style","compact","title","desc"];function Zd(t){"@babel/helpers - typeof";return Zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zd(t)}function $c(){return $c=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$c.apply(this,arguments)}function NR(t,e){return sTe(t)||aTe(t,e)||XB(t,e)||iTe()}function iTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aTe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function sTe(t){if(Array.isArray(t))return t}function jR(t,e){if(t==null)return{};var r=oTe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function oTe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function lTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uTe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ZB(n.key),n)}}function cTe(t,e,r){return e&&uTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dTe(t,e,r){return e=I0(e),fTe(t,QB()?Reflect.construct(e,r||[],I0(t).constructor):e.apply(t,r))}function fTe(t,e){if(e&&(Zd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hTe(t)}function hTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QB=function(){return!!t})()}function I0(t){return I0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},I0(t)}function pTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gS(t,e)}function gS(t,e){return gS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},gS(t,e)}function Jd(t){return gTe(t)||yTe(t)||XB(t)||mTe()}function mTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XB(t,e){if(t){if(typeof t=="string")return vS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vS(t,e)}}function yTe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gTe(t){if(Array.isArray(t))return vS(t)}function vS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function RR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function te(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RR(Object(r),!0).forEach(function(n){Ue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ue(t,e,r){return e=ZB(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZB(t){var e=vTe(t,"string");return Zd(e)=="symbol"?e:e+""}function vTe(t,e){if(Zd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xTe={xAxis:["bottom","top"],yAxis:["left","right"]},bTe={width:"100%",height:"100%"},JB={x:0,y:0};function ig(t){return t}var wTe=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},_Te=function(e,r,n,i){var a=r.find(function(c){return c&&c.index===n});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var s=a.coordinate,o=i.radius;return te(te(te({},i),Ht(i.cx,i.cy,o,s)),{},{angle:s,radius:o})}var l=a.coordinate,u=i.angle;return te(te(te({},i),Ht(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return JB},Eb=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,s=(n??[]).reduce(function(o,l){var u=l.props.data;return u&&u.length?[].concat(Jd(o),Jd(u)):o},[]);return s.length>0?s:e&&e.length&&ue(i)&&ue(a)?e.slice(i,a+1):[]};function eU(t){return t==="number"?[0,"auto"]:void 0}var xS=function(e,r,n,i){var a=e.graphicalItems,s=e.tooltipAxis,o=Eb(r,e);return n<0||!a||!a.length||n>=o.length?null:a.reduce(function(l,u){var c,d=(c=u.props.data)!==null&&c!==void 0?c:r;d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var p=d===void 0?o:d;h=Pv(p,s.dataKey,i)}else h=d&&d[n]||o[n];return h?[].concat(Jd(l),[MV(u,h)]):l},[])},DR=function(e,r,n,i){var a=i||{x:e.chartX,y:e.chartY},s=wTe(a,n),o=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=Ive(s,o,u,l);if(c>=0&&u){var d=u[c]&&u[c].value,h=xS(e,r,c,d),p=_Te(n,o,c,a);return{activeTooltipIndex:c,activeLabel:d,activePayload:h,activeCoordinate:p}}return null},ETe=function(e,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,c=e.layout,d=e.children,h=e.stackOffset,p=CV(c,a);return n.reduce(function(g,y){var v,b=y.type.defaultProps!==void 0?te(te({},y.type.defaultProps),y.props):y.props,x=b.type,_=b.dataKey,O=b.allowDataOverflow,E=b.allowDuplicatedCategory,P=b.scale,w=b.ticks,S=b.includeHidden,I=b[s];if(g[I])return g;var k=Eb(e.data,{graphicalItems:i.filter(function(X){var ae,se=s in X.props?X.props[s]:(ae=X.type.defaultProps)===null||ae===void 0?void 0:ae[s];return se===I}),dataStartIndex:l,dataEndIndex:u}),N=k.length,R,j,B;YAe(b.domain,O,x)&&(R=NE(b.domain,null,O),p&&(x==="number"||P!=="auto")&&(B=Yh(k,_,"category")));var L=eU(x);if(!R||R.length===0){var U,W=(U=b.domain)!==null&&U!==void 0?U:L;if(_){if(R=Yh(k,_,x),x==="category"&&p){var $=xne(R);E&&$?(j=R,R=m0(0,N)):E||(R=ij(W,R,y).reduce(function(X,ae){return X.indexOf(ae)>=0?X:[].concat(Jd(X),[ae])},[]))}else if(x==="category")E?R=R.filter(function(X){return X!==""&&!Qe(X)}):R=ij(W,R,y).reduce(function(X,ae){return X.indexOf(ae)>=0||ae===""||Qe(ae)?X:[].concat(Jd(X),[ae])},[]);else if(x==="number"){var H=Rve(k,i.filter(function(X){var ae,se,me=s in X.props?X.props[s]:(ae=X.type.defaultProps)===null||ae===void 0?void 0:ae[s],De="hide"in X.props?X.props.hide:(se=X.type.defaultProps)===null||se===void 0?void 0:se.hide;return me===I&&(S||!De)}),_,a,c);H&&(R=H)}p&&(x==="number"||P!=="auto")&&(B=Yh(k,_,"category"))}else p?R=m0(0,N):o&&o[I]&&o[I].hasStack&&x==="number"?R=h==="expand"?[0,1]:DV(o[I].stackGroups,l,u):R=IV(k,i.filter(function(X){var ae=s in X.props?X.props[s]:X.type.defaultProps[s],se="hide"in X.props?X.props.hide:X.type.defaultProps.hide;return ae===I&&(S||!se)}),x,c,!0);if(x==="number")R=yS(d,R,I,a,w),W&&(R=NE(W,R,O));else if(x==="category"&&W){var Y=W,re=R.every(function(X){return Y.indexOf(X)>=0});re&&(R=Y)}}return te(te({},g),{},Ue({},I,te(te({},b),{},{axisType:a,domain:R,categoricalDomain:B,duplicateDomain:j,originalDomain:(v=b.domain)!==null&&v!==void 0?v:L,isCategorical:p,layout:c})))},{})},STe=function(e,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,c=e.layout,d=e.children,h=Eb(e.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:u}),p=h.length,g=CV(c,a),y=-1;return n.reduce(function(v,b){var x=b.type.defaultProps!==void 0?te(te({},b.type.defaultProps),b.props):b.props,_=x[s],O=eU("number");if(!v[_]){y++;var E;return g?E=m0(0,p):o&&o[_]&&o[_].hasStack?(E=DV(o[_].stackGroups,l,u),E=yS(d,E,_,a)):(E=NE(O,IV(h,n.filter(function(P){var w,S,I=s in P.props?P.props[s]:(w=P.type.defaultProps)===null||w===void 0?void 0:w[s],k="hide"in P.props?P.props.hide:(S=P.type.defaultProps)===null||S===void 0?void 0:S.hide;return I===_&&!k}),"number",c),i.defaultProps.allowDataOverflow),E=yS(d,E,_,a)),te(te({},v),{},Ue({},_,te(te({axisType:a},i.defaultProps),{},{hide:!0,orientation:gi(xTe,"".concat(a,".").concat(y%2),null),domain:E,originalDomain:O,isCategorical:g,layout:c})))}return v},{})},ATe=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,s=r.graphicalItems,o=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,c=e.children,d="".concat(i,"Id"),h=vi(c,a),p={};return h&&h.length?p=ETe(e,{axes:h,graphicalItems:s,axisType:i,axisIdKey:d,stackGroups:o,dataStartIndex:l,dataEndIndex:u}):s&&s.length&&(p=STe(e,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:d,stackGroups:o,dataStartIndex:l,dataEndIndex:u})),p},TTe=function(e){var r=Eo(e),n=xs(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:eP(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:r0(r,n)}},MR=function(e){var r=e.children,n=e.defaultShowTooltip,i=di(r,Ud),a=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},PTe=function(e){return!e||!e.length?!1:e.some(function(r){var n=Ts(r&&r.type);return n&&n.indexOf("Bar")>=0})},$R=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},OTe=function(e,r){var n=e.props,i=e.graphicalItems,a=e.xAxisMap,s=a===void 0?{}:a,o=e.yAxisMap,l=o===void 0?{}:o,u=n.width,c=n.height,d=n.children,h=n.margin||{},p=di(d,Ud),g=di(d,ua),y=Object.keys(l).reduce(function(E,P){var w=l[P],S=w.orientation;return!w.mirror&&!w.hide?te(te({},E),{},Ue({},S,E[S]+w.width)):E},{left:h.left||0,right:h.right||0}),v=Object.keys(s).reduce(function(E,P){var w=s[P],S=w.orientation;return!w.mirror&&!w.hide?te(te({},E),{},Ue({},S,gi(E,"".concat(S))+w.height)):E},{top:h.top||0,bottom:h.bottom||0}),b=te(te({},v),y),x=b.bottom;p&&(b.bottom+=p.props.height||Ud.defaultProps.height),g&&r&&(b=Nve(b,i,n,r));var _=u-b.left-b.right,O=c-b.top-b.bottom;return te(te({brushBottom:x},b),{},{width:Math.max(_,0),height:Math.max(O,0)})},ITe=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},Sb=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,s=e.validateTooltipEventTypes,o=s===void 0?["axis"]:s,l=e.axisComponents,u=e.legendContent,c=e.formatAxisMap,d=e.defaultProps,h=function(b,x){var _=x.graphicalItems,O=x.stackGroups,E=x.offset,P=x.updateId,w=x.dataStartIndex,S=x.dataEndIndex,I=b.barSize,k=b.layout,N=b.barGap,R=b.barCategoryGap,j=b.maxBarSize,B=$R(k),L=B.numericAxisName,U=B.cateAxisName,W=PTe(_),$=[];return _.forEach(function(H,Y){var re=Eb(b.data,{graphicalItems:[H],dataStartIndex:w,dataEndIndex:S}),X=H.type.defaultProps!==void 0?te(te({},H.type.defaultProps),H.props):H.props,ae=X.dataKey,se=X.maxBarSize,me=X["".concat(L,"Id")],De=X["".concat(U,"Id")],nt={},ft=l.reduce(function(F,K){var ee=x["".concat(K.axisType,"Map")],pe=X["".concat(K.axisType,"Id")];ee&&ee[pe]||K.axisType==="zAxis"||Fu();var de=ee[pe];return te(te({},F),{},Ue(Ue({},K.axisType,de),"".concat(K.axisType,"Ticks"),xs(de)))},nt),fe=ft[U],_e=ft["".concat(U,"Ticks")],ye=O&&O[me]&&O[me].hasStack&&zve(H,O[me].stackGroups),J=Ts(H.type).indexOf("Bar")>=0,Fe=r0(fe,_e),qe=[],Mt=W&&Cve({barSize:I,stackGroups:O,totalSize:ITe(ft,U)});if(J){var xt,wr,Un=Qe(se)?j:se,ni=(xt=(wr=r0(fe,_e,!0))!==null&&wr!==void 0?wr:Un)!==null&&xt!==void 0?xt:0;qe=kve({barGap:N,barCategoryGap:R,bandSize:ni!==Fe?ni:Fe,sizeList:Mt[De],maxBarSize:Un}),ni!==Fe&&(qe=qe.map(function(F){return te(te({},F),{},{position:te(te({},F.position),{},{offset:F.position.offset-ni/2})})}))}var ii=H&&H.type&&H.type.getComposedData;ii&&$.push({props:te(te({},ii(te(te({},ft),{},{displayedData:re,props:b,dataKey:ae,item:H,bandSize:Fe,barPosition:qe,offset:E,stackedData:ye,layout:k,dataStartIndex:w,dataEndIndex:S}))),{},Ue(Ue(Ue({key:H.key||"item-".concat(Y)},L,ft[L]),U,ft[U]),"animationId",P)),childIndex:kne(H,b.children),item:H})}),$},p=function(b,x){var _=b.props,O=b.dataStartIndex,E=b.dataEndIndex,P=b.updateId;if(!Zk({props:_}))return null;var w=_.children,S=_.layout,I=_.stackOffset,k=_.data,N=_.reverseStackOrder,R=$R(S),j=R.numericAxisName,B=R.cateAxisName,L=vi(w,n),U=Bve(k,L,"".concat(j,"Id"),"".concat(B,"Id"),I,N),W=l.reduce(function(X,ae){var se="".concat(ae.axisType,"Map");return te(te({},X),{},Ue({},se,ATe(_,te(te({},ae),{},{graphicalItems:L,stackGroups:ae.axisType===j&&U,dataStartIndex:O,dataEndIndex:E}))))},{}),$=OTe(te(te({},W),{},{props:_,graphicalItems:L}),x==null?void 0:x.legendBBox);Object.keys(W).forEach(function(X){W[X]=c(_,W[X],$,X.replace("Map",""),r)});var H=W["".concat(B,"Map")],Y=TTe(H),re=h(_,te(te({},W),{},{dataStartIndex:O,dataEndIndex:E,updateId:P,graphicalItems:L,stackGroups:U,offset:$}));return te(te({formattedGraphicalItems:re,graphicalItems:L,offset:$,stackGroups:U},Y),W)},g=function(v){function b(x){var _,O,E;return lTe(this,b),E=dTe(this,b,[x]),Ue(E,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ue(E,"accessibilityManager",new GAe),Ue(E,"handleLegendBBoxUpdate",function(P){if(P){var w=E.state,S=w.dataStartIndex,I=w.dataEndIndex,k=w.updateId;E.setState(te({legendBBox:P},p({props:E.props,dataStartIndex:S,dataEndIndex:I,updateId:k},te(te({},E.state),{},{legendBBox:P}))))}}),Ue(E,"handleReceiveSyncEvent",function(P,w,S){if(E.props.syncId===P){if(S===E.eventEmitterSymbol&&typeof E.props.syncMethod!="function")return;E.applySyncEvent(w)}}),Ue(E,"handleBrushChange",function(P){var w=P.startIndex,S=P.endIndex;if(w!==E.state.dataStartIndex||S!==E.state.dataEndIndex){var I=E.state.updateId;E.setState(function(){return te({dataStartIndex:w,dataEndIndex:S},p({props:E.props,dataStartIndex:w,dataEndIndex:S,updateId:I},E.state))}),E.triggerSyncEvent({dataStartIndex:w,dataEndIndex:S})}}),Ue(E,"handleMouseEnter",function(P){var w=E.getMouseInfo(P);if(w){var S=te(te({},w),{},{isTooltipActive:!0});E.setState(S),E.triggerSyncEvent(S);var I=E.props.onMouseEnter;ze(I)&&I(S,P)}}),Ue(E,"triggeredAfterMouseMove",function(P){var w=E.getMouseInfo(P),S=w?te(te({},w),{},{isTooltipActive:!0}):{isTooltipActive:!1};E.setState(S),E.triggerSyncEvent(S);var I=E.props.onMouseMove;ze(I)&&I(S,P)}),Ue(E,"handleItemMouseEnter",function(P){E.setState(function(){return{isTooltipActive:!0,activeItem:P,activePayload:P.tooltipPayload,activeCoordinate:P.tooltipPosition||{x:P.cx,y:P.cy}}})}),Ue(E,"handleItemMouseLeave",function(){E.setState(function(){return{isTooltipActive:!1}})}),Ue(E,"handleMouseMove",function(P){P.persist(),E.throttleTriggeredAfterMouseMove(P)}),Ue(E,"handleMouseLeave",function(P){E.throttleTriggeredAfterMouseMove.cancel();var w={isTooltipActive:!1};E.setState(w),E.triggerSyncEvent(w);var S=E.props.onMouseLeave;ze(S)&&S(w,P)}),Ue(E,"handleOuterEvent",function(P){var w=Cne(P),S=gi(E.props,"".concat(w));if(w&&ze(S)){var I,k;/.*touch.*/i.test(w)?k=E.getMouseInfo(P.changedTouches[0]):k=E.getMouseInfo(P),S((I=k)!==null&&I!==void 0?I:{},P)}}),Ue(E,"handleClick",function(P){var w=E.getMouseInfo(P);if(w){var S=te(te({},w),{},{isTooltipActive:!0});E.setState(S),E.triggerSyncEvent(S);var I=E.props.onClick;ze(I)&&I(S,P)}}),Ue(E,"handleMouseDown",function(P){var w=E.props.onMouseDown;if(ze(w)){var S=E.getMouseInfo(P);w(S,P)}}),Ue(E,"handleMouseUp",function(P){var w=E.props.onMouseUp;if(ze(w)){var S=E.getMouseInfo(P);w(S,P)}}),Ue(E,"handleTouchMove",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&E.throttleTriggeredAfterMouseMove(P.changedTouches[0])}),Ue(E,"handleTouchStart",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&E.handleMouseDown(P.changedTouches[0])}),Ue(E,"handleTouchEnd",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&E.handleMouseUp(P.changedTouches[0])}),Ue(E,"handleDoubleClick",function(P){var w=E.props.onDoubleClick;if(ze(w)){var S=E.getMouseInfo(P);w(S,P)}}),Ue(E,"handleContextMenu",function(P){var w=E.props.onContextMenu;if(ze(w)){var S=E.getMouseInfo(P);w(S,P)}}),Ue(E,"triggerSyncEvent",function(P){E.props.syncId!==void 0&&Xw.emit(Zw,E.props.syncId,P,E.eventEmitterSymbol)}),Ue(E,"applySyncEvent",function(P){var w=E.props,S=w.layout,I=w.syncMethod,k=E.state.updateId,N=P.dataStartIndex,R=P.dataEndIndex;if(P.dataStartIndex!==void 0||P.dataEndIndex!==void 0)E.setState(te({dataStartIndex:N,dataEndIndex:R},p({props:E.props,dataStartIndex:N,dataEndIndex:R,updateId:k},E.state)));else if(P.activeTooltipIndex!==void 0){var j=P.chartX,B=P.chartY,L=P.activeTooltipIndex,U=E.state,W=U.offset,$=U.tooltipTicks;if(!W)return;if(typeof I=="function")L=I($,P);else if(I==="value"){L=-1;for(var H=0;H<$.length;H++)if($[H].value===P.activeLabel){L=H;break}}var Y=te(te({},W),{},{x:W.left,y:W.top}),re=Math.min(j,Y.x+Y.width),X=Math.min(B,Y.y+Y.height),ae=$[L]&&$[L].value,se=xS(E.state,E.props.data,L),me=$[L]?{x:S==="horizontal"?$[L].coordinate:re,y:S==="horizontal"?X:$[L].coordinate}:JB;E.setState(te(te({},P),{},{activeLabel:ae,activeCoordinate:me,activePayload:se,activeTooltipIndex:L}))}else E.setState(P)}),Ue(E,"renderCursor",function(P){var w,S=E.state,I=S.isTooltipActive,k=S.activeCoordinate,N=S.activePayload,R=S.offset,j=S.activeTooltipIndex,B=S.tooltipAxisBandSize,L=E.getTooltipEventType(),U=(w=P.props.active)!==null&&w!==void 0?w:I,W=E.props.layout,$=P.key||"_recharts-cursor";return M.createElement(tTe,{key:$,activeCoordinate:k,activePayload:N,activeTooltipIndex:j,chartName:r,element:P,isActive:U,layout:W,offset:R,tooltipAxisBandSize:B,tooltipEventType:L})}),Ue(E,"renderPolarAxis",function(P,w,S){var I=gi(P,"type.axisType"),k=gi(E.state,"".concat(I,"Map")),N=P.type.defaultProps,R=N!==void 0?te(te({},N),P.props):P.props,j=k&&k[R["".concat(I,"Id")]];return T.cloneElement(P,te(te({},j),{},{className:Be(I,j.className),key:P.key||"".concat(w,"-").concat(S),ticks:xs(j,!0)}))}),Ue(E,"renderPolarGrid",function(P){var w=P.props,S=w.radialLines,I=w.polarAngles,k=w.polarRadius,N=E.state,R=N.radiusAxisMap,j=N.angleAxisMap,B=Eo(R),L=Eo(j),U=L.cx,W=L.cy,$=L.innerRadius,H=L.outerRadius;return T.cloneElement(P,{polarAngles:Array.isArray(I)?I:xs(L,!0).map(function(Y){return Y.coordinate}),polarRadius:Array.isArray(k)?k:xs(B,!0).map(function(Y){return Y.coordinate}),cx:U,cy:W,innerRadius:$,outerRadius:H,key:P.key||"polar-grid",radialLines:S})}),Ue(E,"renderLegend",function(){var P=E.state.formattedGraphicalItems,w=E.props,S=w.children,I=w.width,k=w.height,N=E.props.margin||{},R=I-(N.left||0)-(N.right||0),j=PV({children:S,formattedGraphicalItems:P,legendWidth:R,legendContent:u});if(!j)return null;var B=j.item,L=jR(j,rTe);return T.cloneElement(B,te(te({},L),{},{chartWidth:I,chartHeight:k,margin:N,onBBoxUpdate:E.handleLegendBBoxUpdate}))}),Ue(E,"renderTooltip",function(){var P,w=E.props,S=w.children,I=w.accessibilityLayer,k=di(S,Kn);if(!k)return null;var N=E.state,R=N.isTooltipActive,j=N.activeCoordinate,B=N.activePayload,L=N.activeLabel,U=N.offset,W=(P=k.props.active)!==null&&P!==void 0?P:R;return T.cloneElement(k,{viewBox:te(te({},U),{},{x:U.left,y:U.top}),active:W,label:L,payload:W?B:[],coordinate:j,accessibilityLayer:I})}),Ue(E,"renderBrush",function(P){var w=E.props,S=w.margin,I=w.data,k=E.state,N=k.offset,R=k.dataStartIndex,j=k.dataEndIndex,B=k.updateId;return T.cloneElement(P,{key:P.key||"_recharts-brush",onChange:Jy(E.handleBrushChange,P.props.onChange),data:I,x:ue(P.props.x)?P.props.x:N.left,y:ue(P.props.y)?P.props.y:N.top+N.height+N.brushBottom-(S.bottom||0),width:ue(P.props.width)?P.props.width:N.width,startIndex:R,endIndex:j,updateId:"brush-".concat(B)})}),Ue(E,"renderReferenceElement",function(P,w,S){if(!P)return null;var I=E,k=I.clipPathId,N=E.state,R=N.xAxisMap,j=N.yAxisMap,B=N.offset,L=P.type.defaultProps||{},U=P.props,W=U.xAxisId,$=W===void 0?L.xAxisId:W,H=U.yAxisId,Y=H===void 0?L.yAxisId:H;return T.cloneElement(P,{key:P.key||"".concat(w,"-").concat(S),xAxis:R[$],yAxis:j[Y],viewBox:{x:B.left,y:B.top,width:B.width,height:B.height},clipPathId:k})}),Ue(E,"renderActivePoints",function(P){var w=P.item,S=P.activePoint,I=P.basePoint,k=P.childIndex,N=P.isRange,R=[],j=w.props.key,B=w.item.type.defaultProps!==void 0?te(te({},w.item.type.defaultProps),w.item.props):w.item.props,L=B.activeDot,U=B.dataKey,W=te(te({index:k,dataKey:U,cx:S.x,cy:S.y,r:4,fill:TP(w.item),strokeWidth:2,stroke:"#fff",payload:S.payload,value:S.value},$e(L,!1)),Ov(L));return R.push(b.renderActiveDot(L,W,"".concat(j,"-activePoint-").concat(k))),I?R.push(b.renderActiveDot(L,te(te({},W),{},{cx:I.x,cy:I.y}),"".concat(j,"-basePoint-").concat(k))):N&&R.push(null),R}),Ue(E,"renderGraphicChild",function(P,w,S){var I=E.filterFormatItem(P,w,S);if(!I)return null;var k=E.getTooltipEventType(),N=E.state,R=N.isTooltipActive,j=N.tooltipAxis,B=N.activeTooltipIndex,L=N.activeLabel,U=E.props.children,W=di(U,Kn),$=I.props,H=$.points,Y=$.isRange,re=$.baseLine,X=I.item.type.defaultProps!==void 0?te(te({},I.item.type.defaultProps),I.item.props):I.item.props,ae=X.activeDot,se=X.hide,me=X.activeBar,De=X.activeShape,nt=!!(!se&&R&&W&&(ae||me||De)),ft={};k!=="axis"&&W&&W.props.trigger==="click"?ft={onClick:Jy(E.handleItemMouseEnter,P.props.onClick)}:k!=="axis"&&(ft={onMouseLeave:Jy(E.handleItemMouseLeave,P.props.onMouseLeave),onMouseEnter:Jy(E.handleItemMouseEnter,P.props.onMouseEnter)});var fe=T.cloneElement(P,te(te({},I.props),ft));function _e(K){return typeof j.dataKey=="function"?j.dataKey(K.payload):null}if(nt)if(B>=0){var ye,J;if(j.dataKey&&!j.allowDuplicatedCategory){var Fe=typeof j.dataKey=="function"?_e:"payload.".concat(j.dataKey.toString());ye=Pv(H,Fe,L),J=Y&&re&&Pv(re,Fe,L)}else ye=H==null?void 0:H[B],J=Y&&re&&re[B];if(De||me){var qe=P.props.activeIndex!==void 0?P.props.activeIndex:B;return[T.cloneElement(P,te(te(te({},I.props),ft),{},{activeIndex:qe})),null,null]}if(!Qe(ye))return[fe].concat(Jd(E.renderActivePoints({item:I,activePoint:ye,basePoint:J,childIndex:B,isRange:Y})))}else{var Mt,xt=(Mt=E.getItemByXY(E.state.activeCoordinate))!==null&&Mt!==void 0?Mt:{graphicalItem:fe},wr=xt.graphicalItem,Un=wr.item,ni=Un===void 0?P:Un,ii=wr.childIndex,F=te(te(te({},I.props),ft),{},{activeIndex:ii});return[T.cloneElement(ni,F),null,null]}return Y?[fe,null,null]:[fe,null]}),Ue(E,"renderCustomized",function(P,w,S){return T.cloneElement(P,te(te({key:"recharts-customized-".concat(S)},E.props),E.state))}),Ue(E,"renderMap",{CartesianGrid:{handler:ig,once:!0},ReferenceArea:{handler:E.renderReferenceElement},ReferenceLine:{handler:ig},ReferenceDot:{handler:E.renderReferenceElement},XAxis:{handler:ig},YAxis:{handler:ig},Brush:{handler:E.renderBrush,once:!0},Bar:{handler:E.renderGraphicChild},Line:{handler:E.renderGraphicChild},Area:{handler:E.renderGraphicChild},Radar:{handler:E.renderGraphicChild},RadialBar:{handler:E.renderGraphicChild},Scatter:{handler:E.renderGraphicChild},Pie:{handler:E.renderGraphicChild},Funnel:{handler:E.renderGraphicChild},Tooltip:{handler:E.renderCursor,once:!0},PolarGrid:{handler:E.renderPolarGrid,once:!0},PolarAngleAxis:{handler:E.renderPolarAxis},PolarRadiusAxis:{handler:E.renderPolarAxis},Customized:{handler:E.renderCustomized}}),E.clipPathId="".concat((_=x.id)!==null&&_!==void 0?_:Zu("recharts"),"-clip"),E.throttleTriggeredAfterMouseMove=T4(E.triggeredAfterMouseMove,(O=x.throttleDelay)!==null&&O!==void 0?O:1e3/60),E.state={},E}return pTe(b,v),cTe(b,[{key:"componentDidMount",value:function(){var _,O;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(O=this.props.margin.top)!==null&&O!==void 0?O:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _=this.props,O=_.children,E=_.data,P=_.height,w=_.layout,S=di(O,Kn);if(S){var I=S.props.defaultIndex;if(!(typeof I!="number"||I<0||I>this.state.tooltipTicks.length-1)){var k=this.state.tooltipTicks[I]&&this.state.tooltipTicks[I].value,N=xS(this.state,E,I,k),R=this.state.tooltipTicks[I].coordinate,j=(this.state.offset.top+P)/2,B=w==="horizontal",L=B?{x:R,y:j}:{y:R,x:j},U=this.state.formattedGraphicalItems.find(function($){var H=$.item;return H.type.name==="Scatter"});U&&(L=te(te({},L),U.props.points[I].tooltipPosition),N=U.props.points[I].tooltipPayload);var W={activeTooltipIndex:I,isTooltipActive:!0,activeLabel:k,activePayload:N,activeCoordinate:L};this.setState(W),this.renderCursor(S),this.accessibilityManager.setIndex(I)}}}},{key:"getSnapshotBeforeUpdate",value:function(_,O){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==O.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_.margin){var E,P;this.accessibilityManager.setDetails({offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0}})}return null}},{key:"componentDidUpdate",value:function(_){K1([di(_.children,Kn)],[di(this.props.children,Kn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=di(this.props.children,Kn);if(_&&typeof _.props.shared=="boolean"){var O=_.props.shared?"axis":"item";return o.indexOf(O)>=0?O:a}return a}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var O=this.container,E=O.getBoundingClientRect(),P=npe(E),w={chartX:Math.round(_.pageX-P.left),chartY:Math.round(_.pageY-P.top)},S=E.width/O.offsetWidth||1,I=this.inRange(w.chartX,w.chartY,S);if(!I)return null;var k=this.state,N=k.xAxisMap,R=k.yAxisMap,j=this.getTooltipEventType(),B=DR(this.state,this.props.data,this.props.layout,I);if(j!=="axis"&&N&&R){var L=Eo(N).scale,U=Eo(R).scale,W=L&&L.invert?L.invert(w.chartX):null,$=U&&U.invert?U.invert(w.chartY):null;return te(te({},w),{},{xValue:W,yValue:$},B)}return B?te(te({},w),B):null}},{key:"inRange",value:function(_,O){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,P=this.props.layout,w=_/E,S=O/E;if(P==="horizontal"||P==="vertical"){var I=this.state.offset,k=w>=I.left&&w<=I.left+I.width&&S>=I.top&&S<=I.top+I.height;return k?{x:w,y:S}:null}var N=this.state,R=N.angleAxisMap,j=N.radiusAxisMap;if(R&&j){var B=Eo(R);return oj({x:w,y:S},B)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,O=this.getTooltipEventType(),E=di(_,Kn),P={};E&&O==="axis"&&(E.props.trigger==="click"?P={onClick:this.handleClick}:P={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var w=Ov(this.props,this.handleOuterEvent);return te(te({},w),P)}},{key:"addListener",value:function(){Xw.on(Zw,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Xw.removeListener(Zw,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_,O,E){for(var P=this.state.formattedGraphicalItems,w=0,S=P.length;w<S;w++){var I=P[w];if(I.item===_||I.props.key===_.key||O===Ts(I.item.type)&&E===I.childIndex)return I}return null}},{key:"renderClipPath",value:function(){var _=this.clipPathId,O=this.state.offset,E=O.left,P=O.top,w=O.height,S=O.width;return M.createElement("defs",null,M.createElement("clipPath",{id:_},M.createElement("rect",{x:E,y:P,height:w,width:S})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(O,E){var P=NR(E,2),w=P[0],S=P[1];return te(te({},O),{},Ue({},w,S.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(O,E){var P=NR(E,2),w=P[0],S=P[1];return te(te({},O),{},Ue({},w,S.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var O;return(O=this.state.xAxisMap)===null||O===void 0||(O=O[_])===null||O===void 0?void 0:O.scale}},{key:"getYScaleByAxisId",value:function(_){var O;return(O=this.state.yAxisMap)===null||O===void 0||(O=O[_])===null||O===void 0?void 0:O.scale}},{key:"getItemByXY",value:function(_){var O=this.state,E=O.formattedGraphicalItems,P=O.activeItem;if(E&&E.length)for(var w=0,S=E.length;w<S;w++){var I=E[w],k=I.props,N=I.item,R=N.type.defaultProps!==void 0?te(te({},N.type.defaultProps),N.props):N.props,j=Ts(N.type);if(j==="Bar"){var B=(k.data||[]).find(function($){return zbe(_,$)});if(B)return{graphicalItem:I,payload:B}}else if(j==="RadialBar"){var L=(k.data||[]).find(function($){return oj(_,$)});if(L)return{graphicalItem:I,payload:L}}else if(yb(I,P)||gb(I,P)||um(I,P)){var U=k_e({graphicalItem:I,activeTooltipItem:P,itemData:R.data}),W=R.activeIndex===void 0?U:R.activeIndex;return{graphicalItem:te(te({},I),{},{childIndex:W}),payload:um(I,P)?R.data[U]:I.props.data[U]}}}return null}},{key:"render",value:function(){var _=this;if(!Zk(this))return null;var O=this.props,E=O.children,P=O.className,w=O.width,S=O.height,I=O.style,k=O.compact,N=O.title,R=O.desc,j=jR(O,nTe),B=$e(j,!1);if(k)return M.createElement(fR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement(Y1,$c({},B,{width:w,height:S,title:N,desc:R}),this.renderClipPath(),e2(E,this.renderMap)));if(this.props.accessibilityLayer){var L,U;B.tabIndex=(L=this.props.tabIndex)!==null&&L!==void 0?L:0,B.role=(U=this.props.role)!==null&&U!==void 0?U:"application",B.onKeyDown=function($){_.accessibilityManager.keyboardEvent($)},B.onFocus=function(){_.accessibilityManager.focus()}}var W=this.parseEventsOfWrapper();return M.createElement(fR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement("div",$c({className:Be("recharts-wrapper",P),style:te({position:"relative",cursor:"default",width:w,height:S},I)},W,{ref:function(H){_.container=H}}),M.createElement(Y1,$c({},B,{width:w,height:S,title:N,desc:R,style:bTe}),this.renderClipPath(),e2(E,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(T.Component);Ue(g,"displayName",r),Ue(g,"defaultProps",te({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),Ue(g,"getDerivedStateFromProps",function(v,b){var x=v.dataKey,_=v.data,O=v.children,E=v.width,P=v.height,w=v.layout,S=v.stackOffset,I=v.margin,k=b.dataStartIndex,N=b.dataEndIndex;if(b.updateId===void 0){var R=MR(v);return te(te(te({},R),{},{updateId:0},p(te(te({props:v},R),{},{updateId:0}),b)),{},{prevDataKey:x,prevData:_,prevWidth:E,prevHeight:P,prevLayout:w,prevStackOffset:S,prevMargin:I,prevChildren:O})}if(x!==b.prevDataKey||_!==b.prevData||E!==b.prevWidth||P!==b.prevHeight||w!==b.prevLayout||S!==b.prevStackOffset||!Gc(I,b.prevMargin)){var j=MR(v),B={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},L=te(te({},DR(b,_,w)),{},{updateId:b.updateId+1}),U=te(te(te({},j),B),L);return te(te(te({},U),p(te({props:v},U),b)),{},{prevDataKey:x,prevData:_,prevWidth:E,prevHeight:P,prevLayout:w,prevStackOffset:S,prevMargin:I,prevChildren:O})}if(!K1(O,b.prevChildren)){var W,$,H,Y,re=di(O,Ud),X=re&&(W=($=re.props)===null||$===void 0?void 0:$.startIndex)!==null&&W!==void 0?W:k,ae=re&&(H=(Y=re.props)===null||Y===void 0?void 0:Y.endIndex)!==null&&H!==void 0?H:N,se=X!==k||ae!==N,me=!Qe(_),De=me&&!se?b.updateId:b.updateId+1;return te(te({updateId:De},p(te(te({props:v},b),{},{updateId:De,dataStartIndex:X,dataEndIndex:ae}),b)),{},{prevChildren:O,dataStartIndex:X,dataEndIndex:ae})}return null}),Ue(g,"renderActiveDot",function(v,b,x){var _;return T.isValidElement(v)?_=T.cloneElement(v,b):ze(v)?_=v(b):_=M.createElement(ey,b),M.createElement(ct,{className:"recharts-active-dot",key:x},_)});var y=T.forwardRef(function(b,x){return M.createElement(g,$c({},b,{ref:x}))});return y.displayName=g.displayName,y},tU=Sb({chartName:"LineChart",GraphicalChild:rl,axisComponents:[{axisType:"xAxis",AxisComp:Xs},{axisType:"yAxis",AxisComp:Zs}],formatAxisMap:OP}),CTe=Sb({chartName:"BarChart",GraphicalChild:ul,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Xs},{axisType:"yAxis",AxisComp:Zs}],formatAxisMap:OP}),kTe=Sb({chartName:"PieChart",GraphicalChild:Qs,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:mb},{axisType:"radiusAxis",AxisComp:hb}],formatAxisMap:Jve,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),NTe=Sb({chartName:"AreaChart",GraphicalChild:Bs,axisComponents:[{axisType:"xAxis",AxisComp:Xs},{axisType:"yAxis",AxisComp:Zs}],formatAxisMap:OP});const jTe=({data:t,currency:e="USD"})=>m.jsx(Gm,{width:"100%",height:320,children:m.jsxs(NTe,{data:t,children:[m.jsxs("defs",{children:[m.jsxs("linearGradient",{id:"revenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[m.jsx("stop",{offset:"5%",stopColor:"#1B7C54",stopOpacity:.8}),m.jsx("stop",{offset:"95%",stopColor:"#1B7C54",stopOpacity:0})]}),m.jsxs("linearGradient",{id:"expenses",x1:"0",y1:"0",x2:"0",y2:"1",children:[m.jsx("stop",{offset:"5%",stopColor:"#E03C31",stopOpacity:.8}),m.jsx("stop",{offset:"95%",stopColor:"#E03C31",stopOpacity:0})]})]}),m.jsx(ty,{strokeDasharray:"4 4",stroke:"#E5E7EB"}),m.jsx(Xs,{dataKey:"label",tickLine:!1,axisLine:!1}),m.jsx(Zs,{tickLine:!1,axisLine:!1,tickFormatter:r=>it(r,e)}),m.jsx(Kn,{formatter:r=>it(Number(r),e),contentStyle:{borderRadius:"16px",border:"1px solid #E5E7EB"}}),m.jsx(ua,{}),m.jsx(Bs,{type:"monotone",dataKey:"revenue",stroke:"#1B7C54",fillOpacity:1,fill:"url(#revenue)",name:"Revenue"}),m.jsx(Bs,{type:"monotone",dataKey:"expenses",stroke:"#E03C31",fillOpacity:1,fill:"url(#expenses)",name:"Expenses"})]})}),RTe=({data:t,currency:e="USD"})=>m.jsx(Gm,{width:"100%",height:260,children:m.jsxs(tU,{data:t,children:[m.jsx(ty,{strokeDasharray:"4 4",stroke:"#E5E7EB"}),m.jsx(Xs,{dataKey:"date",tickLine:!1,axisLine:!1}),m.jsx(Zs,{tickLine:!1,axisLine:!1,tickFormatter:r=>it(r,e)}),m.jsx(Kn,{formatter:r=>it(Number(r),e),contentStyle:{borderRadius:"16px",border:"1px solid #E5E7EB"}}),m.jsx(ua,{}),m.jsx(rl,{type:"monotone",dataKey:"amount",stroke:"#FFD300",strokeWidth:3,dot:!1,name:"Net Cash"})]})}),DTe={income:"bg-success/10 text-success",expense:"bg-danger/10 text-danger",transfer:"bg-primary/10 text-primary"},MTe=({transactions:t,currency:e="USD"})=>t.length?m.jsx("ul",{className:"space-y-3",children:t.map(r=>m.jsxs("li",{className:"flex items-center justify-between rounded-2xl border border-primary/10 bg-white px-4 py-3",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-semibold text-primary",children:r.linkedType?`${r.linkedType.toUpperCase()} #${r.linkedId}`:"Manual entry"}),m.jsx("p",{className:"text-xs text-madas-text/60",children:Me(r.createdAt.toDate()).format("MMM D, YYYY  HH:mm")})]}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("span",{className:`rounded-full px-3 py-1 text-xs font-semibold ${DTe[r.type]}`,children:r.type}),m.jsx("span",{className:"text-sm font-semibold text-madas-text",children:it(r.amount,e)})]})]},r.id))}):m.jsx("p",{className:"text-sm text-madas-text/50",children:"No transactions recorded for this period."}),$Te=()=>{var h,p,g,y;const t=fn(),{hasPermission:e,loading:r}=Ix(),n=Om();T.useEffect(()=>{!r&&!e(xn.VIEW)&&n("/login")},[e,r,n]);const[i,a]=T.useState("30d"),[s,o]=T.useState({start:Me().subtract(29,"day"),end:Me()}),l=VJ({range:s}),u=(h=l.data)==null?void 0:h.totals,c="USD",d=T.useMemo(()=>[{label:"Total Sales",value:it((u==null?void 0:u.totalSales)??0,c),trend:u?{value:u.totalSales>=u.totalExpenses?"+ Healthy margin":"Needs attention",positive:u.totalSales>=u.totalExpenses}:void 0,icon:m.jsx(fL,{className:"h-6 w-6"})},{label:"Total Expenses",value:it((u==null?void 0:u.totalExpenses)??0,c),icon:m.jsx(P8,{className:"h-6 w-6"})},{label:"Net Profit",value:it((u==null?void 0:u.netProfit)??0,c),icon:m.jsx(hL,{className:"h-6 w-6"}),trend:u?{value:u.netProfit>=0?"Profitable period":"Operating loss",positive:u.netProfit>=0}:void 0},{label:"Net Cash Flow",value:it((u==null?void 0:u.cashFlowNet)??0,c),secondaryValue:u&&u.inflow!==void 0?`Inflow ${it(u.inflow,c)}  Outflow ${it(u.outflow,c)}`:void 0,icon:m.jsx(_p,{className:"h-6 w-6"})}],[u]);return m.jsxs("section",{className:"space-y-8",children:[m.jsxs("header",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-semibold uppercase tracking-wide text-primary/70",children:"Finance HQ"}),m.jsxs("h2",{className:"text-3xl font-bold text-primary",children:["Overview ",t.tenantName?` ${t.tenantName}`:""]}),m.jsx("p",{className:"text-sm text-madas-text/70",children:"Monitor revenue, expenses, capital and cash flow in real time."})]}),m.jsxs("div",{className:"flex flex-wrap gap-3",children:[m.jsx("button",{className:"rounded-2xl bg-white px-4 py-2 text-sm font-semibold text-primary shadow border border-primary/10 hover:bg-primary/10 transition",children:"Export Snapshot"}),m.jsx("button",{className:"rounded-2xl bg-primary px-4 py-2 text-sm font-semibold text-white hover:bg-primary/90 transition",children:"+ Add Expense"})]})]}),m.jsx(CJ,{currentRangeId:i,onRangeChange:(v,b,x)=>{a(v),o({start:b,end:x})}}),m.jsx("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-4",children:d.map(v=>m.jsx(Nx,{label:v.label,primaryValue:v.value,secondaryValue:v.secondaryValue,trend:v.trend,icon:v.icon},v.label))}),m.jsxs("div",{className:"grid gap-6 xl:grid-cols-7",children:[m.jsxs("div",{className:"glass-card xl:col-span-4 px-6 pt-6",children:[m.jsx("div",{className:"flex items-center justify-between mb-4",children:m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-semibold text-primary",children:"Revenue vs Expenses"}),m.jsx("p",{className:"text-xs text-madas-text/60",children:"Last 6 months performance."})]})}),m.jsx("div",{className:"pb-6",children:m.jsx(jTe,{data:((p=l.data)==null?void 0:p.charts.revenueVsExpenses)??[],currency:c})})]}),m.jsxs("div",{className:"glass-card xl:col-span-3 px-6 pt-6",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-semibold text-primary",children:"Net Cash Flow"}),m.jsx("p",{className:"text-xs text-madas-text/60",children:"Inflow vs outflow by day."})]}),m.jsx("span",{className:"rounded-2xl bg-primary/10 p-2 text-primary",children:m.jsx(rW,{className:"h-5 w-5"})})]}),m.jsx("div",{className:"pb-6",children:m.jsx(RTe,{data:((g=l.data)==null?void 0:g.charts.cashFlow)??[],currency:c})})]})]}),m.jsxs("div",{className:"grid gap-6 lg:grid-cols-7",children:[m.jsxs("div",{className:"glass-card lg:col-span-4 p-6",children:[m.jsx("div",{className:"flex items-center justify-between mb-4",children:m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-semibold text-primary",children:"Recent Transactions"}),m.jsx("p",{className:"text-xs text-madas-text/60",children:"Last 5 movements across all channels."})]})}),m.jsx(MTe,{transactions:((y=l.data)==null?void 0:y.recentTransactions)??[],currency:c})]}),m.jsxs("div",{className:"glass-card lg:col-span-3 p-6",children:[m.jsx("h3",{className:"text-lg font-semibold text-primary mb-4",children:"Alerts"}),m.jsxs("ul",{className:"space-y-3 text-sm text-madas-text/70",children:[m.jsx("li",{className:"rounded-2xl border border-primary/10 bg-primary/5 p-4",children:"Upcoming budgets overrun alerts will render here once budgets module is live."}),m.jsx("li",{className:"rounded-2xl border border-danger/10 bg-danger/5 p-4",children:"Low capital notifications sync with Capital Return module."})]})]})]})]})},LTe=t=>{const e=fn();return yl({queryKey:["finance-transactions",e.workspaceId,e.orgId,t.range.start.valueOf(),t.range.end.valueOf(),t.type,t.method],enabled:!e.loading,queryFn:()=>c5(e.workspaceId,e.orgId,t.range,{type:t.type,method:t.method})})},FTe=[{id:"all",label:"All types"},{id:"income",label:"Income"},{id:"expense",label:"Expense"},{id:"transfer",label:"Transfer"}],VTe=[{id:"all",label:"All methods"},{id:"cash",label:"Cash"},{id:"card",label:"Card"},{id:"bank_transfer",label:"Bank Transfer"},{id:"online_gateway",label:"Online Gateway"}],BTe=({type:t,onTypeChange:e,method:r,onMethodChange:n})=>m.jsxs("div",{className:"flex flex-wrap gap-3",children:[m.jsx(LR,{label:"Type",value:t,options:FTe,onChange:e}),m.jsx(LR,{label:"Method",value:r,options:VTe,onChange:n})]}),LR=({label:t,value:e,options:r,onChange:n})=>{const i=r.find(a=>a.id===e)??r[0];return m.jsxs("div",{className:"space-y-1",children:[m.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-madas-text/60",children:t}),m.jsx(Cr,{value:i.id,onChange:n,children:m.jsxs("div",{className:"relative",children:[m.jsxs(Cr.Button,{className:"relative w-52 cursor-pointer rounded-2xl bg-white py-2 pl-3 pr-10 text-left shadow focus:outline-none",children:[m.jsx("span",{className:"block truncate text-sm font-medium text-primary",children:i.label}),m.jsx("span",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3",children:m.jsx(Im,{className:"h-5 w-5 text-primary/70"})})]}),m.jsx(jt,{as:T.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:m.jsx(Cr.Options,{className:"absolute mt-2 max-h-60 w-full overflow-auto rounded-2xl bg-white py-1 shadow-lg ring-1 ring-black/5 focus:outline-none",children:r.map(a=>m.jsx(Cr.Option,{value:a.id,className:({active:s})=>Be("relative cursor-pointer select-none py-2 pl-4 pr-4 text-sm",s?"bg-primary/10 text-primary":"text-madas-text"),children:a.label},a.id))})})]})})]})};var ry=t=>t.type==="checkbox",tu=t=>t instanceof Date,qn=t=>t==null;const rU=t=>typeof t=="object";var Nr=t=>!qn(t)&&!Array.isArray(t)&&rU(t)&&!tu(t),UTe=t=>Nr(t)&&t.target?ry(t.target)?t.target.checked:t.target.value:t,zTe=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,WTe=(t,e)=>t.has(zTe(e)),HTe=t=>{const e=t.constructor&&t.constructor.prototype;return Nr(e)&&e.hasOwnProperty("isPrototypeOf")},LP=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Wr(t){if(t instanceof Date)return new Date(t);const e=typeof FileList<"u"&&t instanceof FileList;if(LP&&(t instanceof Blob||e))return t;const r=Array.isArray(t);if(!r&&!(Nr(t)&&HTe(t)))return t;const n=r?[]:Object.create(Object.getPrototypeOf(t));for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=Wr(t[i]));return n}var Ab=t=>/^\w*$/.test(t),vr=t=>t===void 0,FP=t=>Array.isArray(t)?t.filter(Boolean):[],VP=t=>FP(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Ie=(t,e,r)=>{if(!e||!Nr(t))return r;const n=(Ab(e)?[e]:VP(e)).reduce((i,a)=>qn(i)?i:i[a],t);return vr(n)||n===t?vr(t[e])?r:t[e]:n},Ea=t=>typeof t=="boolean",ra=t=>typeof t=="function",Ft=(t,e,r)=>{let n=-1;const i=Ab(e)?[e]:VP(e),a=i.length,s=a-1;for(;++n<a;){const o=i[n];let l=r;if(n!==s){const u=t[o];l=Nr(u)||Array.isArray(u)?u:isNaN(+i[n+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;t[o]=l,t=t[o]}};const FR={BLUR:"blur",FOCUS_OUT:"focusout"},na={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},rs={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},qTe=M.createContext(null);qTe.displayName="HookFormContext";var KTe=(t,e,r,n=!0)=>{const i={defaultValues:e._defaultValues};for(const a in t)Object.defineProperty(i,a,{get:()=>{const s=a;return e._proxyFormState[s]!==na.all&&(e._proxyFormState[s]=!n||na.all),t[s]}});return i};const GTe=typeof window<"u"?M.useLayoutEffect:M.useEffect;var pi=t=>typeof t=="string",YTe=(t,e,r,n,i)=>pi(t)?(n&&e.watch.add(t),Ie(r,t,i)):Array.isArray(t)?t.map(a=>(n&&e.watch.add(a),Ie(r,a))):(n&&(e.watchAll=!0),r),bS=t=>qn(t)||!rU(t);function So(t,e,r=new WeakSet){if(bS(t)||bS(e))return Object.is(t,e);if(tu(t)&&tu(e))return t.getTime()===e.getTime();const n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;if(r.has(t)||r.has(e))return!0;r.add(t),r.add(e);for(const a of n){const s=t[a];if(!i.includes(a))return!1;if(a!=="ref"){const o=e[a];if(tu(s)&&tu(o)||Nr(s)&&Nr(o)||Array.isArray(s)&&Array.isArray(o)?!So(s,o,r):!Object.is(s,o))return!1}}return!0}var nU=(t,e,r,n,i)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:i||!0}}:{},ep=t=>Array.isArray(t)?t:[t],VR=()=>{let t=[];return{get observers(){return t},next:i=>{for(const a of t)a.next&&a.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(a=>a!==i)}}),unsubscribe:()=>{t=[]}}};function iU(t,e){const r={};for(const n in t)if(t.hasOwnProperty(n)){const i=t[n],a=e[n];if(i&&Nr(i)&&a){const s=iU(i,a);Nr(s)&&(r[n]=s)}else t[n]&&(r[n]=a)}return r}var Nn=t=>Nr(t)&&!Object.keys(t).length,BP=t=>t.type==="file",C0=t=>{if(!LP)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},aU=t=>t.type==="select-multiple",UP=t=>t.type==="radio",QTe=t=>UP(t)||ry(t),e_=t=>C0(t)&&t.isConnected;function XTe(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=vr(t)?n++:t[e[n++]];return t}function ZTe(t){for(const e in t)if(t.hasOwnProperty(e)&&!vr(t[e]))return!1;return!0}function Er(t,e){const r=Array.isArray(e)?e:Ab(e)?[e]:VP(e),n=r.length===1?t:XTe(t,r),i=r.length-1,a=r[i];return n&&delete n[a],i!==0&&(Nr(n)&&Nn(n)||Array.isArray(n)&&ZTe(n))&&Er(t,r.slice(0,-1)),t}var JTe=t=>{for(const e in t)if(ra(t[e]))return!0;return!1};function sU(t){return Array.isArray(t)||Nr(t)&&!JTe(t)}function wS(t,e={}){for(const r in t){const n=t[r];sU(n)?(e[r]=Array.isArray(n)?[]:{},wS(n,e[r])):vr(n)||(e[r]=!0)}return e}function vc(t,e,r){r||(r=wS(e));for(const n in t){const i=t[n];if(sU(i))vr(e)||bS(r[n])?r[n]=wS(i,Array.isArray(i)?[]:{}):vc(i,qn(e)?{}:e[n],r[n]);else{const a=e[n];r[n]=!So(i,a)}}return r}const BR={value:!1,isValid:!1},UR={value:!0,isValid:!0};var oU=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!vr(t[0].attributes.value)?vr(t[0].value)||t[0].value===""?UR:{value:t[0].value,isValid:!0}:UR:BR}return BR},lU=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>vr(t)?t:e?t===""?NaN:t&&+t:r&&pi(t)?new Date(t):n?n(t):t;const zR={isValid:!1,value:null};var uU=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,zR):zR;function WR(t){const e=t.ref;return BP(e)?e.files:UP(e)?uU(t.refs).value:aU(e)?[...e.selectedOptions].map(({value:r})=>r):ry(e)?oU(t.refs).value:lU(vr(e.value)?t.ref.value:e.value,t)}var ePe=(t,e,r,n)=>{const i={};for(const a of t){const s=Ie(e,a);s&&Ft(i,a,s._f)}return{criteriaMode:r,names:[...t],fields:i,shouldUseNativeValidation:n}},k0=t=>t instanceof RegExp,gh=t=>vr(t)?t:k0(t)?t.source:Nr(t)?k0(t.value)?t.value.source:t.value:t,HR=t=>({isOnSubmit:!t||t===na.onSubmit,isOnBlur:t===na.onBlur,isOnChange:t===na.onChange,isOnAll:t===na.all,isOnTouch:t===na.onTouched});const qR="AsyncFunction";var tPe=t=>!!t&&!!t.validate&&!!(ra(t.validate)&&t.validate.constructor.name===qR||Nr(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===qR)),rPe=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),KR=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const tp=(t,e,r,n)=>{for(const i of r||Object.keys(t)){const a=Ie(t,i);if(a){const{_f:s,...o}=a;if(s){if(s.refs&&s.refs[0]&&e(s.refs[0],i)&&!n)return!0;if(s.ref&&e(s.ref,s.name)&&!n)return!0;if(tp(o,e))break}else if(Nr(o)&&tp(o,e))break}}};function GR(t,e,r){const n=Ie(t,r);if(n||Ab(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const a=i.join("."),s=Ie(e,a),o=Ie(t,a);if(s&&!Array.isArray(s)&&r!==a)return{name:r};if(o&&o.type)return{name:a,error:o};if(o&&o.root&&o.root.type)return{name:`${a}.root`,error:o.root};i.pop()}return{name:r}}var nPe=(t,e,r,n)=>{r(t);const{name:i,...a}=t;return Nn(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(s=>e[s]===(!n||na.all))},iPe=(t,e,r)=>!t||!e||t===e||ep(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),aPe=(t,e,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(e||t):(r?n.isOnBlur:i.isOnBlur)?!t:(r?n.isOnChange:i.isOnChange)?t:!0,sPe=(t,e)=>!FP(Ie(t,e)).length&&Er(t,e),oPe=(t,e,r)=>{const n=ep(Ie(t,r));return Ft(n,"root",e[r]),Ft(t,r,n),t};function YR(t,e,r="validate"){if(pi(t)||Array.isArray(t)&&t.every(pi)||Ea(t)&&!t)return{type:r,message:pi(t)?t:"",ref:e}}var pc=t=>Nr(t)&&!k0(t)?t:{value:t,message:""},QR=async(t,e,r,n,i,a)=>{const{ref:s,refs:o,required:l,maxLength:u,minLength:c,min:d,max:h,pattern:p,validate:g,name:y,valueAsNumber:v,mount:b}=t._f,x=Ie(r,y);if(!b||e.has(y))return{};const _=o?o[0]:s,O=R=>{i&&_.reportValidity&&(_.setCustomValidity(Ea(R)?"":R||""),_.reportValidity())},E={},P=UP(s),w=ry(s),S=P||w,I=(v||BP(s))&&vr(s.value)&&vr(x)||C0(s)&&s.value===""||x===""||Array.isArray(x)&&!x.length,k=nU.bind(null,y,n,E),N=(R,j,B,L=rs.maxLength,U=rs.minLength)=>{const W=R?j:B;E[y]={type:R?L:U,message:W,ref:s,...k(R?L:U,W)}};if(a?!Array.isArray(x)||!x.length:l&&(!S&&(I||qn(x))||Ea(x)&&!x||w&&!oU(o).isValid||P&&!uU(o).isValid)){const{value:R,message:j}=pi(l)?{value:!!l,message:l}:pc(l);if(R&&(E[y]={type:rs.required,message:j,ref:_,...k(rs.required,j)},!n))return O(j),E}if(!I&&(!qn(d)||!qn(h))){let R,j;const B=pc(h),L=pc(d);if(!qn(x)&&!isNaN(x)){const U=s.valueAsNumber||x&&+x;qn(B.value)||(R=U>B.value),qn(L.value)||(j=U<L.value)}else{const U=s.valueAsDate||new Date(x),W=Y=>new Date(new Date().toDateString()+" "+Y),$=s.type=="time",H=s.type=="week";pi(B.value)&&x&&(R=$?W(x)>W(B.value):H?x>B.value:U>new Date(B.value)),pi(L.value)&&x&&(j=$?W(x)<W(L.value):H?x<L.value:U<new Date(L.value))}if((R||j)&&(N(!!R,B.message,L.message,rs.max,rs.min),!n))return O(E[y].message),E}if((u||c)&&!I&&(pi(x)||a&&Array.isArray(x))){const R=pc(u),j=pc(c),B=!qn(R.value)&&x.length>+R.value,L=!qn(j.value)&&x.length<+j.value;if((B||L)&&(N(B,R.message,j.message),!n))return O(E[y].message),E}if(p&&!I&&pi(x)){const{value:R,message:j}=pc(p);if(k0(R)&&!x.match(R)&&(E[y]={type:rs.pattern,message:j,ref:s,...k(rs.pattern,j)},!n))return O(j),E}if(g){if(ra(g)){const R=await g(x,r),j=YR(R,_);if(j&&(E[y]={...j,...k(rs.validate,j.message)},!n))return O(j.message),E}else if(Nr(g)){let R={};for(const j in g){if(!Nn(R)&&!n)break;const B=YR(await g[j](x,r),_,j);B&&(R={...B,...k(j,B.message)},O(B.message),n&&(E[y]=R))}if(!Nn(R)&&(E[y]={ref:_,...R},!n))return E}}return O(!0),E};const lPe={mode:na.onSubmit,reValidateMode:na.onChange,shouldFocusError:!0};function uPe(t={}){let e={...lPe,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:ra(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},i=Nr(e.defaultValues)||Nr(e.values)?Wr(e.defaultValues||e.values)||{}:{},a=e.shouldUnregister?{}:Wr(i),s={action:!1,mount:!1,watch:!1,keepIsValid:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,u=0;const c={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={...c};let h={...d};const p={array:VR(),state:VR()},g=e.criteriaMode===na.all,y=F=>K=>{clearTimeout(u),u=setTimeout(F,K)},v=async F=>{if(!s.keepIsValid&&!e.disabled&&(d.isValid||h.isValid||F)){let K;e.resolver?(K=Nn((await S()).errors),b()):K=await k(n,!0),K!==r.isValid&&p.state.next({isValid:K})}},b=(F,K)=>{!e.disabled&&(d.isValidating||d.validatingFields||h.isValidating||h.validatingFields)&&((F||Array.from(o.mount)).forEach(ee=>{ee&&(K?Ft(r.validatingFields,ee,K):Er(r.validatingFields,ee))}),p.state.next({validatingFields:r.validatingFields,isValidating:!Nn(r.validatingFields)}))},x=(F,K=[],ee,pe,de=!0,ie=!0)=>{if(pe&&ee&&!e.disabled){if(s.action=!0,ie&&Array.isArray(Ie(n,F))){const xe=ee(Ie(n,F),pe.argA,pe.argB);de&&Ft(n,F,xe)}if(ie&&Array.isArray(Ie(r.errors,F))){const xe=ee(Ie(r.errors,F),pe.argA,pe.argB);de&&Ft(r.errors,F,xe),sPe(r.errors,F)}if((d.touchedFields||h.touchedFields)&&ie&&Array.isArray(Ie(r.touchedFields,F))){const xe=ee(Ie(r.touchedFields,F),pe.argA,pe.argB);de&&Ft(r.touchedFields,F,xe)}(d.dirtyFields||h.dirtyFields)&&(r.dirtyFields=vc(i,a)),p.state.next({name:F,isDirty:R(F,K),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Ft(a,F,K)},_=(F,K)=>{Ft(r.errors,F,K),p.state.next({errors:r.errors})},O=F=>{r.errors=F,p.state.next({errors:r.errors,isValid:!1})},E=(F,K,ee,pe)=>{const de=Ie(n,F);if(de){const ie=Ie(a,F,vr(ee)?Ie(i,F):ee);vr(ie)||pe&&pe.defaultChecked||K?Ft(a,F,K?ie:WR(de._f)):L(F,ie),s.mount&&!s.action&&v()}},P=(F,K,ee,pe,de)=>{let ie=!1,xe=!1;const tt={name:F};if(!e.disabled){if(!ee||pe){(d.isDirty||h.isDirty)&&(xe=r.isDirty,r.isDirty=tt.isDirty=R(),ie=xe!==tt.isDirty);const ot=So(Ie(i,F),K);xe=!!Ie(r.dirtyFields,F),ot?Er(r.dirtyFields,F):Ft(r.dirtyFields,F,!0),tt.dirtyFields=r.dirtyFields,ie=ie||(d.dirtyFields||h.dirtyFields)&&xe!==!ot}if(ee){const ot=Ie(r.touchedFields,F);ot||(Ft(r.touchedFields,F,ee),tt.touchedFields=r.touchedFields,ie=ie||(d.touchedFields||h.touchedFields)&&ot!==ee)}ie&&de&&p.state.next(tt)}return ie?tt:{}},w=(F,K,ee,pe)=>{const de=Ie(r.errors,F),ie=(d.isValid||h.isValid)&&Ea(K)&&r.isValid!==K;if(e.delayError&&ee?(l=y(()=>_(F,ee)),l(e.delayError)):(clearTimeout(u),l=null,ee?Ft(r.errors,F,ee):Er(r.errors,F)),(ee?!So(de,ee):de)||!Nn(pe)||ie){const xe={...pe,...ie&&Ea(K)?{isValid:K}:{},errors:r.errors,name:F};r={...r,...xe},p.state.next(xe)}},S=async F=>(b(F,!0),await e.resolver(a,e.context,ePe(F||o.mount,n,e.criteriaMode,e.shouldUseNativeValidation))),I=async F=>{const{errors:K}=await S(F);if(b(F),F)for(const ee of F){const pe=Ie(K,ee);pe?Ft(r.errors,ee,pe):Er(r.errors,ee)}else r.errors=K;return K},k=async(F,K,ee={valid:!0})=>{for(const pe in F){const de=F[pe];if(de){const{_f:ie,...xe}=de;if(ie){const tt=o.array.has(ie.name),ot=de._f&&tPe(de._f);ot&&d.validatingFields&&b([ie.name],!0);const zr=await QR(de,o.disabled,a,g,e.shouldUseNativeValidation&&!K,tt);if(ot&&d.validatingFields&&b([ie.name]),zr[ie.name]&&(ee.valid=!1,K))break;!K&&(Ie(zr,ie.name)?tt?oPe(r.errors,zr,ie.name):Ft(r.errors,ie.name,zr[ie.name]):Er(r.errors,ie.name))}!Nn(xe)&&await k(xe,K,ee)}}return ee.valid},N=()=>{for(const F of o.unMount){const K=Ie(n,F);K&&(K._f.refs?K._f.refs.every(ee=>!e_(ee)):!e_(K._f.ref))&&ft(F)}o.unMount=new Set},R=(F,K)=>!e.disabled&&(F&&K&&Ft(a,F,K),!So(re(),i)),j=(F,K,ee)=>YTe(F,o,{...s.mount?a:vr(K)?i:pi(F)?{[F]:K}:K},ee,K),B=F=>FP(Ie(s.mount?a:i,F,e.shouldUnregister?Ie(i,F,[]):[])),L=(F,K,ee={})=>{const pe=Ie(n,F);let de=K;if(pe){const ie=pe._f;ie&&(!ie.disabled&&Ft(a,F,lU(K,ie)),de=C0(ie.ref)&&qn(K)?"":K,aU(ie.ref)?[...ie.ref.options].forEach(xe=>xe.selected=de.includes(xe.value)):ie.refs?ry(ie.ref)?ie.refs.forEach(xe=>{(!xe.defaultChecked||!xe.disabled)&&(Array.isArray(de)?xe.checked=!!de.find(tt=>tt===xe.value):xe.checked=de===xe.value||!!de)}):ie.refs.forEach(xe=>xe.checked=xe.value===de):BP(ie.ref)?ie.ref.value="":(ie.ref.value=de,ie.ref.type||p.state.next({name:F,values:Wr(a)})))}(ee.shouldDirty||ee.shouldTouch)&&P(F,de,ee.shouldTouch,ee.shouldDirty,!0),ee.shouldValidate&&Y(F)},U=(F,K,ee)=>{for(const pe in K){if(!K.hasOwnProperty(pe))return;const de=K[pe],ie=F+"."+pe,xe=Ie(n,ie);(o.array.has(F)||Nr(de)||xe&&!xe._f)&&!tu(de)?U(ie,de,ee):L(ie,de,ee)}},W=(F,K,ee={})=>{const pe=Ie(n,F),de=o.array.has(F),ie=Wr(K);Ft(a,F,ie),de?(p.array.next({name:F,values:Wr(a)}),(d.isDirty||d.dirtyFields||h.isDirty||h.dirtyFields)&&ee.shouldDirty&&p.state.next({name:F,dirtyFields:vc(i,a),isDirty:R(F,ie)})):pe&&!pe._f&&!qn(ie)?U(F,ie,ee):L(F,ie,ee),KR(F,o)&&p.state.next({...r,name:F}),p.state.next({name:s.mount?F:void 0,values:Wr(a)})},$=async F=>{s.mount=!0;const K=F.target;let ee=K.name,pe=!0;const de=Ie(n,ee),ie=ot=>{pe=Number.isNaN(ot)||tu(ot)&&isNaN(ot.getTime())||So(ot,Ie(a,ee,ot))},xe=HR(e.mode),tt=HR(e.reValidateMode);if(de){let ot,zr;const Ui=K.type?WR(de._f):UTe(F),hn=F.type===FR.BLUR||F.type===FR.FOCUS_OUT,ai=!rPe(de._f)&&!e.resolver&&!Ie(r.errors,ee)&&!de._f.deps||aPe(hn,Ie(r.touchedFields,ee),r.isSubmitted,tt,xe),Ga=KR(ee,o,hn);Ft(a,ee,Ui),hn?(!K||!K.readOnly)&&(de._f.onBlur&&de._f.onBlur(F),l&&l(0)):de._f.onChange&&de._f.onChange(F);const ya=P(ee,Ui,hn),rc=!Nn(ya)||Ga;if(!hn&&p.state.next({name:ee,type:F.type,values:Wr(a)}),ai)return(d.isValid||h.isValid)&&(e.mode==="onBlur"?hn&&v():hn||v()),rc&&p.state.next({name:ee,...Ga?{}:ya});if(!hn&&Ga&&p.state.next({...r}),e.resolver){const{errors:nc}=await S([ee]);if(b([ee]),ie(Ui),pe){const Js=GR(r.errors,n,ee),ga=GR(nc,n,Js.name||ee);ot=ga.error,ee=ga.name,zr=Nn(nc)}}else b([ee],!0),ot=(await QR(de,o.disabled,a,g,e.shouldUseNativeValidation))[ee],b([ee]),ie(Ui),pe&&(ot?zr=!1:(d.isValid||h.isValid)&&(zr=await k(n,!0)));pe&&(de._f.deps&&(!Array.isArray(de._f.deps)||de._f.deps.length>0)&&Y(de._f.deps),w(ee,zr,ot,ya))}},H=(F,K)=>{if(Ie(r.errors,K)&&F.focus)return F.focus(),1},Y=async(F,K={})=>{let ee,pe;const de=ep(F);if(e.resolver){const ie=await I(vr(F)?F:de);ee=Nn(ie),pe=F?!de.some(xe=>Ie(ie,xe)):ee}else F?(pe=(await Promise.all(de.map(async ie=>{const xe=Ie(n,ie);return await k(xe&&xe._f?{[ie]:xe}:xe)}))).every(Boolean),!(!pe&&!r.isValid)&&v()):pe=ee=await k(n);return p.state.next({...!pi(F)||(d.isValid||h.isValid)&&ee!==r.isValid?{}:{name:F},...e.resolver||!F?{isValid:ee}:{},errors:r.errors}),K.shouldFocus&&!pe&&tp(n,H,F?de:o.mount),pe},re=(F,K)=>{let ee={...s.mount?a:i};return K&&(ee=iU(K.dirtyFields?r.dirtyFields:r.touchedFields,ee)),vr(F)?ee:pi(F)?Ie(ee,F):F.map(pe=>Ie(ee,pe))},X=(F,K)=>({invalid:!!Ie((K||r).errors,F),isDirty:!!Ie((K||r).dirtyFields,F),error:Ie((K||r).errors,F),isValidating:!!Ie(r.validatingFields,F),isTouched:!!Ie((K||r).touchedFields,F)}),ae=F=>{F&&ep(F).forEach(K=>Er(r.errors,K)),p.state.next({errors:F?r.errors:{}})},se=(F,K,ee)=>{const pe=(Ie(n,F,{_f:{}})._f||{}).ref,de=Ie(r.errors,F)||{},{ref:ie,message:xe,type:tt,...ot}=de;Ft(r.errors,F,{...ot,...K,ref:pe}),p.state.next({name:F,errors:r.errors,isValid:!1}),ee&&ee.shouldFocus&&pe&&pe.focus&&pe.focus()},me=(F,K)=>ra(F)?p.state.subscribe({next:ee=>"values"in ee&&F(j(void 0,K),ee)}):j(F,K,!0),De=F=>p.state.subscribe({next:K=>{iPe(F.name,K.name,F.exact)&&nPe(K,F.formState||d,Un,F.reRenderRoot)&&F.callback({values:{...a},...r,...K,defaultValues:i})}}).unsubscribe,nt=F=>(s.mount=!0,h={...h,...F.formState},De({...F,formState:{...c,...F.formState}})),ft=(F,K={})=>{for(const ee of F?ep(F):o.mount)o.mount.delete(ee),o.array.delete(ee),K.keepValue||(Er(n,ee),Er(a,ee)),!K.keepError&&Er(r.errors,ee),!K.keepDirty&&Er(r.dirtyFields,ee),!K.keepTouched&&Er(r.touchedFields,ee),!K.keepIsValidating&&Er(r.validatingFields,ee),!e.shouldUnregister&&!K.keepDefaultValue&&Er(i,ee);p.state.next({values:Wr(a)}),p.state.next({...r,...K.keepDirty?{isDirty:R()}:{}}),!K.keepIsValid&&v()},fe=({disabled:F,name:K})=>{(Ea(F)&&s.mount||F||o.disabled.has(K))&&(F?o.disabled.add(K):o.disabled.delete(K))},_e=(F,K={})=>{let ee=Ie(n,F);const pe=Ea(K.disabled)||Ea(e.disabled);return Ft(n,F,{...ee||{},_f:{...ee&&ee._f?ee._f:{ref:{name:F}},name:F,mount:!0,...K}}),o.mount.add(F),ee?fe({disabled:Ea(K.disabled)?K.disabled:e.disabled,name:F}):E(F,!0,K.value),{...pe?{disabled:K.disabled||e.disabled}:{},...e.progressive?{required:!!K.required,min:gh(K.min),max:gh(K.max),minLength:gh(K.minLength),maxLength:gh(K.maxLength),pattern:gh(K.pattern)}:{},name:F,onChange:$,onBlur:$,ref:de=>{if(de){_e(F,K),ee=Ie(n,F);const ie=vr(de.value)&&de.querySelectorAll&&de.querySelectorAll("input,select,textarea")[0]||de,xe=QTe(ie),tt=ee._f.refs||[];if(xe?tt.find(ot=>ot===ie):ie===ee._f.ref)return;Ft(n,F,{_f:{...ee._f,...xe?{refs:[...tt.filter(e_),ie,...Array.isArray(Ie(i,F))?[{}]:[]],ref:{type:ie.type,name:F}}:{ref:ie}}}),E(F,!1,void 0,ie)}else ee=Ie(n,F,{}),ee._f&&(ee._f.mount=!1),(e.shouldUnregister||K.shouldUnregister)&&!(WTe(o.array,F)&&s.action)&&o.unMount.add(F)}}},ye=()=>e.shouldFocusError&&tp(n,H,o.mount),J=F=>{Ea(F)&&(p.state.next({disabled:F}),tp(n,(K,ee)=>{const pe=Ie(n,ee);pe&&(K.disabled=pe._f.disabled||F,Array.isArray(pe._f.refs)&&pe._f.refs.forEach(de=>{de.disabled=pe._f.disabled||F}))},0,!1))},Fe=(F,K)=>async ee=>{let pe;ee&&(ee.preventDefault&&ee.preventDefault(),ee.persist&&ee.persist());let de=Wr(a);if(p.state.next({isSubmitting:!0}),e.resolver){const{errors:ie,values:xe}=await S();b(),r.errors=ie,de=Wr(xe)}else await k(n);if(o.disabled.size)for(const ie of o.disabled)Er(de,ie);if(Er(r.errors,"root"),Nn(r.errors)){p.state.next({errors:{}});try{await F(de,ee)}catch(ie){pe=ie}}else K&&await K({...r.errors},ee),ye(),setTimeout(ye);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Nn(r.errors)&&!pe,submitCount:r.submitCount+1,errors:r.errors}),pe)throw pe},qe=(F,K={})=>{Ie(n,F)&&(vr(K.defaultValue)?W(F,Wr(Ie(i,F))):(W(F,K.defaultValue),Ft(i,F,Wr(K.defaultValue))),K.keepTouched||Er(r.touchedFields,F),K.keepDirty||(Er(r.dirtyFields,F),r.isDirty=K.defaultValue?R(F,Wr(Ie(i,F))):R()),K.keepError||(Er(r.errors,F),d.isValid&&v()),p.state.next({...r}))},Mt=(F,K={})=>{const ee=F?Wr(F):i,pe=Wr(ee),de=Nn(F),ie=de?i:pe;if(K.keepDefaultValues||(i=ee),!K.keepValues){if(K.keepDirtyValues){const xe=new Set([...o.mount,...Object.keys(vc(i,a))]);for(const tt of Array.from(xe))Ie(r.dirtyFields,tt)?Ft(ie,tt,Ie(a,tt)):W(tt,Ie(ie,tt))}else{if(LP&&vr(F))for(const xe of o.mount){const tt=Ie(n,xe);if(tt&&tt._f){const ot=Array.isArray(tt._f.refs)?tt._f.refs[0]:tt._f.ref;if(C0(ot)){const zr=ot.closest("form");if(zr){zr.reset();break}}}}if(K.keepFieldsRef)for(const xe of o.mount)W(xe,Ie(ie,xe));else n={}}a=e.shouldUnregister?K.keepDefaultValues?Wr(i):{}:Wr(ie),p.array.next({values:{...ie}}),p.state.next({values:{...ie}})}o={mount:K.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},s.mount=!d.isValid||!!K.keepIsValid||!!K.keepDirtyValues||!e.shouldUnregister&&!Nn(ie),s.watch=!!e.shouldUnregister,s.keepIsValid=!!K.keepIsValid,s.action=!1,K.keepErrors||(r.errors={}),p.state.next({submitCount:K.keepSubmitCount?r.submitCount:0,isDirty:de?!1:K.keepDirty?r.isDirty:!!(K.keepDefaultValues&&!So(F,i)),isSubmitted:K.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:de?{}:K.keepDirtyValues?K.keepDefaultValues&&a?vc(i,a):r.dirtyFields:K.keepDefaultValues&&F?vc(i,F):K.keepDirty?r.dirtyFields:{},touchedFields:K.keepTouched?r.touchedFields:{},errors:K.keepErrors?r.errors:{},isSubmitSuccessful:K.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},xt=(F,K)=>Mt(ra(F)?F(a):F,{...e.resetOptions,...K}),wr=(F,K={})=>{const ee=Ie(n,F),pe=ee&&ee._f;if(pe){const de=pe.refs?pe.refs[0]:pe.ref;de.focus&&setTimeout(()=>{de.focus(),K.shouldSelect&&ra(de.select)&&de.select()})}},Un=F=>{r={...r,...F}},ii={control:{register:_e,unregister:ft,getFieldState:X,handleSubmit:Fe,setError:se,_subscribe:De,_runSchema:S,_updateIsValidating:b,_focusError:ye,_getWatch:j,_getDirty:R,_setValid:v,_setFieldArray:x,_setDisabledField:fe,_setErrors:O,_getFieldArray:B,_reset:Mt,_resetDefaultValues:()=>ra(e.defaultValues)&&e.defaultValues().then(F=>{xt(F,e.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:N,_disableForm:J,_subjects:p,_proxyFormState:d,get _fields(){return n},get _formValues(){return a},get _state(){return s},set _state(F){s=F},get _defaultValues(){return i},get _names(){return o},set _names(F){o=F},get _formState(){return r},get _options(){return e},set _options(F){e={...e,...F}}},subscribe:nt,trigger:Y,register:_e,handleSubmit:Fe,watch:me,setValue:W,getValues:re,reset:xt,resetField:qe,clearErrors:ae,unregister:ft,setError:se,setFocus:wr,getFieldState:X};return{...ii,formControl:ii}}function Rf(t={}){const e=M.useRef(void 0),r=M.useRef(void 0),[n,i]=M.useState({isDirty:!1,isValidating:!1,isLoading:ra(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:ra(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:n},t.defaultValues&&!ra(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:s,...o}=uPe(t);e.current={...o,formState:n}}const a=e.current.control;return a._options=t,GTe(()=>{const s=a._subscribe({formState:a._proxyFormState,callback:()=>i({...a._formState}),reRenderRoot:!0});return i(o=>({...o,isReady:!0})),a._formState.isReady=!0,s},[a]),M.useEffect(()=>a._disableForm(t.disabled),[a,t.disabled]),M.useEffect(()=>{t.mode&&(a._options.mode=t.mode),t.reValidateMode&&(a._options.reValidateMode=t.reValidateMode)},[a,t.mode,t.reValidateMode]),M.useEffect(()=>{t.errors&&(a._setErrors(t.errors),a._focusError())},[a,t.errors]),M.useEffect(()=>{t.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,t.shouldUnregister]),M.useEffect(()=>{if(a._proxyFormState.isDirty){const s=a._getDirty();s!==n.isDirty&&a._subjects.state.next({isDirty:s})}},[a,n.isDirty]),M.useEffect(()=>{var s;t.values&&!So(t.values,r.current)?(a._reset(t.values,{keepFieldsRef:!0,...a._options.resetOptions}),!((s=a._options.resetOptions)===null||s===void 0)&&s.keepIsValid||a._setValid(),r.current=t.values,i(o=>({...o}))):a._resetDefaultValues()},[a,t.values]),M.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),e.current.formState=KTe(n,a),e.current}const XR=(t,e,r)=>{if(t&&"reportValidity"in t){const n=Ie(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},cU=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?XR(n.ref,r,t):n.refs&&n.refs.forEach(i=>XR(i,r,t))}},cPe=(t,e)=>{e.shouldUseNativeValidation&&cU(t,e);const r={};for(const n in t){const i=Ie(e.fields,n),a=Object.assign(t[n]||{},{ref:i&&i.ref});if(dPe(e.names||Object.keys(t),n)){const s=Object.assign({},Ie(r,n));Ft(s,"root",a),Ft(r,n,s)}else Ft(r,n,a)}return r},dPe=(t,e)=>t.some(r=>r.startsWith(e+"."));var fPe=function(t,e){for(var r={};t.length;){var n=t[0],i=n.code,a=n.message,s=n.path.join(".");if(!r[s])if("unionErrors"in n){var o=n.unionErrors[0].errors[0];r[s]={message:o.message,type:o.code}}else r[s]={message:a,type:i};if("unionErrors"in n&&n.unionErrors.forEach(function(c){return c.errors.forEach(function(d){return t.push(d)})}),e){var l=r[s].types,u=l&&l[n.code];r[s]=nU(s,e,r,i,u?[].concat(u,n.message):n.message)}t.shift()}return r},Df=function(t,e,r){return r===void 0&&(r={}),function(n,i,a){try{return Promise.resolve(function(s,o){try{var l=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(u){return a.shouldUseNativeValidation&&cU({},a),{errors:{},values:r.raw?n:u}})}catch(u){return o(u)}return l&&l.then?l.then(void 0,o):l}(0,function(s){if(function(o){return Array.isArray(o==null?void 0:o.errors)}(s))return{values:{},errors:cPe(fPe(s.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw s}))}catch(s){return Promise.reject(s)}}},At;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function r(i){throw new Error}t.assertNever=r,t.arrayToEnum=i=>{const a={};for(const s of i)a[s]=s;return a},t.getValidEnumValues=i=>{const a=t.objectKeys(i).filter(o=>typeof i[i[o]]!="number"),s={};for(const o of a)s[o]=i[o];return t.objectValues(s)},t.objectValues=i=>t.objectKeys(i).map(function(a){return i[a]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&a.push(s);return a},t.find=(i,a)=>{for(const s of i)if(a(s))return s},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function n(i,a=" | "){return i.map(s=>typeof s=="string"?`'${s}'`:s).join(a)}t.joinValues=n,t.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(At||(At={}));var ZR;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(ZR||(ZR={}));const ke=At.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),mo=t=>{switch(typeof t){case"undefined":return ke.undefined;case"string":return ke.string;case"number":return Number.isNaN(t)?ke.nan:ke.number;case"boolean":return ke.boolean;case"function":return ke.function;case"bigint":return ke.bigint;case"symbol":return ke.symbol;case"object":return Array.isArray(t)?ke.array:t===null?ke.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ke.promise:typeof Map<"u"&&t instanceof Map?ke.map:typeof Set<"u"&&t instanceof Set?ke.set:typeof Date<"u"&&t instanceof Date?ke.date:ke.object;default:return ke.unknown}},he=At.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Us extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(a){return a.message},n={_errors:[]},i=a=>{for(const s of a.issues)if(s.code==="invalid_union")s.unionErrors.map(i);else if(s.code==="invalid_return_type")i(s.returnTypeError);else if(s.code==="invalid_arguments")i(s.argumentsError);else if(s.path.length===0)n._errors.push(r(s));else{let o=n,l=0;for(;l<s.path.length;){const u=s.path[l];l===s.path.length-1?(o[u]=o[u]||{_errors:[]},o[u]._errors.push(r(s))):o[u]=o[u]||{_errors:[]},o=o[u],l++}}};return i(this),n}static assert(e){if(!(e instanceof Us))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,At.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const i of this.issues)if(i.path.length>0){const a=i.path[0];r[a]=r[a]||[],r[a].push(e(i))}else n.push(e(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Us.create=t=>new Us(t);const _S=(t,e)=>{let r;switch(t.code){case he.invalid_type:t.received===ke.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case he.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,At.jsonStringifyReplacer)}`;break;case he.unrecognized_keys:r=`Unrecognized key(s) in object: ${At.joinValues(t.keys,", ")}`;break;case he.invalid_union:r="Invalid input";break;case he.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${At.joinValues(t.options)}`;break;case he.invalid_enum_value:r=`Invalid enum value. Expected ${At.joinValues(t.options)}, received '${t.received}'`;break;case he.invalid_arguments:r="Invalid function arguments";break;case he.invalid_return_type:r="Invalid function return type";break;case he.invalid_date:r="Invalid date";break;case he.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:At.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case he.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case he.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case he.custom:r="Invalid input";break;case he.invalid_intersection_types:r="Intersection results could not be merged";break;case he.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case he.not_finite:r="Number must be finite";break;default:r=e.defaultError,At.assertNever(t)}return{message:r}};let hPe=_S;function pPe(){return hPe}const mPe=t=>{const{data:e,path:r,errorMaps:n,issueData:i}=t,a=[...r,...i.path||[]],s={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let o="";const l=n.filter(u=>!!u).slice().reverse();for(const u of l)o=u(s,{data:e,defaultError:o}).message;return{...i,path:a,message:o}};function we(t,e){const r=pPe(),n=mPe({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===_S?void 0:_S].filter(i=>!!i)});t.common.issues.push(n)}class bi{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const i of r){if(i.status==="aborted")return Ze;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const i of r){const a=await i.key,s=await i.value;n.push({key:a,value:s})}return bi.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const i of r){const{key:a,value:s}=i;if(a.status==="aborted"||s.status==="aborted")return Ze;a.status==="dirty"&&e.dirty(),s.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof s.value<"u"||i.alwaysSet)&&(n[a.value]=s.value)}return{status:e.value,value:n}}}const Ze=Object.freeze({status:"aborted"}),Nh=t=>({status:"dirty",value:t}),Bi=t=>({status:"valid",value:t}),JR=t=>t.status==="aborted",eD=t=>t.status==="dirty",ef=t=>t.status==="valid",N0=t=>typeof Promise<"u"&&t instanceof Promise;var Re;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Re||(Re={}));class cl{constructor(e,r,n,i){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const tD=(t,e)=>{if(ef(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Us(t.common.issues);return this._error=r,this._error}}};function ut(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:i}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(s,o)=>{const{message:l}=t;return s.code==="invalid_enum_value"?{message:l??o.defaultError}:typeof o.data>"u"?{message:l??n??o.defaultError}:s.code!=="invalid_type"?{message:o.defaultError}:{message:l??r??o.defaultError}},description:i}}class _t{get description(){return this._def.description}_getType(e){return mo(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:mo(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new bi,ctx:{common:e.parent.common,data:e.data,parsedType:mo(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(N0(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:mo(e)},i=this._parseSync({data:e,path:n.path,parent:n});return tD(n,i)}"~validate"(e){var n,i;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:mo(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:r});return ef(a)?{value:a.value}:{issues:r.common.issues}}catch(a){(i=(n=a==null?void 0:a.message)==null?void 0:n.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(a=>ef(a)?{value:a.value}:{issues:r.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:mo(e)},i=this._parse({data:e,path:n.path,parent:n}),a=await(N0(i)?i:Promise.resolve(i));return tD(n,a)}refine(e,r){const n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,a)=>{const s=e(i),o=()=>a.addIssue({code:he.custom,...n(i)});return typeof Promise<"u"&&s instanceof Promise?s.then(l=>l?!0:(o(),!1)):s?!0:(o(),!1)})}refinement(e,r){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(e){return new nf({schema:this,typeName:Je.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return nl.create(this,this._def)}nullable(){return af.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Fa.create(this)}promise(){return M0.create(this,this._def)}or(e){return R0.create([this,e],this._def)}and(e){return D0.create(this,e,this._def)}transform(e){return new nf({...ut(this._def),schema:this,typeName:Je.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new AS({...ut(this._def),innerType:this,defaultValue:r,typeName:Je.ZodDefault})}brand(){return new LPe({typeName:Je.ZodBranded,type:this,...ut(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new TS({...ut(this._def),innerType:this,catchValue:r,typeName:Je.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return zP.create(this,e)}readonly(){return PS.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const yPe=/^c[^\s-]{8,}$/i,gPe=/^[0-9a-z]+$/,vPe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,xPe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,bPe=/^[a-z0-9_-]{21}$/i,wPe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,_Pe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,EPe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,SPe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let t_;const APe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,TPe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,PPe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,OPe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,IPe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,CPe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,dU="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",kPe=new RegExp(`^${dU}$`);function fU(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function NPe(t){return new RegExp(`^${fU(t)}$`)}function jPe(t){let e=`${dU}T${fU(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function RPe(t,e){return!!((e==="v4"||!e)&&APe.test(t)||(e==="v6"||!e)&&PPe.test(t))}function DPe(t,e){if(!wPe.test(t))return!1;try{const[r]=t.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function MPe(t,e){return!!((e==="v4"||!e)&&TPe.test(t)||(e==="v6"||!e)&&OPe.test(t))}class bs extends _t{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ke.string){const a=this._getOrReturnCtx(e);return we(a,{code:he.invalid_type,expected:ke.string,received:a.parsedType}),Ze}const n=new bi;let i;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(i=this._getOrReturnCtx(e,i),we(i,{code:he.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")e.data.length>a.value&&(i=this._getOrReturnCtx(e,i),we(i,{code:he.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){const s=e.data.length>a.value,o=e.data.length<a.value;(s||o)&&(i=this._getOrReturnCtx(e,i),s?we(i,{code:he.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):o&&we(i,{code:he.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")EPe.test(e.data)||(i=this._getOrReturnCtx(e,i),we(i,{validation:"email",code:he.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")t_||(t_=new RegExp(SPe,"u")),t_.test(e.data)||(i=this._getOrReturnCtx(e,i),we(i,{validation:"emoji",code:he.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")xPe.test(e.data)||(i=this._getOrReturnCtx(e,i),we(i,{validation:"uuid",code:he.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")bPe.test(e.data)||(i=this._getOrReturnCtx(e,i),we(i,{validation:"nanoid",code:he.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")yPe.test(e.data)||(i=this._getOrReturnCtx(e,i),we(i,{validation:"cuid",code:he.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")gPe.test(e.data)||(i=this._getOrReturnCtx(e,i),we(i,{validation:"cuid2",code:he.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")vPe.test(e.data)||(i=this._getOrReturnCtx(e,i),we(i,{validation:"ulid",code:he.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),we(i,{validation:"url",code:he.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),we(i,{validation:"regex",code:he.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(e,i),we(i,{code:he.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(i=this._getOrReturnCtx(e,i),we(i,{code:he.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(i=this._getOrReturnCtx(e,i),we(i,{code:he.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?jPe(a).test(e.data)||(i=this._getOrReturnCtx(e,i),we(i,{code:he.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?kPe.test(e.data)||(i=this._getOrReturnCtx(e,i),we(i,{code:he.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?NPe(a).test(e.data)||(i=this._getOrReturnCtx(e,i),we(i,{code:he.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?_Pe.test(e.data)||(i=this._getOrReturnCtx(e,i),we(i,{validation:"duration",code:he.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?RPe(e.data,a.version)||(i=this._getOrReturnCtx(e,i),we(i,{validation:"ip",code:he.invalid_string,message:a.message}),n.dirty()):a.kind==="jwt"?DPe(e.data,a.alg)||(i=this._getOrReturnCtx(e,i),we(i,{validation:"jwt",code:he.invalid_string,message:a.message}),n.dirty()):a.kind==="cidr"?MPe(e.data,a.version)||(i=this._getOrReturnCtx(e,i),we(i,{validation:"cidr",code:he.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?IPe.test(e.data)||(i=this._getOrReturnCtx(e,i),we(i,{validation:"base64",code:he.invalid_string,message:a.message}),n.dirty()):a.kind==="base64url"?CPe.test(e.data)||(i=this._getOrReturnCtx(e,i),we(i,{validation:"base64url",code:he.invalid_string,message:a.message}),n.dirty()):At.assertNever(a);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(i=>e.test(i),{validation:r,code:he.invalid_string,...Re.errToObj(n)})}_addCheck(e){return new bs({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Re.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Re.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Re.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Re.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Re.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Re.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Re.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Re.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Re.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Re.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Re.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Re.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Re.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...Re.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Re.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Re.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...Re.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...Re.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...Re.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...Re.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...Re.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...Re.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...Re.errToObj(r)})}nonempty(e){return this.min(1,Re.errToObj(e))}trim(){return new bs({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new bs({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new bs({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}bs.create=t=>new bs({checks:[],typeName:Je.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...ut(t)});function $Pe(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=r>n?r:n,a=Number.parseInt(t.toFixed(i).replace(".","")),s=Number.parseInt(e.toFixed(i).replace(".",""));return a%s/10**i}class Bu extends _t{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ke.number){const a=this._getOrReturnCtx(e);return we(a,{code:he.invalid_type,expected:ke.number,received:a.parsedType}),Ze}let n;const i=new bi;for(const a of this._def.checks)a.kind==="int"?At.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),we(n,{code:he.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),we(n,{code:he.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),we(n,{code:he.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?$Pe(e.data,a.value)!==0&&(n=this._getOrReturnCtx(e,n),we(n,{code:he.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),we(n,{code:he.not_finite,message:a.message}),i.dirty()):At.assertNever(a);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,Re.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Re.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Re.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Re.toString(r))}setLimit(e,r,n,i){return new Bu({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Re.toString(i)}]})}_addCheck(e){return new Bu({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Re.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Re.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Re.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Re.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Re.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Re.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:Re.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Re.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Re.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&At.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}Bu.create=t=>new Bu({checks:[],typeName:Je.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...ut(t)});class Uu extends _t{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==ke.bigint)return this._getInvalidInput(e);let n;const i=new bi;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),we(n,{code:he.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),we(n,{code:he.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),we(n,{code:he.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):At.assertNever(a);return{status:i.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return we(r,{code:he.invalid_type,expected:ke.bigint,received:r.parsedType}),Ze}gte(e,r){return this.setLimit("min",e,!0,Re.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Re.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Re.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Re.toString(r))}setLimit(e,r,n,i){return new Uu({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Re.toString(i)}]})}_addCheck(e){return new Uu({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Re.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Re.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Re.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Re.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Re.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Uu.create=t=>new Uu({checks:[],typeName:Je.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...ut(t)});class j0 extends _t{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ke.boolean){const n=this._getOrReturnCtx(e);return we(n,{code:he.invalid_type,expected:ke.boolean,received:n.parsedType}),Ze}return Bi(e.data)}}j0.create=t=>new j0({typeName:Je.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...ut(t)});class tf extends _t{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ke.date){const a=this._getOrReturnCtx(e);return we(a,{code:he.invalid_type,expected:ke.date,received:a.parsedType}),Ze}if(Number.isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return we(a,{code:he.invalid_date}),Ze}const n=new bi;let i;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(i=this._getOrReturnCtx(e,i),we(i,{code:he.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(i=this._getOrReturnCtx(e,i),we(i,{code:he.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):At.assertNever(a);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new tf({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:Re.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:Re.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}tf.create=t=>new tf({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Je.ZodDate,...ut(t)});class rD extends _t{_parse(e){if(this._getType(e)!==ke.symbol){const n=this._getOrReturnCtx(e);return we(n,{code:he.invalid_type,expected:ke.symbol,received:n.parsedType}),Ze}return Bi(e.data)}}rD.create=t=>new rD({typeName:Je.ZodSymbol,...ut(t)});class nD extends _t{_parse(e){if(this._getType(e)!==ke.undefined){const n=this._getOrReturnCtx(e);return we(n,{code:he.invalid_type,expected:ke.undefined,received:n.parsedType}),Ze}return Bi(e.data)}}nD.create=t=>new nD({typeName:Je.ZodUndefined,...ut(t)});class iD extends _t{_parse(e){if(this._getType(e)!==ke.null){const n=this._getOrReturnCtx(e);return we(n,{code:he.invalid_type,expected:ke.null,received:n.parsedType}),Ze}return Bi(e.data)}}iD.create=t=>new iD({typeName:Je.ZodNull,...ut(t)});class aD extends _t{constructor(){super(...arguments),this._any=!0}_parse(e){return Bi(e.data)}}aD.create=t=>new aD({typeName:Je.ZodAny,...ut(t)});class sD extends _t{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Bi(e.data)}}sD.create=t=>new sD({typeName:Je.ZodUnknown,...ut(t)});class dl extends _t{_parse(e){const r=this._getOrReturnCtx(e);return we(r,{code:he.invalid_type,expected:ke.never,received:r.parsedType}),Ze}}dl.create=t=>new dl({typeName:Je.ZodNever,...ut(t)});class oD extends _t{_parse(e){if(this._getType(e)!==ke.undefined){const n=this._getOrReturnCtx(e);return we(n,{code:he.invalid_type,expected:ke.void,received:n.parsedType}),Ze}return Bi(e.data)}}oD.create=t=>new oD({typeName:Je.ZodVoid,...ut(t)});class Fa extends _t{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),i=this._def;if(r.parsedType!==ke.array)return we(r,{code:he.invalid_type,expected:ke.array,received:r.parsedType}),Ze;if(i.exactLength!==null){const s=r.data.length>i.exactLength.value,o=r.data.length<i.exactLength.value;(s||o)&&(we(r,{code:s?he.too_big:he.too_small,minimum:o?i.exactLength.value:void 0,maximum:s?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(we(r,{code:he.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(we(r,{code:he.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((s,o)=>i.type._parseAsync(new cl(r,s,r.path,o)))).then(s=>bi.mergeArray(n,s));const a=[...r.data].map((s,o)=>i.type._parseSync(new cl(r,s,r.path,o)));return bi.mergeArray(n,a)}get element(){return this._def.type}min(e,r){return new Fa({...this._def,minLength:{value:e,message:Re.toString(r)}})}max(e,r){return new Fa({...this._def,maxLength:{value:e,message:Re.toString(r)}})}length(e,r){return new Fa({...this._def,exactLength:{value:e,message:Re.toString(r)}})}nonempty(e){return this.min(1,e)}}Fa.create=(t,e)=>new Fa({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Je.ZodArray,...ut(e)});function xc(t){if(t instanceof Pr){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=nl.create(xc(n))}return new Pr({...t._def,shape:()=>e})}else return t instanceof Fa?new Fa({...t._def,type:xc(t.element)}):t instanceof nl?nl.create(xc(t.unwrap())):t instanceof af?af.create(xc(t.unwrap())):t instanceof zu?zu.create(t.items.map(e=>xc(e))):t}class Pr extends _t{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=At.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==ke.object){const u=this._getOrReturnCtx(e);return we(u,{code:he.invalid_type,expected:ke.object,received:u.parsedType}),Ze}const{status:n,ctx:i}=this._processInputParams(e),{shape:a,keys:s}=this._getCached(),o=[];if(!(this._def.catchall instanceof dl&&this._def.unknownKeys==="strip"))for(const u in i.data)s.includes(u)||o.push(u);const l=[];for(const u of s){const c=a[u],d=i.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new cl(i,d,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof dl){const u=this._def.unknownKeys;if(u==="passthrough")for(const c of o)l.push({key:{status:"valid",value:c},value:{status:"valid",value:i.data[c]}});else if(u==="strict")o.length>0&&(we(i,{code:he.unrecognized_keys,keys:o}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const c of o){const d=i.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new cl(i,d,i.path,c)),alwaysSet:c in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const u=[];for(const c of l){const d=await c.key,h=await c.value;u.push({key:d,value:h,alwaysSet:c.alwaysSet})}return u}).then(u=>bi.mergeObjectSync(n,u)):bi.mergeObjectSync(n,l)}get shape(){return this._def.shape()}strict(e){return Re.errToObj,new Pr({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var a,s;const i=((s=(a=this._def).errorMap)==null?void 0:s.call(a,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:Re.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new Pr({...this._def,unknownKeys:"strip"})}passthrough(){return new Pr({...this._def,unknownKeys:"passthrough"})}extend(e){return new Pr({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Pr({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Je.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new Pr({...this._def,catchall:e})}pick(e){const r={};for(const n of At.objectKeys(e))e[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Pr({...this._def,shape:()=>r})}omit(e){const r={};for(const n of At.objectKeys(this.shape))e[n]||(r[n]=this.shape[n]);return new Pr({...this._def,shape:()=>r})}deepPartial(){return xc(this)}partial(e){const r={};for(const n of At.objectKeys(this.shape)){const i=this.shape[n];e&&!e[n]?r[n]=i:r[n]=i.optional()}return new Pr({...this._def,shape:()=>r})}required(e){const r={};for(const n of At.objectKeys(this.shape))if(e&&!e[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof nl;)a=a._def.innerType;r[n]=a}return new Pr({...this._def,shape:()=>r})}keyof(){return hU(At.objectKeys(this.shape))}}Pr.create=(t,e)=>new Pr({shape:()=>t,unknownKeys:"strip",catchall:dl.create(),typeName:Je.ZodObject,...ut(e)});Pr.strictCreate=(t,e)=>new Pr({shape:()=>t,unknownKeys:"strict",catchall:dl.create(),typeName:Je.ZodObject,...ut(e)});Pr.lazycreate=(t,e)=>new Pr({shape:t,unknownKeys:"strip",catchall:dl.create(),typeName:Je.ZodObject,...ut(e)});class R0 extends _t{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function i(a){for(const o of a)if(o.result.status==="valid")return o.result;for(const o of a)if(o.result.status==="dirty")return r.common.issues.push(...o.ctx.common.issues),o.result;const s=a.map(o=>new Us(o.ctx.common.issues));return we(r,{code:he.invalid_union,unionErrors:s}),Ze}if(r.common.async)return Promise.all(n.map(async a=>{const s={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:s}),ctx:s}})).then(i);{let a;const s=[];for(const l of n){const u={...r,common:{...r.common,issues:[]},parent:null},c=l._parseSync({data:r.data,path:r.path,parent:u});if(c.status==="valid")return c;c.status==="dirty"&&!a&&(a={result:c,ctx:u}),u.common.issues.length&&s.push(u.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(l=>new Us(l));return we(r,{code:he.invalid_union,unionErrors:o}),Ze}}get options(){return this._def.options}}R0.create=(t,e)=>new R0({options:t,typeName:Je.ZodUnion,...ut(e)});function ES(t,e){const r=mo(t),n=mo(e);if(t===e)return{valid:!0,data:t};if(r===ke.object&&n===ke.object){const i=At.objectKeys(e),a=At.objectKeys(t).filter(o=>i.indexOf(o)!==-1),s={...t,...e};for(const o of a){const l=ES(t[o],e[o]);if(!l.valid)return{valid:!1};s[o]=l.data}return{valid:!0,data:s}}else if(r===ke.array&&n===ke.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let a=0;a<t.length;a++){const s=t[a],o=e[a],l=ES(s,o);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return r===ke.date&&n===ke.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class D0 extends _t{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=(a,s)=>{if(JR(a)||JR(s))return Ze;const o=ES(a.value,s.value);return o.valid?((eD(a)||eD(s))&&r.dirty(),{status:r.value,value:o.data}):(we(n,{code:he.invalid_intersection_types}),Ze)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,s])=>i(a,s)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}D0.create=(t,e,r)=>new D0({left:t,right:e,typeName:Je.ZodIntersection,...ut(r)});class zu extends _t{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==ke.array)return we(n,{code:he.invalid_type,expected:ke.array,received:n.parsedType}),Ze;if(n.data.length<this._def.items.length)return we(n,{code:he.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ze;!this._def.rest&&n.data.length>this._def.items.length&&(we(n,{code:he.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...n.data].map((s,o)=>{const l=this._def.items[o]||this._def.rest;return l?l._parse(new cl(n,s,n.path,o)):null}).filter(s=>!!s);return n.common.async?Promise.all(a).then(s=>bi.mergeArray(r,s)):bi.mergeArray(r,a)}get items(){return this._def.items}rest(e){return new zu({...this._def,rest:e})}}zu.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new zu({items:t,typeName:Je.ZodTuple,rest:null,...ut(e)})};class lD extends _t{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==ke.map)return we(n,{code:he.invalid_type,expected:ke.map,received:n.parsedType}),Ze;const i=this._def.keyType,a=this._def.valueType,s=[...n.data.entries()].map(([o,l],u)=>({key:i._parse(new cl(n,o,n.path,[u,"key"])),value:a._parse(new cl(n,l,n.path,[u,"value"]))}));if(n.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const l of s){const u=await l.key,c=await l.value;if(u.status==="aborted"||c.status==="aborted")return Ze;(u.status==="dirty"||c.status==="dirty")&&r.dirty(),o.set(u.value,c.value)}return{status:r.value,value:o}})}else{const o=new Map;for(const l of s){const u=l.key,c=l.value;if(u.status==="aborted"||c.status==="aborted")return Ze;(u.status==="dirty"||c.status==="dirty")&&r.dirty(),o.set(u.value,c.value)}return{status:r.value,value:o}}}}lD.create=(t,e,r)=>new lD({valueType:e,keyType:t,typeName:Je.ZodMap,...ut(r)});class ym extends _t{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==ke.set)return we(n,{code:he.invalid_type,expected:ke.set,received:n.parsedType}),Ze;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(we(n,{code:he.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(we(n,{code:he.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const a=this._def.valueType;function s(l){const u=new Set;for(const c of l){if(c.status==="aborted")return Ze;c.status==="dirty"&&r.dirty(),u.add(c.value)}return{status:r.value,value:u}}const o=[...n.data.values()].map((l,u)=>a._parse(new cl(n,l,n.path,u)));return n.common.async?Promise.all(o).then(l=>s(l)):s(o)}min(e,r){return new ym({...this._def,minSize:{value:e,message:Re.toString(r)}})}max(e,r){return new ym({...this._def,maxSize:{value:e,message:Re.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}ym.create=(t,e)=>new ym({valueType:t,minSize:null,maxSize:null,typeName:Je.ZodSet,...ut(e)});class uD extends _t{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}uD.create=(t,e)=>new uD({getter:t,typeName:Je.ZodLazy,...ut(e)});class SS extends _t{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return we(r,{received:r.data,code:he.invalid_literal,expected:this._def.value}),Ze}return{status:"valid",value:e.data}}get value(){return this._def.value}}SS.create=(t,e)=>new SS({value:t,typeName:Je.ZodLiteral,...ut(e)});function hU(t,e){return new rf({values:t,typeName:Je.ZodEnum,...ut(e)})}class rf extends _t{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return we(r,{expected:At.joinValues(n),received:r.parsedType,code:he.invalid_type}),Ze}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return we(r,{received:r.data,code:he.invalid_enum_value,options:n}),Ze}return Bi(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return rf.create(e,{...this._def,...r})}exclude(e,r=this._def){return rf.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}rf.create=hU;class cD extends _t{_parse(e){const r=At.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==ke.string&&n.parsedType!==ke.number){const i=At.objectValues(r);return we(n,{expected:At.joinValues(i),received:n.parsedType,code:he.invalid_type}),Ze}if(this._cache||(this._cache=new Set(At.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=At.objectValues(r);return we(n,{received:n.data,code:he.invalid_enum_value,options:i}),Ze}return Bi(e.data)}get enum(){return this._def.values}}cD.create=(t,e)=>new cD({values:t,typeName:Je.ZodNativeEnum,...ut(e)});class M0 extends _t{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==ke.promise&&r.common.async===!1)return we(r,{code:he.invalid_type,expected:ke.promise,received:r.parsedType}),Ze;const n=r.parsedType===ke.promise?r.data:Promise.resolve(r.data);return Bi(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}M0.create=(t,e)=>new M0({type:t,typeName:Je.ZodPromise,...ut(e)});class nf extends _t{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Je.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:s=>{we(n,s),s.fatal?r.abort():r.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const s=i.transform(n.data,a);if(n.common.async)return Promise.resolve(s).then(async o=>{if(r.value==="aborted")return Ze;const l=await this._def.schema._parseAsync({data:o,path:n.path,parent:n});return l.status==="aborted"?Ze:l.status==="dirty"||r.value==="dirty"?Nh(l.value):l});{if(r.value==="aborted")return Ze;const o=this._def.schema._parseSync({data:s,path:n.path,parent:n});return o.status==="aborted"?Ze:o.status==="dirty"||r.value==="dirty"?Nh(o.value):o}}if(i.type==="refinement"){const s=o=>{const l=i.refinement(o,a);if(n.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?Ze:(o.status==="dirty"&&r.dirty(),s(o.value),{status:r.value,value:o.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>o.status==="aborted"?Ze:(o.status==="dirty"&&r.dirty(),s(o.value).then(()=>({status:r.value,value:o.value}))))}if(i.type==="transform")if(n.common.async===!1){const s=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!ef(s))return Ze;const o=i.transform(s.value,a);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:o}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(s=>ef(s)?Promise.resolve(i.transform(s.value,a)).then(o=>({status:r.value,value:o})):Ze);At.assertNever(i)}}nf.create=(t,e,r)=>new nf({schema:t,typeName:Je.ZodEffects,effect:e,...ut(r)});nf.createWithPreprocess=(t,e,r)=>new nf({schema:e,effect:{type:"preprocess",transform:t},typeName:Je.ZodEffects,...ut(r)});class nl extends _t{_parse(e){return this._getType(e)===ke.undefined?Bi(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}nl.create=(t,e)=>new nl({innerType:t,typeName:Je.ZodOptional,...ut(e)});class af extends _t{_parse(e){return this._getType(e)===ke.null?Bi(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}af.create=(t,e)=>new af({innerType:t,typeName:Je.ZodNullable,...ut(e)});class AS extends _t{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===ke.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}AS.create=(t,e)=>new AS({innerType:t,typeName:Je.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...ut(e)});class TS extends _t{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return N0(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Us(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Us(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}TS.create=(t,e)=>new TS({innerType:t,typeName:Je.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...ut(e)});class dD extends _t{_parse(e){if(this._getType(e)!==ke.nan){const n=this._getOrReturnCtx(e);return we(n,{code:he.invalid_type,expected:ke.nan,received:n.parsedType}),Ze}return{status:"valid",value:e.data}}}dD.create=t=>new dD({typeName:Je.ZodNaN,...ut(t)});class LPe extends _t{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class zP extends _t{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Ze:a.status==="dirty"?(r.dirty(),Nh(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Ze:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,r){return new zP({in:e,out:r,typeName:Je.ZodPipeline})}}class PS extends _t{_parse(e){const r=this._def.innerType._parse(e),n=i=>(ef(i)&&(i.value=Object.freeze(i.value)),i);return N0(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}}PS.create=(t,e)=>new PS({innerType:t,typeName:Je.ZodReadonly,...ut(e)});var Je;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Je||(Je={}));const Jt=bs.create;Bu.create;Uu.create;j0.create;tf.create;dl.create;const FPe=Fa.create,Mf=Pr.create,VPe=R0.create;D0.create;zu.create;const BPe=SS.create,$0=rf.create;M0.create;nl.create;af.create;const Wu={string:t=>bs.create({...t,coerce:!0}),number:t=>Bu.create({...t,coerce:!0}),boolean:t=>j0.create({...t,coerce:!0}),bigint:t=>Uu.create({...t,coerce:!0}),date:t=>tf.create({...t,coerce:!0})},UPe=Mf({type:$0(["income","expense","transfer"]),amount:Wu.number().min(.01,"Amount must be greater than 0"),method:Jt().min(1,"Select method"),linkedType:VPe([$0(["order","expense","capital"]),BPe("")]).optional(),linkedId:Jt().optional(),notes:Jt().optional(),date:Jt().min(1,"Select date")}),zPe=({open:t,onClose:e})=>{const r=fn(),n=qs(),{register:i,handleSubmit:a,reset:s,formState:{errors:o,isSubmitting:l}}=Rf({resolver:Df(UPe),defaultValues:{type:"income",method:"cash",date:Me().format("YYYY-MM-DDTHH:mm"),linkedId:"",linkedType:"",notes:""}}),u=async c=>{const{linkedType:d,...h}=c,p=d&&d.length>0?d:void 0;await RJ(r.workspaceId,r.orgId,{...h,linkedType:p,createdAt:new Date(c.date)}),await n.invalidateQueries({queryKey:["finance-transactions"]}),await n.invalidateQueries({queryKey:["finance-overview"]}),s({type:"income",method:"cash",date:Me().format("YYYY-MM-DDTHH:mm"),linkedId:"",linkedType:"",notes:""}),e()};return m.jsx(jt.Root,{show:t,as:T.Fragment,children:m.jsxs(or,{as:"div",className:"relative z-40",onClose:e,children:[m.jsx(jt.Child,{as:T.Fragment,enter:"ease-out duration-200",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-150",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:m.jsx("div",{className:"fixed inset-0 bg-black/40"})}),m.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:m.jsx("div",{className:"flex min-h-full items-center justify-center p-6 text-center",children:m.jsx(jt.Child,{as:T.Fragment,enter:"ease-out duration-200",enterFrom:"opacity-0 translate-y-4",enterTo:"opacity-100 translate-y-0",leave:"ease-in duration-150",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 translate-y-4",children:m.jsxs(or.Panel,{className:"w-full max-w-2xl transform overflow-hidden rounded-3xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[m.jsx(or.Title,{className:"text-lg font-semibold text-primary",children:"Add Transaction"}),m.jsxs("form",{className:"mt-4 space-y-4",onSubmit:a(u),children:[m.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium text-madas-text/70",children:"Type"}),m.jsxs("select",{...i("type"),className:"mt-1 w-full rounded-xl border border-primary/20 bg-white px-3 py-2 text-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30",children:[m.jsx("option",{value:"income",children:"Income"}),m.jsx("option",{value:"expense",children:"Expense"}),m.jsx("option",{value:"transfer",children:"Transfer"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium text-madas-text/70",children:"Method"}),m.jsxs("select",{...i("method"),className:"mt-1 w-full rounded-xl border border-primary/20 bg-white px-3 py-2 text-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30",children:[m.jsx("option",{value:"cash",children:"Cash"}),m.jsx("option",{value:"card",children:"Card"}),m.jsx("option",{value:"bank_transfer",children:"Bank Transfer"}),m.jsx("option",{value:"online_gateway",children:"Online Gateway"})]})]})]}),m.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium text-madas-text/70",children:"Amount"}),m.jsx("input",{type:"number",step:"0.01",...i("amount"),className:"mt-1 w-full rounded-xl border border-primary/20 bg-white px-3 py-2 text-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30"}),o.amount?m.jsx("p",{className:"mt-1 text-xs text-danger",children:o.amount.message}):null]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium text-madas-text/70",children:"Date"}),m.jsx("input",{type:"datetime-local",...i("date"),defaultValue:Me().format("YYYY-MM-DDTHH:mm"),className:"mt-1 w-full rounded-xl border border-primary/20 bg-white px-3 py-2 text-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30"}),o.date?m.jsx("p",{className:"mt-1 text-xs text-danger",children:o.date.message}):null]})]}),m.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium text-madas-text/70",children:"Linked entity"}),m.jsxs("select",{...i("linkedType"),className:"mt-1 w-full rounded-xl border border-primary/20 bg-white px-3 py-2 text-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30",children:[m.jsx("option",{value:"",children:"None"}),m.jsx("option",{value:"order",children:"Order"}),m.jsx("option",{value:"expense",children:"Expense"}),m.jsx("option",{value:"capital",children:"Capital"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium text-madas-text/70",children:"Reference ID"}),m.jsx("input",{type:"text",...i("linkedId"),placeholder:"e.g. ORD-2024-001",className:"mt-1 w-full rounded-xl border border-primary/20 bg-white px-3 py-2 text-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium text-madas-text/70",children:"Notes"}),m.jsx("textarea",{...i("notes"),rows:3,className:"mt-1 w-full rounded-xl border border-primary/20 bg-white px-3 py-2 text-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30"})]}),m.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4",children:[m.jsx("button",{type:"button",onClick:e,className:"rounded-xl bg-white px-4 py-2 text-sm font-semibold text-primary shadow hover:bg-primary/10",children:"Cancel"}),m.jsx("button",{type:"submit",disabled:l,className:"rounded-xl bg-primary px-4 py-2 text-sm font-semibold text-white hover:bg-primary/90 disabled:opacity-60",children:l?"Saving...":"Save transaction"})]})]})]})})})})]})})},WPe=()=>{const t=fn(),[e]=T.useState({start:Me().subtract(29,"day"),end:Me()}),[r,n]=T.useState({type:"all",method:"all"}),[i,a]=T.useState(!1),s=LTe({range:e,type:r.type,method:r.method}),o=qs(),l=async()=>{await o.invalidateQueries({queryKey:["finance-transactions"]})};return m.jsxs("section",{className:"space-y-6",children:[m.jsxs("header",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-3xl font-bold text-primary",children:"Transactions"}),m.jsxs("p",{className:"text-sm text-madas-text/70",children:["Unified ledger for all income, expenses and transfers scoped to tenant ",m.jsx("strong",{children:t.tenantName}),"."]})]}),m.jsxs("div",{className:"flex flex-wrap gap-3",children:[m.jsx(BTe,{type:r.type,onTypeChange:u=>n(c=>({...c,type:u})),method:r.method,onMethodChange:u=>n(c=>({...c,method:u}))}),m.jsx("button",{onClick:()=>a(!0),className:"rounded-2xl bg-primary px-4 py-2 text-sm font-semibold text-white hover:bg-primary/90 transition",children:"+ Add Transaction"})]})]}),m.jsx("div",{className:"glass-card overflow-hidden",children:m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"min-w-full divide-y divide-primary/10",children:[m.jsx("thead",{className:"bg-primary/5 text-xs uppercase tracking-wide text-primary",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-4 py-3 text-left",children:"ID"}),m.jsx("th",{className:"px-4 py-3 text-left",children:"Type"}),m.jsx("th",{className:"px-4 py-3 text-left",children:"Amount"}),m.jsx("th",{className:"px-4 py-3 text-left",children:"Method"}),m.jsx("th",{className:"px-4 py-3 text-left",children:"Linked"}),m.jsx("th",{className:"px-4 py-3 text-left",children:"User"}),m.jsx("th",{className:"px-4 py-3 text-left",children:"Date"}),m.jsx("th",{className:"px-4 py-3 text-left",children:"Actions"})]})}),m.jsx("tbody",{className:"divide-y divide-primary/10 text-sm text-madas-text",children:s.isLoading?m.jsx("tr",{children:m.jsx("td",{colSpan:8,className:"px-4 py-6 text-center text-madas-text/60",children:"Loading transactions..."})}):s.data&&s.data.length?s.data.map(u=>m.jsxs("tr",{className:"hover:bg-primary/5",children:[m.jsx("td",{className:"px-4 py-3 font-semibold text-primary",children:u.id}),m.jsx("td",{className:"px-4 py-3 capitalize",children:u.type}),m.jsx("td",{className:"px-4 py-3 font-semibold",children:it(u.amount,u.currency||"USD")}),m.jsx("td",{className:"px-4 py-3 capitalize",children:u.method.replace("_"," ")}),m.jsx("td",{className:"px-4 py-3",children:u.linkedType?`${u.linkedType}  ${u.linkedId}`:"Manual"}),m.jsx("td",{className:"px-4 py-3",children:u.userId??""}),m.jsx("td",{className:"px-4 py-3",children:Cx(u.createdAt.toDate())}),m.jsx("td",{className:"px-4 py-3",children:m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{className:"rounded-xl bg-white px-3 py-1 text-xs font-semibold text-primary shadow hover:bg-primary/10",children:"View"}),m.jsx("button",{className:"rounded-xl bg-white px-3 py-1 text-xs font-semibold text-primary shadow hover:bg-primary/10",children:"Edit"}),m.jsx("button",{onClick:l,className:"rounded-xl bg-danger/10 px-3 py-1 text-xs font-semibold text-danger hover:bg-danger/20",children:"Delete"})]})})]},u.id)):m.jsx("tr",{children:m.jsx("td",{colSpan:8,className:"px-4 py-6 text-center text-madas-text/60",children:"No transactions recorded in this period."})})})]})})}),m.jsx(zPe,{open:i,onClose:()=>a(!1)})]})},HPe=t=>{const e=fn();return yl({queryKey:["finance-payments",e.workspaceId,e.orgId,t.range.start.valueOf(),t.range.end.valueOf(),t.method,t.status],enabled:!e.loading,queryFn:()=>LJ(e.workspaceId,e.orgId,t.range,{method:t.method,status:t.status})})},qPe=[{id:"all",label:"All methods"},{id:"cash",label:"Cash"},{id:"card",label:"Card"},{id:"bank_transfer",label:"Bank Transfer"},{id:"online_gateway",label:"Online Gateway"}],KPe=[{id:"all",label:"All statuses"},{id:"pending",label:"Pending"},{id:"completed",label:"Completed"},{id:"failed",label:"Failed"},{id:"refunded",label:"Refunded"}],GPe=({method:t,onMethodChange:e,status:r,onStatusChange:n})=>m.jsxs("div",{className:"flex flex-wrap gap-3",children:[m.jsx(fD,{label:"Method",value:t,options:qPe,onChange:e}),m.jsx(fD,{label:"Status",value:r,options:KPe,onChange:n})]}),fD=({label:t,value:e,options:r,onChange:n})=>{const i=r.find(a=>a.id===e)??r[0];return m.jsxs("div",{className:"space-y-1",children:[m.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-madas-text/60",children:t}),m.jsx(Cr,{value:i.id,onChange:n,children:m.jsxs("div",{className:"relative",children:[m.jsxs(Cr.Button,{className:"relative w-52 cursor-pointer rounded-2xl bg-white py-2 pl-3 pr-10 text-left shadow focus:outline-none",children:[m.jsx("span",{className:"block truncate text-sm font-medium text-primary",children:i.label}),m.jsx("span",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3",children:m.jsx(Im,{className:"h-5 w-5 text-primary/70"})})]}),m.jsx(jt,{as:T.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:m.jsx(Cr.Options,{className:"absolute mt-2 max-h-60 w-full overflow-auto rounded-2xl bg-white py-1 shadow-lg ring-1 ring-black/5 focus:outline-none",children:r.map(a=>m.jsx(Cr.Option,{value:a.id,className:({active:s})=>Be("relative cursor-pointer select-none py-2 pl-4 pr-4 text-sm",s?"bg-primary/10 text-primary":"text-madas-text"),children:a.label},a.id))})})]})})]})},YPe=Mf({amount:Wu.number().min(.01,"Amount must be greater than 0"),customerName:Jt().min(1,"Customer name is required"),method:Jt().min(1),status:$0(["pending","completed","failed","refunded"]).default("completed"),orderId:Jt().optional(),date:Jt().min(1,"Select date")}),QPe=({open:t,onClose:e})=>{const r=fn(),n=qs(),{register:i,handleSubmit:a,reset:s,formState:{errors:o,isSubmitting:l}}=Rf({resolver:Df(YPe),defaultValues:{method:"cash",status:"completed",date:Me().format("YYYY-MM-DDTHH:mm"),customerName:"",amount:0,orderId:""}}),u=async c=>{await DJ(r.workspaceId,r.orgId,{...c,createdAt:new Date(c.date)}),await n.invalidateQueries({queryKey:["finance-payments"]}),await n.invalidateQueries({queryKey:["finance-overview"]}),s({amount:0,customerName:"",method:"cash",status:"completed",orderId:"",date:Me().format("YYYY-MM-DDTHH:mm")}),e()};return m.jsx(jt.Root,{show:t,as:T.Fragment,children:m.jsxs(or,{as:"div",className:"relative z-40",onClose:e,children:[m.jsx(jt.Child,{as:T.Fragment,enter:"ease-out duration-200",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-150",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:m.jsx("div",{className:"fixed inset-0 bg-black/40"})}),m.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:m.jsx("div",{className:"flex min-h-full items-center justify-center p-6 text-center",children:m.jsx(jt.Child,{as:T.Fragment,enter:"ease-out duration-200",enterFrom:"opacity-0 translate-y-4",enterTo:"opacity-100 translate-y-0",leave:"ease-in duration-150",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 translate-y-4",children:m.jsxs(or.Panel,{className:"w-full max-w-xl transform overflow-hidden rounded-3xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[m.jsx(or.Title,{className:"text-lg font-semibold text-primary",children:"Record Payment"}),m.jsxs("form",{className:"mt-4 space-y-4",onSubmit:a(u),children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium text-madas-text/70",children:"Customer name"}),m.jsx("input",{type:"text",...i("customerName"),className:"mt-1 w-full rounded-xl border border-primary/20 bg-white px-3 py-2 text-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30"}),o.customerName?m.jsx("p",{className:"mt-1 text-xs text-danger",children:o.customerName.message}):null]}),m.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium text-madas-text/70",children:"Amount"}),m.jsx("input",{type:"number",step:"0.01",...i("amount"),className:"mt-1 w-full rounded-xl border border-primary/20 bg-white px-3 py-2 text-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30"}),o.amount?m.jsx("p",{className:"mt-1 text-xs text-danger",children:o.amount.message}):null]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium text-madas-text/70",children:"Received on"}),m.jsx("input",{type:"datetime-local",...i("date"),defaultValue:Me().format("YYYY-MM-DDTHH:mm"),className:"mt-1 w-full rounded-xl border border-primary/20 bg-white px-3 py-2 text-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30"}),o.date?m.jsx("p",{className:"mt-1 text-xs text-danger",children:o.date.message}):null]})]}),m.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium text-madas-text/70",children:"Method"}),m.jsxs("select",{...i("method"),className:"mt-1 w-full rounded-xl border border-primary/20 bg-white px-3 py-2 text-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30",children:[m.jsx("option",{value:"cash",children:"Cash"}),m.jsx("option",{value:"card",children:"Card"}),m.jsx("option",{value:"bank_transfer",children:"Bank Transfer"}),m.jsx("option",{value:"online_gateway",children:"Online Gateway"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium text-madas-text/70",children:"Status"}),m.jsxs("select",{...i("status"),className:"mt-1 w-full rounded-xl border border-primary/20 bg-white px-3 py-2 text-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30",children:[m.jsx("option",{value:"completed",children:"Completed"}),m.jsx("option",{value:"pending",children:"Pending"}),m.jsx("option",{value:"failed",children:"Failed"}),m.jsx("option",{value:"refunded",children:"Refunded"})]})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium text-madas-text/70",children:"Linked order (optional)"}),m.jsx("input",{type:"text",...i("orderId"),placeholder:"e.g. ORD-2024-001",className:"mt-1 w-full rounded-xl border border-primary/20 bg-white px-3 py-2 text-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30"})]}),m.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4",children:[m.jsx("button",{type:"button",onClick:e,className:"rounded-xl bg-white px-4 py-2 text-sm font-semibold text-primary shadow hover:bg-primary/10",children:"Cancel"}),m.jsx("button",{type:"submit",disabled:l,className:"rounded-xl bg-primary px-4 py-2 text-sm font-semibold text-white hover:bg-primary/90 disabled:opacity-60",children:l?"Saving...":"Save payment"})]})]})]})})})})]})})},XPe=()=>{const[t]=T.useState({start:Me().subtract(29,"day"),end:Me()}),[e,r]=T.useState({method:"all",status:"all"}),[n,i]=T.useState(!1),a=HPe({range:t,method:e.method,status:e.status});return m.jsxs("section",{className:"space-y-6",children:[m.jsxs("header",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-3xl font-bold text-primary",children:"Payments"}),m.jsx("p",{className:"text-sm text-madas-text/70",children:"Track incoming payments, link to orders, manage refunds and payment statuses."})]}),m.jsxs("div",{className:"flex flex-wrap gap-3",children:[m.jsx(GPe,{method:e.method,onMethodChange:s=>r(o=>({...o,method:s})),status:e.status,onStatusChange:s=>r(o=>({...o,status:s}))}),m.jsx("button",{onClick:()=>i(!0),className:"rounded-2xl bg-primary px-4 py-2 text-sm font-semibold text-white hover:bg-primary/90 transition",children:"+ Record Payment"})]})]}),m.jsx("div",{className:"glass-card overflow-hidden",children:m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"min-w-full divide-y divide-primary/10",children:[m.jsx("thead",{className:"bg-accent/10 text-xs uppercase tracking-wide text-primary",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-4 py-3 text-left",children:"Date"}),m.jsx("th",{className:"px-4 py-3 text-left",children:"Customer"}),m.jsx("th",{className:"px-4 py-3 text-left",children:"Amount"}),m.jsx("th",{className:"px-4 py-3 text-left",children:"Method"}),m.jsx("th",{className:"px-4 py-3 text-left",children:"Status"}),m.jsx("th",{className:"px-4 py-3 text-left",children:"Linked Order"}),m.jsx("th",{className:"px-4 py-3 text-left",children:"Actions"})]})}),m.jsx("tbody",{className:"divide-y divide-primary/10 text-sm text-madas-text",children:a.isLoading?m.jsx("tr",{children:m.jsx("td",{colSpan:7,className:"px-4 py-6 text-center text-madas-text/60",children:"Loading payments..."})}):a.data&&a.data.length?a.data.map(s=>m.jsxs("tr",{className:"hover:bg-accent/10",children:[m.jsx("td",{className:"px-4 py-3",children:Cx(s.createdAt.toDate())}),m.jsx("td",{className:"px-4 py-3",children:s.customerName??"Walk-in"}),m.jsx("td",{className:"px-4 py-3 font-semibold",children:it(s.amount,s.currency||"USD")}),m.jsx("td",{className:"px-4 py-3 capitalize",children:s.method.replace("_"," ")}),m.jsx("td",{className:"px-4 py-3 capitalize",children:m.jsx("span",{className:`rounded-full px-3 py-1 text-xs font-semibold ${s.status==="completed"?"bg-success/10 text-success":s.status==="pending"?"bg-primary/10 text-primary":s.status==="refunded"?"bg-accent/10 text-primary":"bg-danger/10 text-danger"}`,children:s.status})}),m.jsx("td",{className:"px-4 py-3",children:s.orderId??""}),m.jsx("td",{className:"px-4 py-3",children:m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{className:"rounded-xl bg-white px-3 py-1 text-xs font-semibold text-primary shadow hover:bg-primary/10",children:"View"}),m.jsx("button",{className:"rounded-xl bg-white px-3 py-1 text-xs font-semibold text-primary shadow hover:bg-primary/10",children:"Refund"})]})})]},s.id)):m.jsx("tr",{children:m.jsx("td",{colSpan:7,className:"px-4 py-6 text-center text-madas-text/60",children:"No payments recorded in this period."})})})]})})}),m.jsx(QPe,{open:n,onClose:()=>i(!1)})]})},ag=[{id:"30d",label:"Last 30 days",start:Me().subtract(29,"day"),end:Me()},{id:"60d",label:"Last 60 days",start:Me().subtract(59,"day"),end:Me()},{id:"3m",label:"Last 3 months",start:Me().subtract(3,"month"),end:Me()},{id:"ytd",label:"Year to date",start:Me().startOf("year"),end:Me()}],ZPe=({currentRangeId:t,onRangeChange:e,filters:r,onFiltersChange:n})=>{const i=ag.find(s=>s.id===t)??ag[0],a=T.useMemo(()=>Object.entries(r).filter(([,o])=>!!o).map(([o,l])=>({key:o,value:l??""})),[r]);return m.jsxs("div",{className:"glass-card flex flex-col gap-4 p-4 md:flex-row md:items-center md:justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-madas-text/60",children:"Filters"}),m.jsx("p",{className:"text-sm text-madas-text/70",children:a.length?`Active: ${a.map(s=>`${s.key}: ${s.value}`).join(", ")}`:"Select date range, vendor, category or status"})]}),m.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[m.jsx("div",{className:"relative",children:m.jsx(Cr,{value:t,onChange:s=>{const o=ag.find(l=>l.id===s);o&&e(o.id,o.start,o.end)},children:m.jsxs("div",{className:"relative",children:[m.jsxs(Cr.Button,{className:"w-48 cursor-pointer rounded-2xl bg-white py-2 pl-3 pr-10 text-left text-sm font-semibold text-primary shadow focus:outline-none",children:[i.label,m.jsx("span",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3",children:m.jsx(Im,{className:"h-5 w-5 text-primary/70"})})]}),m.jsx(jt,{as:T.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:m.jsx(Cr.Options,{className:"absolute z-10 mt-2 max-h-60 w-48 overflow-auto rounded-2xl bg-white py-1 text-sm shadow-lg ring-1 ring-black/5 focus:outline-none",children:ag.map(s=>m.jsx(Cr.Option,{value:s.id,className:({active:o})=>Be("cursor-pointer px-4 py-2",o?"bg-primary/10 text-primary":"text-madas-text"),children:s.label},s.id))})})]})})}),m.jsx("input",{placeholder:"Vendor",value:r.vendor??"",onChange:s=>n({...r,vendor:s.target.value||void 0}),className:"w-40 rounded-2xl border border-primary/10 bg-white px-3 py-2 text-sm shadow-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30"}),m.jsx("input",{placeholder:"Category",value:r.category??"",onChange:s=>n({...r,category:s.target.value||void 0}),className:"w-40 rounded-2xl border border-primary/10 bg-white px-3 py-2 text-sm shadow-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30"}),m.jsxs("select",{value:r.status??"all",onChange:s=>n({...r,status:s.target.value==="all"?void 0:s.target.value}),className:"w-36 rounded-2xl border border-primary/10 bg-white px-3 py-2 text-sm shadow-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30",children:[m.jsx("option",{value:"all",children:"All statuses"}),m.jsx("option",{value:"approved",children:"Approved"}),m.jsx("option",{value:"pending",children:"Pending"}),m.jsx("option",{value:"rejected",children:"Rejected"})]})]})]})},JPe=t=>{switch(t){case"approved":return"bg-success/10 text-success";case"pending":return"bg-primary/10 text-primary";case"rejected":return"bg-danger/10 text-danger";default:return"bg-madas-text/10 text-madas-text/70"}},eOe=({expenses:t,loading:e,currency:r,onRefresh:n})=>m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-semibold text-primary",children:"Expenses"}),m.jsx("p",{className:"text-xs text-madas-text/60",children:"Detailed view of every expense recorded for the selected period."})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:n,className:"rounded-xl bg-white px-3 py-1 text-xs font-semibold text-primary shadow hover:bg-primary/10",children:"Refresh"}),m.jsx("button",{className:"rounded-xl bg-white px-3 py-1 text-xs font-semibold text-primary shadow hover:bg-primary/10",children:"Export"})]})]}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"min-w-full divide-y divide-primary/10",children:[m.jsx("thead",{className:"bg-primary/5 text-xs uppercase tracking-wide text-primary",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-4 py-3 text-left",children:"Date"}),m.jsx("th",{className:"px-4 py-3 text-left",children:"Vendor"}),m.jsx("th",{className:"px-4 py-3 text-left",children:"Category"}),m.jsx("th",{className:"px-4 py-3 text-left",children:"Description"}),m.jsx("th",{className:"px-4 py-3 text-left",children:"Amount"}),m.jsx("th",{className:"px-4 py-3 text-left",children:"Status"}),m.jsx("th",{className:"px-4 py-3 text-left",children:"Actions"})]})}),m.jsx("tbody",{className:"divide-y divide-primary/10 text-sm text-madas-text",children:e?m.jsx("tr",{children:m.jsx("td",{colSpan:7,className:"px-4 py-6 text-center text-madas-text/60",children:"Loading expenses..."})}):t.length?t.map(i=>m.jsxs("tr",{className:"hover:bg-primary/5",children:[m.jsx("td",{className:"px-4 py-3",children:Cx(i.createdAt)}),m.jsx("td",{className:"px-4 py-3",children:i.vendorName??""}),m.jsx("td",{className:"px-4 py-3 capitalize",children:i.category}),m.jsx("td",{className:"px-4 py-3",children:i.description??""}),m.jsx("td",{className:"px-4 py-3 font-semibold",children:it(i.amount,i.currency||r)}),m.jsx("td",{className:"px-4 py-3",children:m.jsx("span",{className:`rounded-full px-3 py-1 text-xs font-semibold ${JPe(i.status)}`,children:i.status??"N/A"})}),m.jsx("td",{className:"px-4 py-3",children:m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{className:"rounded-xl bg-white px-3 py-1 text-xs font-semibold text-primary shadow hover:bg-primary/10",children:"View"}),m.jsx("button",{className:"rounded-xl bg-white px-3 py-1 text-xs font-semibold text-primary shadow hover:bg-primary/10",children:"Edit"})]})})]},i.id)):m.jsx("tr",{children:m.jsx("td",{colSpan:7,className:"px-4 py-6 text-center text-madas-text/60",children:"No expenses recorded for this period."})})})]})})]}),tOe=async(t,e,r,n)=>{const i=yr(qt,"workspaces",t,"organizations",e,"expenses"),a=at.fromMillis(r.start.startOf("day").valueOf()),s=at.fromMillis(r.end.endOf("day").valueOf());let o=mr(i,kt("createdAt",">=",a),kt("createdAt","<=",s),pa("createdAt","desc"));return n.vendor&&(o=mr(o,kt("vendorName","==",n.vendor))),n.category&&(o=mr(o,kt("category","==",n.category))),n.status&&(o=mr(o,kt("status","==",n.status))),(await On(o)).docs.map(u=>({id:u.id,...u.data()}))},rOe=async(t,e,r)=>{const n=Ua(yr(qt,"workspaces",t,"organizations",e,"expenses"));return await Qu(n,{...r,createdAt:at.fromDate(r.createdAt)}),n.id},nOe=async(t,e)=>{const r=yr(qt,"workspaces",t,"organizations",e,"vendors");return(await On(r)).docs.map(i=>{const a=i.data();return{id:i.id,name:a.vendorName??a.name??"Unnamed vendor",email:a.email,phone:a.phone,totalSpent:a.totalSpent??0,lastExpense:a.lastExpense?a.lastExpense.toDate():void 0}})},iOe=Mf({vendorName:Jt().min(1,"Vendor is required"),category:Jt().min(1,"Category is required"),amount:Wu.number().min(.01,"Amount must be greater than 0"),description:Jt().optional(),tax:Wu.number().optional(),status:$0(["approved","pending","rejected"]).default("approved"),date:Jt().min(1,"Date is required"),attachments:FPe(Jt()).optional()}),aOe=["Supplier Co.","Office Depot","Logistics Inc."],sOe=["office_supplies","marketing","logistics","salary","rent"],oOe=({open:t,onClose:e})=>{const r=fn(),n=qs(),{register:i,handleSubmit:a,setValue:s,reset:o,watch:l,formState:{errors:u,isSubmitting:c}}=Rf({resolver:Df(iOe),defaultValues:{vendorName:"",category:"",amount:0,description:"",tax:0,status:"approved",date:Me().format("YYYY-MM-DD"),attachments:[]}}),d=ix({mutationFn:y=>rOe(r.workspaceId,r.orgId,{...y,createdAt:new Date(y.date)}),onSuccess:async()=>{await n.invalidateQueries({queryKey:["finance-expenses"]}),await n.invalidateQueries({queryKey:["finance-expenses-summary"]}),e(),o()}}),h=l("amount")??0,p=l("tax")??0,g=h+p;return m.jsx(jt.Root,{show:t,as:T.Fragment,children:m.jsxs(or,{as:"div",className:"relative z-40",onClose:e,children:[m.jsx(jt.Child,{as:T.Fragment,enter:"transition-opacity ease-linear duration-200",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity ease-linear duration-150",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:m.jsx("div",{className:"fixed inset-0 bg-black/40"})}),m.jsx("div",{className:"fixed inset-0 right-0 z-50 flex max-w-2xl",children:m.jsx(jt.Child,{as:T.Fragment,enter:"transform transition ease-in-out duration-300",enterFrom:"translate-x-full",enterTo:"translate-x-0",leave:"transform transition ease-in duration-200",leaveFrom:"translate-x-0",leaveTo:"translate-x-full",children:m.jsxs(or.Panel,{className:"relative flex w-full max-w-2xl flex-col overflow-hidden bg-white shadow-xl",children:[m.jsxs("div",{className:"flex items-center justify-between border-b border-primary/10 px-6 py-4",children:[m.jsxs("div",{children:[m.jsx(or.Title,{className:"text-lg font-semibold text-primary",children:"Add Expense"}),m.jsx("p",{className:"text-xs text-madas-text/60",children:"Capture expense details, vendor information and attachments."})]}),m.jsx("button",{onClick:e,className:"rounded-xl bg-white px-3 py-1 text-xs font-semibold text-primary shadow hover:bg-primary/10",children:"Close"})]}),m.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-6",children:m.jsxs("form",{id:"add-expense-form",className:"space-y-5",onSubmit:a(y=>d.mutate(y)),children:[m.jsxs("section",{className:"space-y-3",children:[m.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide text-primary/80",children:"Vendor & Category"}),m.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-semibold uppercase text-madas-text/60",children:"Vendor"}),m.jsx("input",{...i("vendorName"),placeholder:"e.g. Supplier Co.",className:"mt-1 w-full rounded-2xl border border-primary/10 bg-white px-3 py-2 text-sm shadow-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30"}),u.vendorName?m.jsx("p",{className:"mt-1 text-xs text-danger",children:u.vendorName.message}):m.jsx("div",{className:"mt-2 flex flex-wrap gap-2 text-xs",children:aOe.map(y=>m.jsx("button",{type:"button",onClick:()=>s("vendorName",y,{shouldValidate:!0}),className:"rounded-full bg-primary/10 px-3 py-1 text-primary hover:bg-primary/20",children:y},y))})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-semibold uppercase text-madas-text/60",children:"Category"}),m.jsx("input",{...i("category"),placeholder:"office_supplies",className:"mt-1 w-full rounded-2xl border border-primary/10 bg-white px-3 py-2 text-sm shadow-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30"}),u.category?m.jsx("p",{className:"mt-1 text-xs text-danger",children:u.category.message}):m.jsx("div",{className:"mt-2 flex flex-wrap gap-2 text-xs",children:sOe.map(y=>m.jsx("button",{type:"button",onClick:()=>s("category",y,{shouldValidate:!0}),className:"rounded-full bg-primary/10 px-3 py-1 text-primary hover:bg-primary/20",children:y},y))})]})]})]}),m.jsxs("section",{className:"space-y-3",children:[m.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide text-primary/80",children:"Financials"}),m.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-semibold uppercase text-madas-text/60",children:"Amount"}),m.jsx("input",{type:"number",step:"0.01",...i("amount",{valueAsNumber:!0}),className:"mt-1 w-full rounded-2xl border border-primary/10 bg-white px-3 py-2 text-sm shadow-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30"}),u.amount?m.jsx("p",{className:"mt-1 text-xs text-danger",children:u.amount.message}):null]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-semibold uppercase text-madas-text/60",children:"Tax"}),m.jsx("input",{type:"number",step:"0.01",...i("tax",{valueAsNumber:!0}),className:"mt-1 w-full rounded-2xl border border-primary/10 bg-white px-3 py-2 text-sm shadow-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30"})]})]}),m.jsxs("div",{className:"rounded-2xl bg-primary/10 px-4 py-3 text-sm font-semibold text-primary",children:["Total with tax: ",it(g)]})]}),m.jsxs("section",{className:"space-y-3",children:[m.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide text-primary/80",children:"Details"}),m.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-semibold uppercase text-madas-text/60",children:"Status"}),m.jsxs("select",{...i("status"),className:"mt-1 w-full rounded-2xl border border-primary/10 bg-white px-3 py-2 text-sm shadow-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30",children:[m.jsx("option",{value:"approved",children:"Approved"}),m.jsx("option",{value:"pending",children:"Pending"}),m.jsx("option",{value:"rejected",children:"Rejected"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-semibold uppercase text-madas-text/60",children:"Date"}),m.jsx("input",{type:"date",...i("date"),className:"mt-1 w-full rounded-2xl border border-primary/10 bg-white px-3 py-2 text-sm shadow-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30"}),u.date?m.jsx("p",{className:"mt-1 text-xs text-danger",children:u.date.message}):null]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-semibold uppercase text-madas-text/60",children:"Description"}),m.jsx("textarea",{rows:3,...i("description"),placeholder:"Optional notes",className:"mt-1 w-full rounded-2xl border border-primary/10 bg-white px-3 py-2 text-sm shadow-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30"})]})]}),m.jsxs("section",{className:"space-y-3",children:[m.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide text-primary/80",children:"Attachments"}),m.jsx("p",{className:"text-xs text-madas-text/60",children:"Attachment upload will be wired to Firebase Storage during the integrations phase. Add receipts or invoices once enabled."})]})]})}),m.jsxs("div",{className:"flex items-center justify-between border-t border-primary/10 px-6 py-4",children:[m.jsx("p",{className:"text-xs text-madas-text/60",children:"Total recorded expenses update instantly in the dashboard."}),m.jsx("button",{type:"submit",form:"add-expense-form",disabled:d.isPending||c,className:"rounded-2xl bg-primary px-4 py-2 text-sm font-semibold text-white hover:bg-primary/90 disabled:opacity-60",children:d.isPending?"Saving...":"Save expense"})]})]})})})]})})},lOe=({vendors:t,totalSpent:e,currency:r})=>m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-semibold text-primary",children:"Top Vendors"}),m.jsx("p",{className:"text-xs text-madas-text/60",children:"Track total spend per vendor, upcoming dues and contact details. Powered by the vendors collection."})]}),m.jsxs("div",{className:"rounded-2xl border border-primary/10 bg-primary/5 px-4 py-3 text-sm font-semibold text-primary",children:["Total spent: ",it(e,r)]}),m.jsx("ul",{className:"space-y-3",children:t.length?t.map(n=>m.jsx("li",{className:"rounded-2xl border border-primary/10 bg-white px-4 py-3 shadow-sm",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-semibold text-primary",children:n.name}),m.jsx("p",{className:"text-xs text-madas-text/60",children:n.email??n.phone??"no contact info"})]}),m.jsxs("div",{className:"text-right",children:[m.jsx("p",{className:"text-sm font-semibold text-primary",children:it(n.totalSpent,r)}),m.jsxs("p",{className:"text-xs text-madas-text/60",children:["Last expense:"," ",n.lastExpense?n.lastExpense.toLocaleDateString():""]})]})]})},n.id)):m.jsx("li",{className:"rounded-2xl border border-primary/10 bg-white px-4 py-3 text-xs text-madas-text/60",children:"No vendors recorded yet. Add expenses to build vendor history."})})]}),uOe=t=>{const e=t.reduce((n,i)=>n+(i.amount||0),0),r=t.length?e/t.length:0;return{total:e,average:r,delta:12,vendorsActive:new Set(t.map(n=>n.vendorName).filter(Boolean)).size,vendorsNew:0,formattedTotal:n=>new Intl.NumberFormat("en-US",{style:"currency",currency:n}).format(e),formattedAverage:n=>new Intl.NumberFormat("en-US",{style:"currency",currency:n}).format(r)}},cOe=({range:t,filters:e})=>{const r=fn();return yl({queryKey:["finance-expenses-summary",r.workspaceId,r.orgId,t.start.valueOf(),t.end.valueOf(),e.vendor,e.category,e.status],enabled:!r.loading,queryFn:async()=>{const[n,i]=await Promise.all([tOe(r.workspaceId,r.orgId,t,e),nOe(r.workspaceId,r.orgId)]);return{expenses:n.map(s=>({id:s.id,vendorName:s.vendorName,category:s.category,description:s.description,amount:s.amount,status:s.status,currency:s.currency,createdAt:s.createdAt.toDate()})),vendors:i,totals:uOe(n)}}})},dOe=({permission:t,requireAll:e=!1,fallback:r=null,children:n})=>{const{hasPermission:i,hasAnyPermission:a,hasAllPermissions:s,loading:o}=Ix();return o?null:(Array.isArray(t)?e?s(t):a(t):i(t))?m.jsx(m.Fragment,{children:n}):m.jsx(m.Fragment,{children:r})},fOe=()=>{var g,y,v;const{hasPermission:t,loading:e}=Ix(),r=Om();T.useEffect(()=>{!e&&!t(xn.EXPENSES)&&r("/overview")},[t,e,r]);const[n,i]=T.useState("30d"),[a,s]=T.useState({start:Me().subtract(29,"day"),end:Me()}),[o,l]=T.useState({}),[u,c]=T.useState(!1),d=cOe({range:a,filters:o}),h="USD",p=T.useMemo(()=>[{label:"Total Expenses",value:d.data?d.data.totals.formattedTotal(h):"",trend:d.data?{value:d.data.totals.delta>=0?`+${d.data.totals.delta}% vs prev.`:`${d.data.totals.delta}%`,positive:d.data.totals.delta>=0}:void 0,icon:m.jsx(A8,{className:"h-6 w-6"})},{label:"Average Expense",value:d.data?d.data.totals.formattedAverage(h):"",icon:m.jsx(_p,{className:"h-6 w-6"})},{label:"Active Vendors",value:d.data?d.data.totals.vendorsActive.toString():"0",icon:m.jsx(fL,{className:"h-6 w-6"}),trend:d.data&&d.data.totals.vendorsNew?{value:`+${d.data.totals.vendorsNew} new`,positive:!0}:void 0}],[d.data]);return m.jsxs("section",{className:"space-y-6",children:[m.jsxs("header",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-3xl font-bold text-primary",children:"Expenses"}),m.jsx("p",{className:"text-sm text-madas-text/70",children:"Manage outflows, vendors, categories and attachments across every tenant branch."})]}),m.jsxs("div",{className:"flex flex-wrap gap-3",children:[m.jsx("button",{className:"rounded-2xl bg-white px-4 py-2 text-sm font-semibold text-primary shadow border border-primary/10 hover:bg-primary/10 transition",onClick:()=>d.refetch(),children:"Refresh"}),m.jsx(dOe,{permission:xn.EXPENSES,children:m.jsx("button",{onClick:()=>c(!0),className:"rounded-2xl bg-primary px-4 py-2 text-sm font-semibold text-white hover:bg-primary/90 transition",children:"+ Add Expense"})})]})]}),m.jsx(ZPe,{currentRangeId:n,onRangeChange:(b,x,_)=>{i(b),s({start:x,end:_})},filters:o,onFiltersChange:l}),m.jsx("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-3",children:p.map(b=>m.jsx(Nx,{label:b.label,primaryValue:b.value,trend:b.trend,icon:b.icon},b.label))}),m.jsxs("div",{className:"grid gap-6 lg:grid-cols-7",children:[m.jsx("div",{className:"glass-card lg:col-span-5 p-6",children:m.jsx(eOe,{loading:d.isLoading,expenses:((g=d.data)==null?void 0:g.expenses)??[],currency:h,onRefresh:d.refetch})}),m.jsx("div",{className:"glass-card lg:col-span-2 p-6",children:m.jsx(lOe,{vendors:((y=d.data)==null?void 0:y.vendors)??[],totalSpent:((v=d.data)==null?void 0:v.totals.total)??0,currency:h})})]}),m.jsx(oOe,{open:u,onClose:()=>c(!1)})]})},hOe=async(t,e)=>{const r=yr(qt,"workspaces",t,"organizations",e,"accounts");return(await On(mr(r,pa("name","asc")))).docs.map(i=>{const a=i.data();return{id:i.id,name:a.name,type:a.type,currency:a.currency,balance:a.balance,status:a.status??"active",lastReconciled:a.lastReconciledAt?a.lastReconciledAt.toDate():void 0}})},pOe=async(t,e,r)=>{const n=Ua(yr(qt,"workspaces",t,"organizations",e,"account_transfers"));return await Qu(n,{...r,createdAt:at.fromDate(r.createdAt)}),n.id},mOe=async(t,e,r)=>{const n=Ua(yr(qt,"workspaces",t,"organizations",e,"account_reconciliations"));return await Qu(n,{...r,statementDate:at.fromDate(r.statementDate),createdAt:at.fromDate(new Date)}),n.id},yOe=async(t,e)=>{const r=yr(qt,"workspaces",t,"organizations",e,"account_transfers");return(await On(mr(r,pa("createdAt","desc"),t5(5)))).docs.map(i=>i.data())},gOe=t=>{const e=t.reduce((a,s)=>a+(s.balance||0),0),r=t.filter(a=>a.type==="bank").length,n=t.filter(a=>a.lastReconciled).length,i=t.length?n/t.length*100:0;return{balance:e,bankAccounts:r,reconciledPercentage:i,previousBalance:e*.9}},vOe=({range:t})=>{const e=fn();return yl({queryKey:["finance-accounts",e.workspaceId,e.orgId,t.start.valueOf(),t.end.valueOf()],enabled:!e.loading,queryFn:async()=>{const r=await hOe(e.workspaceId,e.orgId),n=gOe(r),i=await yOe(e.workspaceId,e.orgId);return{accounts:r,totals:n,recentTransfers:i}}})},xOe=t=>{switch(t){case"bank":return"bg-primary/10 text-primary";case"cash":return"bg-success/10 text-success";case"wallet":return"bg-accent/10 text-primary";default:return"bg-madas-text/10 text-madas-text/70"}},bOe=t=>{switch(t){case"active":return"bg-success/10 text-success";case"inactive":return"bg-madas-text/10 text-madas-text/70";default:return"bg-primary/10 text-primary"}},wOe=({accounts:t,loading:e,currency:r,onRefresh:n})=>m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-semibold text-primary",children:"Accounts"}),m.jsx("p",{className:"text-xs text-madas-text/60",children:"Balances auto-update from transactions and transfers."})]}),m.jsx("button",{onClick:n,className:"rounded-xl bg-white px-3 py-1 text-xs font-semibold text-primary shadow hover:bg-primary/10",children:"Refresh"})]}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"min-w-full divide-y divide-primary/10",children:[m.jsx("thead",{className:"bg-primary/5 text-xs uppercase tracking-wide text-primary",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-4 py-3 text-left",children:"Account"}),m.jsx("th",{className:"px-4 py-3 text-left",children:"Type"}),m.jsx("th",{className:"px-4 py-3 text-left",children:"Balance"}),m.jsx("th",{className:"px-4 py-3 text-left",children:"Last reconciliation"}),m.jsx("th",{className:"px-4 py-3 text-left",children:"Status"}),m.jsx("th",{className:"px-4 py-3 text-left",children:"Actions"})]})}),m.jsx("tbody",{className:"divide-y divide-primary/10 text-sm text-madas-text",children:e?m.jsx("tr",{children:m.jsx("td",{colSpan:6,className:"px-4 py-6 text-center text-madas-text/60",children:"Loading accounts..."})}):t.length?t.map(i=>m.jsxs("tr",{className:"hover:bg-primary/5",children:[m.jsx("td",{className:"px-4 py-3 text-primary font-semibold",children:i.name}),m.jsx("td",{className:"px-4 py-3",children:m.jsx("span",{className:`rounded-full px-3 py-1 text-xs font-semibold ${xOe(i.type)}`,children:i.type})}),m.jsx("td",{className:"px-4 py-3 font-semibold",children:it(i.balance,i.currency||r)}),m.jsx("td",{className:"px-4 py-3 text-xs text-madas-text/70",children:i.lastReconciled?Cx(i.lastReconciled):"Not reconciled"}),m.jsx("td",{className:"px-4 py-3",children:m.jsx("span",{className:`rounded-full px-3 py-1 text-xs font-semibold ${bOe(i.status)}`,children:i.status??"active"})}),m.jsx("td",{className:"px-4 py-3",children:m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{className:"rounded-xl bg-white px-3 py-1 text-xs font-semibold text-primary shadow hover:bg-primary/10",children:"View"}),m.jsx("button",{className:"rounded-xl bg-white px-3 py-1 text-xs font-semibold text-primary shadow hover:bg-primary/10",children:"Edit"})]})})]},i.id)):m.jsx("tr",{children:m.jsx("td",{colSpan:6,className:"px-4 py-6 text-center text-madas-text/60",children:"No accounts found. Create an account to start tracking balances."})})})]})})]}),_Oe=Mf({fromAccountId:Jt().min(1,"Select source"),toAccountId:Jt().min(1,"Select destination"),amount:Wu.number().min(.01,"Amount must be greater than 0"),memo:Jt().optional(),date:Jt().min(1)}).refine(t=>t.fromAccountId!==t.toAccountId,{message:"Source and destination must be different",path:["toAccountId"]}),EOe=({open:t,onClose:e,accounts:r})=>{const n=fn(),i=qs(),{register:a,handleSubmit:s,formState:{errors:o,isSubmitting:l},reset:u,watch:c}=Rf({resolver:Df(_Oe),defaultValues:{date:Me().format("YYYY-MM-DDTHH:mm"),amount:0}}),d=ix({mutationFn:p=>pOe(n.workspaceId,n.orgId,{...p,createdAt:new Date(p.date)}),onSuccess:async()=>{await i.invalidateQueries({queryKey:["finance-accounts"]}),await i.invalidateQueries({queryKey:["finance-overview"]}),u({amount:0,fromAccountId:"",toAccountId:"",memo:"",date:Me().format("YYYY-MM-DDTHH:mm")}),e()}}),h=c("amount")??0;return m.jsx(jt.Root,{show:t,as:T.Fragment,children:m.jsxs(or,{as:"div",className:"relative z-40",onClose:e,children:[m.jsx(jt.Child,{as:T.Fragment,enter:"ease-out duration-200",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-150",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:m.jsx("div",{className:"fixed inset-0 bg-black/40"})}),m.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:m.jsx("div",{className:"flex min-h-full items-center justify-center p-6 text-center",children:m.jsx(jt.Child,{as:T.Fragment,enter:"ease-out duration-200",enterFrom:"opacity-0 translate-y-4",enterTo:"opacity-100 translate-y-0",leave:"ease-in duration-150",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 translate-y-4",children:m.jsxs(or.Panel,{className:"w-full max-w-lg transform overflow-hidden rounded-3xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[m.jsx(or.Title,{className:"text-lg font-semibold text-primary",children:"Transfer between accounts"}),m.jsx("p",{className:"mt-1 text-xs text-madas-text/60",children:"Transfers adjust balances instantly; expenses and revenue are not impacted."}),m.jsxs("form",{className:"mt-5 space-y-4",onSubmit:s(p=>d.mutate(p)),children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-semibold uppercase text-madas-text/60",children:"From"}),m.jsxs("select",{...a("fromAccountId"),className:"mt-1 w-full rounded-2xl border border-primary/10 bg-white px-3 py-2 text-sm shadow-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30",children:[m.jsx("option",{value:"",children:"Select account"}),r.map(p=>m.jsxs("option",{value:p.id,children:[p.name," (",it(p.balance,p.currency??"USD"),")"]},p.id))]}),o.fromAccountId?m.jsx("p",{className:"mt-1 text-xs text-danger",children:o.fromAccountId.message}):null]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-semibold uppercase text-madas-text/60",children:"To"}),m.jsxs("select",{...a("toAccountId"),className:"mt-1 w-full rounded-2xl border border-primary/10 bg-white px-3 py-2 text-sm shadow-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30",children:[m.jsx("option",{value:"",children:"Select account"}),r.map(p=>m.jsxs("option",{value:p.id,children:[p.name," (",it(p.balance,p.currency??"USD"),")"]},p.id))]}),o.toAccountId?m.jsx("p",{className:"mt-1 text-xs text-danger",children:o.toAccountId.message}):null]}),m.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-semibold uppercase text-madas-text/60",children:"Amount"}),m.jsx("input",{type:"number",step:"0.01",...a("amount",{valueAsNumber:!0}),className:"mt-1 w-full rounded-2xl border border-primary/10 bg-white px-3 py-2 text-sm shadow-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30"}),o.amount?m.jsx("p",{className:"mt-1 text-xs text-danger",children:o.amount.message}):null]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-semibold uppercase text-madas-text/60",children:"Date"}),m.jsx("input",{type:"datetime-local",...a("date"),defaultValue:Me().format("YYYY-MM-DDTHH:mm"),className:"mt-1 w-full rounded-2xl border border-primary/10 bg-white px-3 py-2 text-sm shadow-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-semibold uppercase text-madas-text/60",children:"Memo"}),m.jsx("textarea",{rows:3,...a("memo"),placeholder:"Optional notes",className:"mt-1 w-full rounded-2xl border border-primary/10 bg-white px-3 py-2 text-sm shadow-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30"})]}),m.jsxs("div",{className:"rounded-2xl bg-primary/10 px-4 py-3 text-sm font-semibold text-primary",children:["Youre moving ",it(h||0,"USD")," between internal accounts."]}),m.jsxs("div",{className:"flex items-center justify-end gap-3",children:[m.jsx("button",{type:"button",onClick:e,className:"rounded-2xl bg-white px-4 py-2 text-sm font-semibold text-primary shadow hover:bg-primary/10",children:"Cancel"}),m.jsx("button",{type:"submit",disabled:l||d.isPending,className:"rounded-2xl bg-primary px-4 py-2 text-sm font-semibold text-white hover:bg-primary/90 disabled:opacity-60",children:d.isPending?"Transferring...":"Transfer funds"})]})]})]})})})})]})})},SOe=Mf({accountId:Jt().min(1,"Select account"),statementBalance:Wu.number(),statementDate:Jt().min(1),notes:Jt().optional()}),AOe=({open:t,onClose:e,accounts:r})=>{const n=fn(),i=qs(),{register:a,handleSubmit:s,reset:o,formState:{errors:l,isSubmitting:u}}=Rf({resolver:Df(SOe),defaultValues:{statementDate:Me().format("YYYY-MM-DD"),statementBalance:0,accountId:""}}),c=ix({mutationFn:d=>mOe(n.workspaceId,n.orgId,{...d,statementDate:new Date(d.statementDate)}),onSuccess:async()=>{await i.invalidateQueries({queryKey:["finance-accounts"]}),e(),o()}});return m.jsx(jt.Root,{show:t,as:T.Fragment,children:m.jsxs(or,{as:"div",className:"relative z-40",onClose:e,children:[m.jsx(jt.Child,{as:T.Fragment,enter:"transition-opacity ease-linear duration-200",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity ease-linear duration-150",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:m.jsx("div",{className:"fixed inset-0 bg-black/30"})}),m.jsx("div",{className:"fixed inset-0 z-50 flex justify-end",children:m.jsx(jt.Child,{as:T.Fragment,enter:"transform transition ease-in-out duration-300",enterFrom:"translate-x-full",enterTo:"translate-x-0",leave:"transform transition ease-in duration-200",leaveFrom:"translate-x-0",leaveTo:"translate-x-full",children:m.jsxs(or.Panel,{className:"flex h-full w-full max-w-md flex-col overflow-hidden bg-white shadow-xl",children:[m.jsxs("div",{className:"flex items-center justify-between border-b border-primary/10 px-6 py-4",children:[m.jsxs("div",{children:[m.jsx(or.Title,{className:"text-lg font-semibold text-primary",children:"Reconcile account"}),m.jsx("p",{className:"text-xs text-madas-text/60",children:"Match the ledger balance with bank statement to keep accounts accurate."})]}),m.jsx("button",{onClick:e,className:"rounded-xl bg-white px-3 py-1 text-xs font-semibold text-primary shadow hover:bg-primary/10",children:"Close"})]}),m.jsxs("form",{id:"reconcile-form",className:"flex-1 overflow-y-auto px-6 py-6 space-y-4",onSubmit:s(d=>c.mutate(d)),children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-semibold uppercase text-madas-text/60",children:"Account"}),m.jsxs("select",{...a("accountId"),className:"mt-1 w-full rounded-2xl border border-primary/10 bg-white px-3 py-2 text-sm shadow-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30",children:[m.jsx("option",{value:"",children:"Select account"}),r.map(d=>m.jsxs("option",{value:d.id,children:[d.name," (",it(d.balance,d.currency??"USD"),")"]},d.id))]}),l.accountId?m.jsx("p",{className:"mt-1 text-xs text-danger",children:l.accountId.message}):null]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-semibold uppercase text-madas-text/60",children:"Statement balance"}),m.jsx("input",{type:"number",step:"0.01",...a("statementBalance"),className:"mt-1 w-full rounded-2xl border border-primary/10 bg-white px-3 py-2 text-sm shadow-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30"}),l.statementBalance?m.jsx("p",{className:"mt-1 text-xs text-danger",children:l.statementBalance.message}):null]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-semibold uppercase text-madas-text/60",children:"Statement date"}),m.jsx("input",{type:"date",...a("statementDate"),className:"mt-1 w-full rounded-2xl border border-primary/10 bg-white px-3 py-2 text-sm shadow-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30"}),l.statementDate?m.jsx("p",{className:"mt-1 text-xs text-danger",children:l.statementDate.message}):null]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-semibold uppercase text-madas-text/60",children:"Notes"}),m.jsx("textarea",{rows:4,...a("notes"),placeholder:"Optional notes",className:"mt-1 w-full rounded-2xl border border-primary/10 bg-white px-3 py-2 text-sm shadow-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30"})]})]}),m.jsx("div",{className:"border-t border-primary/10 px-6 py-4",children:m.jsx("button",{type:"submit",form:"reconcile-form",disabled:u||c.isPending,className:"w-full rounded-2xl bg-primary px-4 py-2 text-sm font-semibold text-white hover:bg-primary/90 disabled:opacity-60",children:c.isPending?"Reconciling...":"Reconcile"})})]})})})]})})},TOe=()=>{var l,u,c;const[t]=T.useState({start:Me().subtract(29,"day"),end:Me()}),[e,r]=T.useState(!1),[n,i]=T.useState(!1),a=vOe({range:t}),s="USD",o=T.useMemo(()=>{var h;const d=(h=a.data)==null?void 0:h.totals;return d?[{label:"Total Balance",value:it(d.balance,s),trend:{value:`${d.previousBalance?((d.balance-d.previousBalance)/d.previousBalance*100).toFixed(1):0}% vs last`,positive:d.balance>=d.previousBalance},icon:m.jsx(_p,{className:"h-6 w-6"})},{label:"Bank Accounts",value:d.bankAccounts.toString(),icon:m.jsx(pC,{className:"h-6 w-6"})},{label:"Reconciled",value:`${d.reconciledPercentage.toFixed(0)}%`,icon:m.jsx(lC,{className:"h-6 w-6"})}]:[{label:"Total Balance",value:"",icon:m.jsx(_p,{className:"h-6 w-6"})},{label:"Bank Accounts",value:"",icon:m.jsx(pC,{className:"h-6 w-6"})},{label:"Reconciled %",value:"",icon:m.jsx(lC,{className:"h-6 w-6"})}]},[a.data]);return m.jsxs("section",{className:"space-y-6",children:[m.jsxs("header",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-3xl font-bold text-primary",children:"Accounts"}),m.jsx("p",{className:"text-sm text-madas-text/70",children:"Monitor balances, perform inter-account transfers and reconcile statements."})]}),m.jsxs("div",{className:"flex flex-wrap gap-3",children:[m.jsx("button",{onClick:()=>r(!0),className:"rounded-2xl bg-primary px-4 py-2 text-sm font-semibold text-white hover:bg-primary/90 transition",children:"Transfer"}),m.jsx("button",{onClick:()=>i(!0),className:"rounded-2xl bg-white px-4 py-2 text-sm font-semibold text-primary shadow border border-primary/10 hover:bg-primary/10 transition",children:"Reconcile"})]})]}),m.jsx("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-3",children:o.map(d=>m.jsx(Nx,{label:d.label,primaryValue:d.value,trend:"trend"in d?d.trend:void 0,icon:d.icon},d.label))}),m.jsx("div",{className:"glass-card p-6",children:m.jsx(wOe,{accounts:((l=a.data)==null?void 0:l.accounts)??[],loading:a.isLoading,currency:s,onRefresh:a.refetch})}),m.jsx(EOe,{open:e,onClose:()=>r(!1),accounts:((u=a.data)==null?void 0:u.accounts)??[]}),m.jsx(AOe,{open:n,onClose:()=>i(!1),accounts:((c=a.data)==null?void 0:c.accounts)??[]})]})},POe=async(t,e,r)=>{const n=yr(qt,"workspaces",t,"organizations",e,"budgets");return(await On(mr(n,kt("startDate",">=",at.fromDate(r.start.toDate())),kt("endDate","<=",at.fromDate(r.end.toDate())),pa("startDate","asc")))).docs.map(a=>{const s=a.data(),o=s.spent??0,l=o>=s.allocated?"exceeded":o>=s.allocated*.8?"warning":"on_track";return{id:a.id,name:s.name,category:s.category,allocated:s.allocated,spent:o,startDate:s.startDate.toDate(),endDate:s.endDate.toDate(),notes:s.notes,status:l}})},OOe=async(t,e,r)=>{const n=Ua(yr(qt,"workspaces",t,"organizations",e,"budgets"));return await Qu(n,{...r,spent:0,startDate:at.fromDate(r.startDate),endDate:at.fromDate(r.endDate)}),n.id},IOe=async(t,e,r,n,i)=>{const a=Ua(qt,"workspaces",t,"organizations",e,"budgets",r);await Qu(a,{allocated:n,endDate:at.fromDate(i)},{merge:!0})},COe=async(t,e,r)=>{const n=yr(qt,"workspaces",t,"organizations",e,"budgets",r,"transactions");return(await On(mr(n,pa("createdAt","desc")))).docs.map(a=>{const s=a.data();return{id:a.id,description:s.description,amount:s.amount??0,createdAt:s.createdAt?s.createdAt.toDate():new Date}})},kOe=({range:t})=>{const e=fn();return yl({queryKey:["finance-budgets",e.workspaceId,e.orgId,t.start.valueOf(),t.end.valueOf()],enabled:!e.loading,queryFn:async()=>{const r=await POe(e.workspaceId,e.orgId,t),n=r.reduce((a,s)=>(a.totalAllocated+=s.allocated,a.totalUsed+=s.spent,s.status==="exceeded"&&(a.overBudgetCount+=1),a),{totalAllocated:0,totalUsed:0,overBudgetCount:0}),i=r.map(a=>({category:a.category,allocated:a.allocated,spent:a.spent}));return{budgets:r,totals:n,chart:i}}})},NOe=t=>{const e=fn();return yl({queryKey:["finance-budget-transactions",e.workspaceId,e.orgId,t],enabled:!e.loading&&!!t,queryFn:async()=>t?COe(e.workspaceId,e.orgId,t):[],initialData:[]})},jOe={on_track:{text:"On Track",badge:"bg-success/10 text-success"},warning:{text:"Approaching Limit",badge:"bg-accent/10 text-primary"},exceeded:{text:"Exceeded",badge:"bg-danger/10 text-danger"}},ROe=({budgets:t,loading:e,currency:r,onSelectBudget:n})=>m.jsxs("div",{className:"space-y-4",children:[m.jsx("div",{className:"flex items-center justify-between",children:m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-semibold text-primary",children:"Budgets overview"}),m.jsx("p",{className:"text-xs text-madas-text/60",children:"Click a budget to view category performance, alerts and transactions."})]})}),e?m.jsx("div",{className:"rounded-2xl border border-primary/10 bg-white px-4 py-6 text-center text-sm text-madas-text/60",children:"Loading budgets..."}):t.length?m.jsx("div",{className:"grid gap-4 sm:grid-cols-2 xl:grid-cols-3",children:t.map(i=>{const a=i.allocated?Math.min(i.spent/i.allocated*100,120):0,s=jOe[i.status];return m.jsxs("button",{onClick:()=>n(i.id),className:"flex flex-col gap-3 rounded-2xl border border-primary/10 bg-white p-5 text-left shadow-sm transition hover:-translate-y-1 hover:border-primary/30 hover:shadow-lg",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-semibold text-primary",children:i.name}),m.jsx("p",{className:"text-xs text-madas-text/60 capitalize",children:i.category})]}),m.jsx("span",{className:`rounded-full px-3 py-1 text-xs font-semibold ${s.badge}`,children:s.text})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-xs font-semibold uppercase text-madas-text/50",children:"Allocated"}),m.jsx("p",{className:"text-base font-semibold text-primary",children:it(i.allocated,r)})]}),m.jsxs("div",{children:[m.jsxs("div",{className:"mb-2 flex items-center justify-between text-xs text-madas-text/60",children:[m.jsx("span",{children:"Spent"}),m.jsxs("span",{children:[it(i.spent,r),"  ",a.toFixed(0),"%"]})]}),m.jsx("div",{className:"h-2 rounded-full bg-primary/10",children:m.jsx("div",{className:"h-full rounded-full bg-primary transition-all",style:{width:`${Math.min(a,100)}%`}})})]}),m.jsxs("p",{className:"text-xs text-madas-text/60",children:[i.startDate.toLocaleDateString(),"  ",i.endDate.toLocaleDateString()]})]},i.id)})}):m.jsx("div",{className:"rounded-2xl border border-primary/10 bg-white px-4 py-6 text-center text-sm text-madas-text/60",children:"No budgets created yet. Click New Budget to get started."})]}),DOe=({open:t,onClose:e,budget:r,currency:n,transactions:i})=>m.jsx(jt.Root,{show:t,as:T.Fragment,children:m.jsxs(or,{as:"div",className:"relative z-40",onClose:e,children:[m.jsx(jt.Child,{as:T.Fragment,enter:"transition-opacity ease-linear duration-200",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity ease-linear duration-150",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:m.jsx("div",{className:"fixed inset-0 bg-black/30"})}),m.jsx("div",{className:"fixed inset-0 right-0 flex max-w-xl",children:m.jsx(jt.Child,{as:T.Fragment,enter:"transform transition ease-in-out duration-300",enterFrom:"translate-x-full",enterTo:"translate-x-0",leave:"transform transition ease-in duration-200",leaveFrom:"translate-x-0",leaveTo:"translate-x-full",children:m.jsxs(or.Panel,{className:"flex h-full w-full flex-col bg-white shadow-xl",children:[m.jsxs("div",{className:"flex items-center justify-between border-b border-primary/10 px-6 py-4",children:[m.jsx(or.Title,{className:"text-lg font-semibold text-primary",children:r?r.name:"Budget"}),m.jsx("button",{onClick:e,className:"rounded-xl bg-white px-3 py-1 text-xs font-semibold text-primary shadow hover:bg-primary/10",children:"Close"})]}),r?m.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-6 space-y-4",children:[m.jsxs("section",{className:"rounded-2xl border border-primary/10 bg-primary/5 p-4",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-xs font-semibold uppercase text-madas-text/50",children:"Allocated"}),m.jsx("p",{className:"text-xl font-semibold text-primary",children:it(r.allocated,n)})]}),m.jsxs("div",{className:"text-right",children:[m.jsx("p",{className:"text-xs font-semibold uppercase text-madas-text/50",children:"Spend"}),m.jsx("p",{className:"text-base font-semibold text-primary",children:it(r.spent,n)})]})]}),m.jsxs("p",{className:"mt-3 text-xs text-madas-text/60",children:[r.startDate.toLocaleDateString(),"  ",r.endDate.toLocaleDateString()]})]}),r.notes?m.jsxs("section",{className:"rounded-2xl border border-primary/10 bg-white p-4",children:[m.jsx("h3",{className:"text-sm font-semibold text-primary",children:"Notes"}),m.jsx("p",{className:"mt-1 text-sm text-madas-text/70",children:r.notes})]}):null,m.jsxs("section",{className:"rounded-2xl border border-primary/10 bg-white p-4",children:[m.jsx("h3",{className:"text-sm font-semibold text-primary",children:"Recent transactions"}),m.jsx("ul",{className:"mt-3 space-y-3",children:i.length?i.map(a=>m.jsxs("li",{className:"flex items-center justify-between text-sm",children:[m.jsxs("div",{children:[m.jsx("p",{className:"font-medium text-primary",children:a.description??"Expense"}),m.jsx("p",{className:"text-xs text-madas-text/60",children:a.createdAt.toLocaleDateString()})]}),m.jsx("span",{className:"font-semibold",children:it(a.amount,n)})]},a.id)):m.jsx("li",{className:"text-xs text-madas-text/60",children:"No transactions recorded yet."})})]})]}):null]})})})]})}),MOe=Mf({name:Jt().min(3,"Name is required"),category:Jt().min(1,"Select a category"),allocated:Wu.number().min(1,"Allocation must be positive"),startDate:Jt().min(1,"Start date is required"),endDate:Jt().min(1,"End date is required"),notes:Jt().optional()}),$Oe=["marketing","logistics","operations","payroll","supplies"],LOe=({open:t,onClose:e})=>{const r=fn(),n=qs(),{register:i,handleSubmit:a,reset:s,setValue:o,formState:{errors:l,isSubmitting:u}}=Rf({resolver:Df(MOe),defaultValues:{startDate:Me().startOf("month").format("YYYY-MM-DD"),endDate:Me().endOf("month").format("YYYY-MM-DD"),category:"",name:"",allocated:0,notes:""}}),c=ix({mutationFn:d=>OOe(r.workspaceId,r.orgId,{...d,startDate:new Date(d.startDate),endDate:new Date(d.endDate)}),onSuccess:async(d,h)=>{await IOe(r.workspaceId,r.orgId,d,h.allocated,new Date(h.endDate)),await n.invalidateQueries({queryKey:["finance-budgets"]}),s(),e()}});return m.jsx(jt.Root,{show:t,as:T.Fragment,children:m.jsxs(or,{as:"div",className:"relative z-40",onClose:e,children:[m.jsx(jt.Child,{as:T.Fragment,enter:"ease-out duration-200",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-150",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:m.jsx("div",{className:"fixed inset-0 bg-black/40"})}),m.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:m.jsx("div",{className:"flex min-h-full items-center justify-center p-6 text-center",children:m.jsx(jt.Child,{as:T.Fragment,enter:"ease-out duration-200",enterFrom:"opacity-0 translate-y-4",enterTo:"opacity-100 translate-y-0",leave:"ease-in duration-150",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 translate-y-4",children:m.jsxs(or.Panel,{className:"w-full max-w-lg transform overflow-hidden rounded-3xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[m.jsx(or.Title,{className:"text-lg font-semibold text-primary",children:"Create budget"}),m.jsx("p",{className:"mt-1 text-xs text-madas-text/60",children:"Budgets sync with expenses automatically to track actual vs target."}),m.jsxs("form",{className:"mt-5 space-y-4",onSubmit:a(d=>c.mutate(d)),children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-semibold uppercase text-madas-text/60",children:"Name"}),m.jsx("input",{...i("name"),placeholder:"e.g. Q1 Marketing",className:"mt-1 w-full rounded-2xl border border-primary/10 bg-white px-3 py-2 text-sm shadow-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30"}),l.name?m.jsx("p",{className:"mt-1 text-xs text-danger",children:l.name.message}):null]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-semibold uppercase text-madas-text/60",children:"Category"}),m.jsx("input",{...i("category"),placeholder:"marketing",className:"mt-1 w-full rounded-2xl border border-primary/10 bg-white px-3 py-2 text-sm shadow-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30"}),l.category?m.jsx("p",{className:"mt-1 text-xs text-danger",children:l.category.message}):null,m.jsx("div",{className:"mt-2 flex flex-wrap gap-2 text-xs",children:$Oe.map(d=>m.jsx("button",{type:"button",onClick:()=>o("category",d,{shouldValidate:!0}),className:"rounded-full bg-primary/10 px-3 py-1 text-primary hover:bg-primary/20",children:d},d))})]}),m.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-semibold uppercase text-madas-text/60",children:"Allocated amount"}),m.jsx("input",{type:"number",step:"0.01",...i("allocated",{valueAsNumber:!0}),className:"mt-1 w-full rounded-2xl border border-primary/10 bg-white px-3 py-2 text-sm shadow-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30"}),l.allocated?m.jsx("p",{className:"mt-1 text-xs text-danger",children:l.allocated.message}):null]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-semibold uppercase text-madas-text/60",children:"Start date"}),m.jsx("input",{type:"date",...i("startDate"),className:"mt-1 w-full rounded-2xl border border-primary/10 bg-white px-3 py-2 text-sm shadow-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-semibold uppercase text-madas-text/60",children:"End date"}),m.jsx("input",{type:"date",...i("endDate"),className:"mt-1 w-full rounded-2xl border border-primary/10 bg-white px-3 py-2 text-sm shadow-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-semibold uppercase text-madas-text/60",children:"Notes"}),m.jsx("textarea",{rows:3,...i("notes"),placeholder:"Optional notes or instructions",className:"mt-1 w-full rounded-2xl border border-primary/10 bg-white px-3 py-2 text-sm shadow-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30"})]}),m.jsxs("div",{className:"flex items-center justify-end gap-3",children:[m.jsx("button",{type:"button",onClick:e,className:"rounded-2xl bg-white px-4 py-2 text-sm font-semibold text-primary shadow hover:bg-primary/10",children:"Cancel"}),m.jsx("button",{type:"submit",disabled:c.isPending||u,className:"rounded-2xl bg-primary px-4 py-2 text-sm font-semibold text-white hover:bg-primary/90 disabled:opacity-60",children:c.isPending?"Saving...":"Create budget"})]})]})]})})})})]})})},FOe=({data:t,currency:e})=>m.jsxs("div",{className:"space-y-3",children:[m.jsx("div",{className:"flex items-center justify-between",children:m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-semibold text-primary",children:"Budget vs actual"}),m.jsx("p",{className:"text-xs text-madas-text/60",children:"Categories displayed for the selected period."})]})}),m.jsx(Gm,{width:"100%",height:320,children:m.jsxs(CTe,{data:t,children:[m.jsx(ty,{strokeDasharray:"4 4",stroke:"#E5E7EB"}),m.jsx(Xs,{dataKey:"category",tickLine:!1,axisLine:!1}),m.jsx(Zs,{tickFormatter:r=>it(r,e),tickLine:!1,axisLine:!1}),m.jsx(Kn,{formatter:r=>it(Number(r),e),contentStyle:{borderRadius:"16px",border:"1px solid #E5E7EB"}}),m.jsx(ua,{}),m.jsx(ul,{dataKey:"allocated",fill:"#27491F",radius:[8,8,0,0],name:"Allocated"}),m.jsx(ul,{dataKey:"spent",fill:"#FFD300",radius:[8,8,0,0],name:"Actual"})]})})]}),VOe=()=>{var u,c,d;const[t]=T.useState({start:Me().startOf("year"),end:Me().endOf("year")}),[e,r]=T.useState(null),[n,i]=T.useState(!1),a=kOe({range:t}),s=NOe(e),o="USD",l=T.useMemo(()=>{var p;const h=(p=a.data)==null?void 0:p.totals;return h?[{label:"Total Allocated",value:it(h.totalAllocated,o),trend:h.totalAllocated?{value:`${(h.totalUsed/h.totalAllocated*100).toFixed(1)}% used`,positive:h.totalUsed<=h.totalAllocated}:void 0,icon:m.jsx(cC,{className:"h-6 w-6"})},{label:"Total Used",value:it(h.totalUsed,o),icon:m.jsx(uC,{className:"h-6 w-6"})},{label:"Budgets in Alert",value:`${h.overBudgetCount}`,trend:h.overBudgetCount?{value:`${h.overBudgetCount} over limit`,positive:!1}:void 0,icon:m.jsx(fC,{className:"h-6 w-6"})}]:[{label:"Total Allocated",value:"",icon:m.jsx(cC,{className:"h-6 w-6"})},{label:"Used",value:"",icon:m.jsx(uC,{className:"h-6 w-6"})},{label:"Alerts",value:"",icon:m.jsx(fC,{className:"h-6 w-6"})}]},[a.data]);return m.jsxs("section",{className:"space-y-6",children:[m.jsxs("header",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-3xl font-bold text-primary",children:"Budgets"}),m.jsx("p",{className:"text-sm text-madas-text/70",children:"Create category budgets, compare actual spend, and stay alerted when limits are exceeded."})]}),m.jsx("button",{onClick:()=>i(!0),className:"rounded-2xl bg-primary px-4 py-2 text-sm font-semibold text-white hover:bg-primary/90 transition",children:"+ New Budget"})]}),m.jsx("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-3",children:l.map(h=>m.jsx(Nx,{label:h.label,primaryValue:h.value,trend:h.trend,icon:h.icon},h.label))}),m.jsx("div",{className:"glass-card p-6",children:m.jsx(FOe,{data:((u=a.data)==null?void 0:u.chart)??[],currency:o})}),m.jsx("div",{className:"glass-card p-6",children:m.jsx(ROe,{budgets:((c=a.data)==null?void 0:c.budgets)??[],loading:a.isLoading,currency:o,onSelectBudget:r})}),m.jsx(DOe,{open:!!e,onClose:()=>r(null),budget:((d=a.data)==null?void 0:d.budgets.find(h=>h.id===e))??null,currency:o,transactions:s.data??[]}),m.jsx(LOe,{open:n,onClose:()=>i(!1)})]})};var pU={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(Ul,function(){var r="month",n="quarter";return function(i,a){var s=a.prototype;s.quarter=function(u){return this.$utils().u(u)?Math.ceil((this.month()+1)/3):this.month(this.month()%3+3*(u-1))};var o=s.add;s.add=function(u,c){return u=Number(u),this.$utils().p(c)===n?this.add(3*u,r):o.bind(this)(u,c)};var l=s.startOf;s.startOf=function(u,c){var d=this.$utils(),h=!!d.u(c)||c;if(d.p(u)===n){var p=this.quarter()-1;return h?this.month(3*p).startOf(r).startOf("day"):this.month(3*p+2).endOf(r).endOf("day")}return l.bind(this)(u,c)}}})})(pU);var BOe=pU.exports;const UOe=wt(BOe),zOe=async(t,e,r)=>{var s;const n=yr(qt,"workspaces",t,"organizations",e,"reports","profit_loss","snapshots"),a=(s=(await On(mr(n,kt("periodStart",">=",at.fromDate(r.start.toDate())),kt("periodEnd","<=",at.fromDate(r.end.toDate())),pa("periodEnd","desc")))).docs[0])==null?void 0:s.data();return a?{revenue:a.revenue??0,costOfGoods:a.costOfGoods??0,operatingExpenses:a.operatingExpenses??0,netProfit:a.netProfit??0}:null},WOe=async(t,e,r)=>{const n=yr(qt,"workspaces",t,"organizations",e,"reports","cash_flow","entries");return(await On(mr(n,kt("date",">=",at.fromDate(r.start.toDate())),kt("date","<=",at.fromDate(r.end.toDate())),pa("date","asc")))).docs.map(a=>{var o,l;const s=a.data();return{label:Me(((l=(o=s.date)==null?void 0:o.toDate)==null?void 0:l.call(o))??new Date).format("MMM DD"),inflow:s.inflow??0,outflow:s.outflow??0,net:(s.inflow??0)-(s.outflow??0)}})},HOe=async(t,e,r)=>{const n=yr(qt,"workspaces",t,"organizations",e,"reports","expenses_by_category","entries"),i=await On(mr(n,kt("month",">=",r.start.format("YYYY-MM")),kt("month","<=",r.end.format("YYYY-MM")))),a=new Map;return i.docs.forEach(s=>{const o=s.data(),l=o.category??"uncategorized",u=o.amount??0;a.set(l,(a.get(l)??0)+u)}),Array.from(a.entries()).map(([s,o])=>({category:s,amount:o}))},qOe=async(t,e,r)=>{var s;const n=yr(qt,"workspaces",t,"organizations",e,"reports","tax_summary","entries"),a=(s=(await On(mr(n,kt("periodStart",">=",at.fromDate(r.start.toDate())),kt("periodEnd","<=",at.fromDate(r.end.toDate())),pa("periodEnd","desc")))).docs[0])==null?void 0:s.data();return a?{collected:a.collected??0,payable:a.payable??0,adjustments:a.adjustments??0}:null};Me.extend(UOe);const KOe=t=>{switch(t){case"60d":return{start:Me().subtract(59,"day"),end:Me()};case"quarter":return{start:Me().startOf("quarter"),end:Me().endOf("quarter")};case"ytd":return{start:Me().startOf("year"),end:Me()};case"30d":default:return{start:Me().subtract(29,"day"),end:Me()}}},GOe=t=>{const e=fn(),r=KOe(t.range);return yl({queryKey:["finance-reports",e.workspaceId,e.orgId,t.range],enabled:!e.loading,queryFn:async()=>{const[n,i,a,s]=await Promise.all([zOe(e.workspaceId,e.orgId,r),WOe(e.workspaceId,e.orgId,r),HOe(e.workspaceId,e.orgId,r),qOe(e.workspaceId,e.orgId,r)]);return{profitLoss:n,cashFlow:i,expensesByCategory:a,taxSummary:s}}})},YOe=({data:t})=>m.jsxs("div",{className:"glass-card p-6",children:[m.jsx("div",{className:"flex items-center justify-between mb-4",children:m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-semibold text-primary",children:"Profit & Loss"}),m.jsx("p",{className:"text-xs text-madas-text/60",children:"Summary of revenue, cost of goods and expenses."})]})}),t?m.jsxs("dl",{className:"space-y-3 text-sm",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("dt",{className:"text-madas-text/60",children:"Revenue"}),m.jsx("dd",{className:"font-semibold text-primary",children:it(t.revenue)})]}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("dt",{className:"text-madas-text/60",children:"Cost of goods sold"}),m.jsx("dd",{className:"font-semibold text-danger",children:it(t.costOfGoods)})]}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("dt",{className:"text-madas-text/60",children:"Operating expenses"}),m.jsx("dd",{className:"font-semibold text-danger",children:it(t.operatingExpenses)})]}),m.jsx("hr",{className:"border-primary/10"}),m.jsxs("div",{className:"flex items-center justify-between text-base",children:[m.jsx("dt",{className:"font-semibold text-primary",children:"Net profit"}),m.jsx("dd",{className:`font-semibold ${t.netProfit>=0?"text-primary":"text-danger"}`,children:it(t.netProfit)})]})]}):m.jsx("p",{className:"text-xs text-madas-text/60",children:"No profit & loss data available for this period."})]}),QOe=({data:t})=>m.jsxs("div",{className:"space-y-3",children:[m.jsx("div",{className:"flex items-center justify-between",children:m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-semibold text-primary",children:"Cash flow"}),m.jsx("p",{className:"text-xs text-madas-text/60",children:"Inflow, outflow and net position over the selected range."})]})}),m.jsx(Gm,{width:"100%",height:320,children:m.jsxs(tU,{data:t,children:[m.jsx(ty,{strokeDasharray:"4 4",stroke:"#E5E7EB"}),m.jsx(Xs,{dataKey:"label",tickLine:!1,axisLine:!1}),m.jsx(Zs,{tickFormatter:e=>it(e),tickLine:!1,axisLine:!1}),m.jsx(Kn,{formatter:e=>it(Number(e)),contentStyle:{borderRadius:"16px",border:"1px solid #E5E7EB"}}),m.jsx(ua,{}),m.jsx(rl,{type:"monotone",dataKey:"inflow",stroke:"#1B7C54",strokeWidth:2,dot:!1,name:"Inflow"}),m.jsx(rl,{type:"monotone",dataKey:"outflow",stroke:"#E03C31",strokeWidth:2,dot:!1,name:"Outflow"}),m.jsx(rl,{type:"monotone",dataKey:"net",stroke:"#FFD300",strokeWidth:3,dot:!1,name:"Net"})]})})]}),hD=["#27491F","#FFD300","#E03C31","#1B7C54","#2563EB","#7C3AED"],XOe=({data:t})=>m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-semibold text-primary",children:"Expenses by category"}),m.jsx("p",{className:"text-xs text-madas-text/60",children:"Distribution of expenses for the selected period."})]}),t.length?m.jsx(Gm,{width:"100%",height:280,children:m.jsxs(kTe,{children:[m.jsx(Qs,{data:t,dataKey:"amount",nameKey:"category",cx:"50%",cy:"50%",innerRadius:80,outerRadius:120,paddingAngle:4,children:t.map((e,r)=>m.jsx(tb,{fill:hD[r%hD.length]},e.category))}),m.jsx(Kn,{formatter:e=>it(Number(e))}),m.jsx(ua,{})]})}):m.jsx("p",{className:"text-xs text-madas-text/60",children:"No expense data available."})]}),r_=[{id:"30d",label:"Last 30 days"},{id:"60d",label:"Last 60 days"},{id:"quarter",label:"This quarter"},{id:"ytd",label:"Year to date"}],ZOe=({filters:t,onFiltersChange:e,onExport:r})=>{const n=r_.find(i=>i.id===t.range)??r_[0];return m.jsxs("div",{className:"glass-card flex flex-col gap-4 p-4 sm:flex-row sm:items-center sm:justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-madas-text/60",children:"Filters"}),m.jsx("p",{className:"text-sm text-madas-text/70",children:"Select a range and export data in CSV, PDF or XLSX."})]}),m.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[m.jsx(Cr,{value:n.id,onChange:i=>e({range:i}),children:m.jsxs("div",{className:"relative",children:[m.jsxs(Cr.Button,{className:"relative w-48 cursor-pointer rounded-2xl bg-white py-2 pl-3 pr-10 text-left text-sm font-semibold text-primary shadow focus:outline-none",children:[n.label,m.jsx("span",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3",children:m.jsx(Im,{className:"h-5 w-5 text-primary/70"})})]}),m.jsx(jt,{as:T.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:m.jsx(Cr.Options,{className:"absolute z-10 mt-2 max-h-60 w-full overflow-auto rounded-2xl bg-white py-1 text-sm shadow-lg ring-1 ring-black/5 focus:outline-none",children:r_.map(i=>m.jsx(Cr.Option,{value:i.id,className:({active:a})=>Be("cursor-pointer px-4 py-2",a?"bg-primary/10 text-primary":"text-madas-text"),children:i.label},i.id))})})]})}),m.jsxs("button",{onClick:r,className:"inline-flex items-center gap-2 rounded-2xl bg-primary px-4 py-2 text-sm font-semibold text-white hover:bg-primary/90 transition",children:[m.jsx(I8,{className:"h-4 w-4"})," Export"]})]})]})},JOe=({data:t})=>m.jsxs("div",{className:"glass-card p-6",children:[m.jsx("div",{className:"flex items-center justify-between",children:m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-semibold text-primary",children:"Tax summary"}),m.jsx("p",{className:"text-xs text-madas-text/60",children:"Collected vs payable tax for the selected range."})]})}),m.jsxs("div",{className:"mt-4 grid gap-3 text-sm",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-xs font-semibold uppercase text-madas-text/60",children:"Collected"}),m.jsx("p",{className:"text-base font-semibold text-primary",children:it((t==null?void 0:t.collected)??0)})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-xs font-semibold uppercase text-madas-text/60",children:"Payable"}),m.jsx("p",{className:"text-base font-semibold text-danger",children:it((t==null?void 0:t.payable)??0)})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-xs font-semibold uppercase text-madas-text/60",children:"Adjustments"}),m.jsx("p",{className:"text-base font-semibold text-primary",children:it((t==null?void 0:t.adjustments)??0)})]})]})]}),eIe=()=>{var n,i,a,s;const[t,e]=T.useState({range:"30d"}),r=GOe(t);return m.jsxs("section",{className:"space-y-6",children:[m.jsx("header",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:m.jsxs("div",{children:[m.jsx("h2",{className:"text-3xl font-bold text-primary",children:"Reports"}),m.jsx("p",{className:"text-sm text-madas-text/70",children:"Analyze profit & loss, cash flow, category spend and tax exposure. Export results in multiple formats."})]})}),m.jsx(ZOe,{filters:t,onFiltersChange:e,onExport:()=>r.refetch()}),m.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[m.jsx(YOe,{data:((n=r.data)==null?void 0:n.profitLoss)??null}),m.jsx(JOe,{data:((i=r.data)==null?void 0:i.taxSummary)??null})]}),m.jsx("div",{className:"glass-card p-6",children:m.jsx(QOe,{data:((a=r.data)==null?void 0:a.cashFlow)??[]})}),m.jsx("div",{className:"glass-card p-6",children:m.jsx(XOe,{data:((s=r.data)==null?void 0:s.expensesByCategory)??[]})})]})},tIe=()=>m.jsxs("section",{className:"space-y-6",children:[m.jsxs("header",{children:[m.jsx("h2",{className:"text-3xl font-bold text-primary",children:"Taxes"}),m.jsx("p",{className:"text-sm text-madas-text/70",children:"Configure VAT, generate summaries and stay compliant. Planned for Phase 5."})]}),m.jsx("div",{className:"glass-card p-6 text-sm text-madas-text/60",children:"Tax settings & reporting placeholder."})]}),rIe=()=>m.jsxs("section",{className:"space-y-6",children:[m.jsxs("header",{children:[m.jsx("h2",{className:"text-3xl font-bold text-primary",children:"Capital Return"}),m.jsx("p",{className:"text-sm text-madas-text/70",children:"Real-time capital tracking synced to scan-log events. Build scheduled for Phase 4."})]}),m.jsx("div",{className:"glass-card p-6 text-sm text-madas-text/60",children:"Capital graphs & metrics placeholder."})]}),nIe=()=>m.jsxs("section",{className:"space-y-6",children:[m.jsxs("header",{children:[m.jsx("h2",{className:"text-3xl font-bold text-primary",children:"Finance Settings"}),m.jsx("p",{className:"text-sm text-madas-text/70",children:"Tenant-level configuration for currency, fiscal year, tax defaults and permissions. Coming in Phase 5."})]}),m.jsx("div",{className:"glass-card p-6 text-sm text-madas-text/60",children:"Settings form placeholder."})]}),iIe=()=>m.jsxs("section",{className:"space-y-6",children:[m.jsxs("header",{children:[m.jsx("h2",{className:"text-3xl font-bold text-primary",children:"Audit Log"}),m.jsx("p",{className:"text-sm text-madas-text/70",children:"Trace every change across finance entities. Filter by module, user and date (Phase 5)."})]}),m.jsx("div",{className:"glass-card p-6 text-sm text-madas-text/60",children:"Audit log table placeholder."})]}),aIe=()=>{const t=Om(),[e,r]=T.useState(""),[n,i]=T.useState(""),[a,s]=T.useState(!1),[o,l]=T.useState(null),u=async d=>{d.preventDefault(),l(null),s(!0);try{await oY(Tv,AF),await sY(Tv,e.trim(),n),t("/overview",{replace:!0})}catch(h){let p="Unable to sign in. Please verify your credentials and try again.";h instanceof Ha&&(h.code==="auth/user-not-found"?p="No account found for this email address.":h.code==="auth/wrong-password"?p="Incorrect password. Please try again.":h.code==="auth/too-many-requests"&&(p="Too many attempts. Please wait a moment and try again.")),l(p),s(!1)}},c=Me().format("dddd, MMM D");return m.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#F2F7F2] via-white to-[#F7F5FF]",children:m.jsxs("div",{className:"flex min-h-screen flex-col lg:flex-row",children:[m.jsxs("div",{className:"flex flex-1 flex-col justify-between bg-primary text-white px-8 py-10 lg:px-14",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-white/15 text-2xl font-semibold",children:"MF"}),m.jsxs("div",{children:[m.jsx("h1",{className:"text-2xl font-semibold",children:"DIGIX Finance HQ"}),m.jsx("p",{className:"text-sm text-white/70",children:"Secure access for finance operators and controllers."})]})]}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"rounded-3xl bg-white/10 backdrop-blur-md p-6",children:[m.jsx("p",{className:"text-sm font-semibold uppercase tracking-wide text-white/70",children:"System health"}),m.jsxs("div",{className:"mt-4 grid gap-4 text-sm",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("span",{className:"text-white/70",children:"Realtime ledger sync"}),m.jsx("span",{className:"rounded-full bg-white/15 px-3 py-1 text-xs font-semibold",children:"Operational"})]}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("span",{className:"text-white/70",children:"Payments gateway"}),m.jsx("span",{className:"rounded-full bg-white/15 px-3 py-1 text-xs font-semibold",children:"Online"})]}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("span",{className:"text-white/70",children:"Last backup"}),m.jsxs("span",{children:[c,"  04:00 UTC"]})]})]})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-xs uppercase tracking-wide text-white/70",children:"Need assistance?"}),m.jsxs("p",{className:"mt-1 text-sm",children:["Email ",m.jsx("a",{href:"mailto:finance@madas.app",className:"underline",children:"finance@madas.app"})," or use"," ",m.jsx(J_,{to:"/support",className:"underline",children:"the support portal"}),"."]})]})]})]}),m.jsx("div",{className:"flex flex-1 items-center justify-center px-6 py-12 sm:px-10 lg:px-16",children:m.jsxs("div",{className:"w-full max-w-md space-y-8",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-primary/80",children:"Finance HQ Access"}),m.jsx("h2",{className:"mt-2 text-3xl font-bold text-primary",children:"Sign in to continue"}),m.jsx("p",{className:"mt-2 text-sm text-madas-text/70",children:"Use your DIGIX finance credentials. Your access is scoped to the tenant(s) configured by HQ."})]}),m.jsxs("form",{onSubmit:u,className:"space-y-6",children:[m.jsxs("div",{className:"space-y-1.5",children:[m.jsx("label",{htmlFor:"email",className:"text-xs font-semibold uppercase tracking-wide text-madas-text/60",children:"Work email"}),m.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e,onChange:d=>r(d.target.value),className:"w-full rounded-2xl border border-primary/10 bg-white px-4 py-3 text-sm shadow focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30",placeholder:"finance@company.com"})]}),m.jsxs("div",{className:"space-y-1.5",children:[m.jsx("label",{htmlFor:"password",className:"text-xs font-semibold uppercase tracking-wide text-madas-text/60",children:"Password"}),m.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:n,onChange:d=>i(d.target.value),className:"w-full rounded-2xl border border-primary/10 bg-white px-4 py-3 text-sm shadow focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30",placeholder:""}),m.jsxs("div",{className:"flex justify-between text-xs text-madas-text/60",children:[m.jsx(J_,{to:"/reset-password",className:"font-semibold text-primary hover:text-primary/80",children:"Forgot password?"}),m.jsx("span",{children:"SSO access coming soon"})]})]}),o?m.jsx("div",{className:"rounded-2xl border border-danger/20 bg-danger/10 px-4 py-3 text-sm text-danger",children:o}):null,m.jsx("button",{type:"submit",disabled:a,className:"w-full rounded-2xl bg-primary px-4 py-3 text-sm font-semibold text-white shadow-lg shadow-primary/30 transition hover:bg-primary/90 disabled:cursor-not-allowed disabled:opacity-60",children:a?"Signing in":"Sign in"})]}),m.jsxs("div",{className:"rounded-2xl border border-primary/10 bg-white px-5 py-4 text-xs text-madas-text/60",children:[m.jsx("p",{className:"font-semibold text-primary",children:"Security reminder"}),m.jsx("p",{className:"mt-1",children:"Access is monitored. Contact DIGIX HQ if you notice any unexpected activity or cannot access your tenant."})]})]})})]})})},sIe=P7([{path:"/login",element:m.jsx(aIe,{})},{path:"/",element:m.jsx(OJ,{}),children:[{index:!0,element:m.jsx(qI,{to:"overview",replace:!0})},{path:"overview",element:m.jsx($Te,{})},{path:"transactions",element:m.jsx(WPe,{})},{path:"payments",element:m.jsx(XPe,{})},{path:"expenses",element:m.jsx(fOe,{})},{path:"accounts",element:m.jsx(TOe,{})},{path:"budgets",element:m.jsx(VOe,{})},{path:"reports",element:m.jsx(eIe,{})},{path:"taxes",element:m.jsx(tIe,{})},{path:"capital",element:m.jsx(rIe,{})},{path:"settings",element:m.jsx(nIe,{})},{path:"audit",element:m.jsx(iIe,{})}]},{path:"*",element:m.jsx(qI,{to:"/",replace:!0})}],{basename:"/finance"}),oIe=new d8;n_.createRoot(document.getElementById("root")).render(m.jsx(M.StrictMode,{children:m.jsx(f8,{client:oIe,children:m.jsx(AJ,{children:m.jsx(TJ,{children:m.jsx(D7,{router:sIe})})})})}));
